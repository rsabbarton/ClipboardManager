if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse"}}),Element.prototype.setPointerCapture){let Vs=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(t){if(Vs.call(this,t),!1!==this.hasPointerCapture(t)){{let e,i,s,n=!1,o=!1,h=()=>{this.removeEventListener("pointerup",e),this.removeEventListener("pointercancel",i),this.removeEventListener("lostpointercapture",s)};this.addEventListener("pointerup",e=e=>{e.pointerId===t&&(n=!0,h())}),this.addEventListener("pointercancel",i=e=>{e.pointerId===t&&(o=!0,h())}),this.addEventListener("lostpointercapture",s=e=>{if(e.pointerId===t&&(h(),!1===n&&!1===o)){let e=new PointerEvent("pointercancel",{pointerId:t});this.dispatchEvent(e)}})}{let e,i,s=`* {cursor: ${getComputedStyle(this).cursor} !important; user-select: none !important; -webkit-user-select: none !important;}`,n=[];for(let t=this.parentNode||this.host;t&&t!==document;t=t.parentNode||t.host)if(t.nodeType===document.DOCUMENT_FRAGMENT_NODE){let e=document.createElementNS(t.host.namespaceURI,"style");e.textContent=s,t.append(e),n.push(e)}else if(t.nodeType===document.DOCUMENT_NODE){let e=document.createElement("style");e.textContent=s,t.head.append(e),n.push(e)}this.addEventListener("lostpointercapture",e=s=>{if(s.pointerId===t){this.removeEventListener("lostpointercapture",e),window.removeEventListener("pointerup",i,!0);for(let t of n)t.remove()}}),window.addEventListener("pointerup",i=s=>{if(s.pointerId===t){this.removeEventListener("lostpointercapture",e),window.removeEventListener("pointerup",i,!0);for(let t of n)t.remove()}},!0)}}}}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,i){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,i)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function s(t,n,o){return s=i()?Reflect.construct:function(t,i,s){var n=[null];n.push.apply(n,i);var o=new(Function.bind.apply(t,n));return s&&e(o,s.prototype),o},s.apply(null,arguments)}function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}Object.defineProperty(Animation.prototype,"finished",{get(){return new Promise((t=>{"finished"===this.playState?t():this.addEventListener("finish",(()=>t()),{once:!0})}))}}),window.requestIdleCallback||(window.requestIdleCallback=(t,e={})=>{let i=e.timeout||1,s=performance.now();return setTimeout((()=>{t({get didTimeout(){return!e.timeout&&performance.now()-s-1>i},timeRemaining:()=>Math.max(0,performance.now()-s+1)})}),1)}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t)}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild)}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this)}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling)}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this)});var h=Object.hasOwnProperty,r=Object.setPrototypeOf,a=Object.isFrozen,l=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,d=Object.freeze,u=Object.seal,p=Object.create,m="undefined"!=typeof Reflect&&Reflect,b=m.apply,g=m.construct;b||(b=function(t,e,i){return t.apply(e,i)}),d||(d=function(t){return t}),u||(u=function(t){return t}),g||(g=function(t,e){return s(t,n(e))});var f,x=A(Array.prototype.forEach),w=A(Array.prototype.pop),v=A(Array.prototype.push),y=A(String.prototype.toLowerCase),k=A(String.prototype.match),C=A(String.prototype.replace),E=A(String.prototype.indexOf),S=A(String.prototype.trim),z=A(RegExp.prototype.test),M=(f=TypeError,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return g(f,e)});function A(t){return function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return b(t,e,s)}}function $(t,e,i){i=i||y,r&&r(t,null);for(var s=e.length;s--;){var n=e[s];if("string"==typeof n){var o=i(n);o!==n&&(a(e)||(e[s]=o),n=o)}t[n]=!0}return t}function L(t){var e,i=p(null);for(e in t)b(h,t,[e])&&(i[e]=t[e]);return i}function T(t,e){for(;null!==t;){var i=c(t,e);if(i){if(i.get)return A(i.get);if("function"==typeof i.value)return A(i.value)}t=l(t)}return function(t){return console.warn("fallback value for",t),null}}var D=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F=d(["#text"]),N=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),H=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),q=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),U=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Z=u(/<%[\w\W]*|[\w\W]*%>/gm),X=u(/^data-[\-\w.\u00B7-\uFFFF]/),V=u(/^aria-[\-\w]+$/),G=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=u(/^(?:\w+script|data):/i),K=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_=u(/^html$/i),W=function(){return"undefined"==typeof window?null:window},J=function(e,i){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var s=null,n="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(n)&&(s=i.currentScript.getAttribute(n));var o="dompurify"+(s?"#"+s:"");try{return e.createPolicy(o,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};var Q=function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W(),s=function(t){return e(t)};if(s.version="2.4.0",s.removed=[],!i||!i.document||9!==i.document.nodeType)return s.isSupported=!1,s;var o=i.document,h=i.document,r=i.DocumentFragment,a=i.HTMLTemplateElement,l=i.Node,c=i.Element,u=i.NodeFilter,p=i.NamedNodeMap,m=void 0===p?i.NamedNodeMap||i.MozNamedAttrMap:p,b=i.HTMLFormElement,g=i.DOMParser,f=i.trustedTypes,A=c.prototype,Q=T(A,"cloneNode"),tt=T(A,"nextSibling"),et=T(A,"childNodes"),it=T(A,"parentNode");if("function"==typeof a){var st=h.createElement("template");st.content&&st.content.ownerDocument&&(h=st.content.ownerDocument)}var nt=J(f,o),ot=nt?nt.createHTML(""):"",ht=h,rt=ht.implementation,at=ht.createNodeIterator,lt=ht.createDocumentFragment,ct=ht.getElementsByTagName,dt=o.importNode,ut={};try{ut=L(h).documentMode?h.documentMode:{}}catch(t){}var pt={};s.isSupported="function"==typeof it&&rt&&void 0!==rt.createHTMLDocument&&9!==ut;var mt,bt,gt=U,ft=Z,xt=X,wt=V,vt=Y,yt=K,kt=G,Ct=null,Et=$({},[].concat(n(D),n(R),n(P),n(O),n(F))),St=null,zt=$({},[].concat(n(N),n(H),n(j),n(q))),Mt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),At=null,$t=null,Lt=!0,Tt=!0,Dt=!1,Rt=!1,Pt=!1,It=!1,Ot=!1,Bt=!1,Ft=!1,Nt=!1,Ht=!0,jt=!1,qt="user-content-",Ut=!0,Zt=!1,Xt={},Vt=null,Gt=$({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Yt=null,Kt=$({},["audio","video","img","source","image","track"]),_t=null,Wt=$({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Jt="http://www.w3.org/1998/Math/MathML",Qt="http://www.w3.org/2000/svg",te="http://www.w3.org/1999/xhtml",ee=te,ie=!1,se=["application/xhtml+xml","text/html"],ne="text/html",oe=null,he=h.createElement("form"),re=function(t){return t instanceof RegExp||t instanceof Function},ae=function(e){oe&&oe===e||(e&&"object"===t(e)||(e={}),e=L(e),mt=mt=-1===se.indexOf(e.PARSER_MEDIA_TYPE)?ne:e.PARSER_MEDIA_TYPE,bt="application/xhtml+xml"===mt?function(t){return t}:y,Ct="ALLOWED_TAGS"in e?$({},e.ALLOWED_TAGS,bt):Et,St="ALLOWED_ATTR"in e?$({},e.ALLOWED_ATTR,bt):zt,_t="ADD_URI_SAFE_ATTR"in e?$(L(Wt),e.ADD_URI_SAFE_ATTR,bt):Wt,Yt="ADD_DATA_URI_TAGS"in e?$(L(Kt),e.ADD_DATA_URI_TAGS,bt):Kt,Vt="FORBID_CONTENTS"in e?$({},e.FORBID_CONTENTS,bt):Gt,At="FORBID_TAGS"in e?$({},e.FORBID_TAGS,bt):{},$t="FORBID_ATTR"in e?$({},e.FORBID_ATTR,bt):{},Xt="USE_PROFILES"in e&&e.USE_PROFILES,Lt=!1!==e.ALLOW_ARIA_ATTR,Tt=!1!==e.ALLOW_DATA_ATTR,Dt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Rt=e.SAFE_FOR_TEMPLATES||!1,Pt=e.WHOLE_DOCUMENT||!1,Bt=e.RETURN_DOM||!1,Ft=e.RETURN_DOM_FRAGMENT||!1,Nt=e.RETURN_TRUSTED_TYPE||!1,Ot=e.FORCE_BODY||!1,Ht=!1!==e.SANITIZE_DOM,jt=e.SANITIZE_NAMED_PROPS||!1,Ut=!1!==e.KEEP_CONTENT,Zt=e.IN_PLACE||!1,kt=e.ALLOWED_URI_REGEXP||kt,ee=e.NAMESPACE||te,e.CUSTOM_ELEMENT_HANDLING&&re(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Mt.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&re(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Mt.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Mt.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Rt&&(Tt=!1),Ft&&(Bt=!0),Xt&&(Ct=$({},n(F)),St=[],!0===Xt.html&&($(Ct,D),$(St,N)),!0===Xt.svg&&($(Ct,R),$(St,H),$(St,q)),!0===Xt.svgFilters&&($(Ct,P),$(St,H),$(St,q)),!0===Xt.mathMl&&($(Ct,O),$(St,j),$(St,q))),e.ADD_TAGS&&(Ct===Et&&(Ct=L(Ct)),$(Ct,e.ADD_TAGS,bt)),e.ADD_ATTR&&(St===zt&&(St=L(St)),$(St,e.ADD_ATTR,bt)),e.ADD_URI_SAFE_ATTR&&$(_t,e.ADD_URI_SAFE_ATTR,bt),e.FORBID_CONTENTS&&(Vt===Gt&&(Vt=L(Vt)),$(Vt,e.FORBID_CONTENTS,bt)),Ut&&(Ct["#text"]=!0),Pt&&$(Ct,["html","head","body"]),Ct.table&&($(Ct,["tbody"]),delete At.tbody),d&&d(e),oe=e)},le=$({},["mi","mo","mn","ms","mtext"]),ce=$({},["foreignobject","desc","title","annotation-xml"]),de=$({},["title","style","font","a","script"]),ue=$({},R);$(ue,P),$(ue,I);var pe=$({},O);$(pe,B);var me=function(t){var e=it(t);e&&e.tagName||(e={namespaceURI:te,tagName:"template"});var i=y(t.tagName),s=y(e.tagName);return t.namespaceURI===Qt?e.namespaceURI===te?"svg"===i:e.namespaceURI===Jt?"svg"===i&&("annotation-xml"===s||le[s]):Boolean(ue[i]):t.namespaceURI===Jt?e.namespaceURI===te?"math"===i:e.namespaceURI===Qt?"math"===i&&ce[s]:Boolean(pe[i]):t.namespaceURI===te&&(!(e.namespaceURI===Qt&&!ce[s])&&(!(e.namespaceURI===Jt&&!le[s])&&(!pe[i]&&(de[i]||!ue[i]))))},be=function(t){v(s.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=ot}catch(e){t.remove()}}},ge=function(t,e){try{v(s.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){v(s.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!St[t])if(Bt||Ft)try{be(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},fe=function(t){var e,i;if(Ot)t="<remove></remove>"+t;else{var s=k(t,/^[\r\n\t ]+/);i=s&&s[0]}"application/xhtml+xml"===mt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var n=nt?nt.createHTML(t):t;if(ee===te)try{e=(new g).parseFromString(n,mt)}catch(t){}if(!e||!e.documentElement){e=rt.createDocument(ee,"template",null);try{e.documentElement.innerHTML=ie?"":n}catch(t){}}var o=e.body||e.documentElement;return t&&i&&o.insertBefore(h.createTextNode(i),o.childNodes[0]||null),ee===te?ct.call(e,Pt?"html":"body")[0]:Pt?e.documentElement:o},xe=function(t){return at.call(t.ownerDocument||t,t,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},we=function(t){return t instanceof b&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof m)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},ve=function(e){return"object"===t(l)?e instanceof l:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ye=function(t,e,i){pt[t]&&x(pt[t],(function(t){t.call(s,e,i,oe)}))},ke=function(t){var e;if(ye("beforeSanitizeElements",t,null),we(t))return be(t),!0;if(z(/[\u0080-\uFFFF]/,t.nodeName))return be(t),!0;var i=bt(t.nodeName);if(ye("uponSanitizeElement",t,{tagName:i,allowedTags:Ct}),t.hasChildNodes()&&!ve(t.firstElementChild)&&(!ve(t.content)||!ve(t.content.firstElementChild))&&z(/<[/\w]/g,t.innerHTML)&&z(/<[/\w]/g,t.textContent))return be(t),!0;if("select"===i&&z(/<template/i,t.innerHTML))return be(t),!0;if(!Ct[i]||At[i]){if(!At[i]&&Ee(i)){if(Mt.tagNameCheck instanceof RegExp&&z(Mt.tagNameCheck,i))return!1;if(Mt.tagNameCheck instanceof Function&&Mt.tagNameCheck(i))return!1}if(Ut&&!Vt[i]){var n=it(t)||t.parentNode,o=et(t)||t.childNodes;if(o&&n)for(var h=o.length-1;h>=0;--h)n.insertBefore(Q(o[h],!0),tt(t))}return be(t),!0}return t instanceof c&&!me(t)?(be(t),!0):"noscript"!==i&&"noembed"!==i||!z(/<\/no(script|embed)/i,t.innerHTML)?(Rt&&3===t.nodeType&&(e=t.textContent,e=C(e,gt," "),e=C(e,ft," "),t.textContent!==e&&(v(s.removed,{element:t.cloneNode()}),t.textContent=e)),ye("afterSanitizeElements",t,null),!1):(be(t),!0)},Ce=function(t,e,i){if(Ht&&("id"===e||"name"===e)&&(i in h||i in he))return!1;if(Tt&&!$t[e]&&z(xt,e));else if(Lt&&z(wt,e));else if(!St[e]||$t[e]){if(!(Ee(t)&&(Mt.tagNameCheck instanceof RegExp&&z(Mt.tagNameCheck,t)||Mt.tagNameCheck instanceof Function&&Mt.tagNameCheck(t))&&(Mt.attributeNameCheck instanceof RegExp&&z(Mt.attributeNameCheck,e)||Mt.attributeNameCheck instanceof Function&&Mt.attributeNameCheck(e))||"is"===e&&Mt.allowCustomizedBuiltInElements&&(Mt.tagNameCheck instanceof RegExp&&z(Mt.tagNameCheck,i)||Mt.tagNameCheck instanceof Function&&Mt.tagNameCheck(i))))return!1}else if(_t[e]);else if(z(kt,C(i,yt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==E(i,"data:")||!Yt[t]){if(Dt&&!z(vt,C(i,yt,"")));else if(i)return!1}else;return!0},Ee=function(t){return t.indexOf("-")>0},Se=function(e){var i,n,o,h;ye("beforeSanitizeAttributes",e,null);var r=e.attributes;if(r){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:St};for(h=r.length;h--;){var l=i=r[h],c=l.name,d=l.namespaceURI;if(n="value"===c?i.value:S(i.value),o=bt(c),a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,ye("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr&&(ge(c,e),a.keepAttr))if(z(/\/>/i,n))ge(c,e);else{Rt&&(n=C(n,gt," "),n=C(n,ft," "));var u=bt(e.nodeName);if(Ce(u,o,n)){if(!jt||"id"!==o&&"name"!==o||(ge(c,e),n=qt+n),nt&&"object"===t(f)&&"function"==typeof f.getAttributeType)if(d);else switch(f.getAttributeType(u,o)){case"TrustedHTML":n=nt.createHTML(n);break;case"TrustedScriptURL":n=nt.createScriptURL(n)}try{d?e.setAttributeNS(d,c,n):e.setAttribute(c,n),w(s.removed)}catch(t){}}}}ye("afterSanitizeAttributes",e,null)}},ze=function t(e){var i,s=xe(e);for(ye("beforeSanitizeShadowDOM",e,null);i=s.nextNode();)ye("uponSanitizeShadowNode",i,null),ke(i)||(i.content instanceof r&&t(i.content),Se(i));ye("afterSanitizeShadowDOM",e,null)};return s.sanitize=function(e){var n,h,a,c,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ie=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!ve(e)){if("function"!=typeof e.toString)throw M("toString is not a function");if("string"!=typeof(e=e.toString()))throw M("dirty is not a string, aborting")}if(!s.isSupported){if("object"===t(i.toStaticHTML)||"function"==typeof i.toStaticHTML){if("string"==typeof e)return i.toStaticHTML(e);if(ve(e))return i.toStaticHTML(e.outerHTML)}return e}if(It||ae(u),s.removed=[],"string"==typeof e&&(Zt=!1),Zt){if(e.nodeName){var p=bt(e.nodeName);if(!Ct[p]||At[p])throw M("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)1===(h=(n=fe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===h.nodeName||"HTML"===h.nodeName?n=h:n.appendChild(h);else{if(!Bt&&!Rt&&!Pt&&-1===e.indexOf("<"))return nt&&Nt?nt.createHTML(e):e;if(!(n=fe(e)))return Bt?null:Nt?ot:""}n&&Ot&&be(n.firstChild);for(var m=xe(Zt?e:n);a=m.nextNode();)3===a.nodeType&&a===c||ke(a)||(a.content instanceof r&&ze(a.content),Se(a),c=a);if(c=null,Zt)return e;if(Bt){if(Ft)for(d=lt.call(n.ownerDocument);n.firstChild;)d.appendChild(n.firstChild);else d=n;return St.shadowroot&&(d=dt.call(o,d,!0)),d}var b=Pt?n.outerHTML:n.innerHTML;return Pt&&Ct["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&z(_,n.ownerDocument.doctype.name)&&(b="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+b),Rt&&(b=C(b,gt," "),b=C(b,ft," ")),nt&&Nt?nt.createHTML(b):b},s.setConfig=function(t){ae(t),It=!0},s.clearConfig=function(){oe=null,It=!1},s.isValidAttribute=function(t,e,i){oe||ae({});var s=bt(t),n=bt(e);return Ce(s,n,i)},s.addHook=function(t,e){"function"==typeof e&&(pt[t]=pt[t]||[],v(pt[t],e))},s.removeHook=function(t){if(pt[t])return w(pt[t])},s.removeHooks=function(t){pt[t]&&(pt[t]=[])},s.removeAllHooks=function(){pt={}},s}();let tt=(t,e,i=!1)=>{if(t.length!==e.length)return!1;if(i)for(let i in t){if(t[i]!==e[i])return!1}else{for(let i=0;i<t.length;i+=1)if(!e.includes(t[i]))return!1;for(let i=0;i<e.length;i+=1)if(!t.includes(e[i]))return!1}return!0};function et(t,e){let i=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map((t=>[t])));let s=e[0].length,n=e[0].map(((t,i)=>e.map((t=>t[i])))),o=t.map((t=>n.map((e=>{let i=0;if(!Array.isArray(t)){for(let s of e)i+=t*s;return i}for(let s=0;s<t.length;s++)i+=t[s]*(e[s]||0);return i}))));return 1===i&&(o=o[0]),1===s?o.map((t=>t[0])):o}function it(t){return"string"===st(t)}function st(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function nt(t,e){t=+t,e=+e;let i=(Math.floor(t)+"").length;if(e>i)return+t.toFixed(e-i);{let s=10**(i-e);return Math.round(t/s)*s}}function ot(t,e,i){return s=e[0],n=e[1],o=function(t,e,i){return(i-t)/(e-t)}(t[0],t[1],i),isNaN(s)?n:isNaN(n)?s:s+(n-s)*o;var s,n,o}const ht=new class{add(t,e,i){if("string"==typeof arguments[0])(Array.isArray(t)?t:[t]).forEach((function(t){this[t]=this[t]||[],e&&this[t][i?"unshift":"push"](e)}),this);else for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1])}run(t,e){this[t]=this[t]||[],this[t].forEach((function(t){t.call(e&&e.context?e.context:e,e)}))}},rt={D50:[.3457/.3585,1,.2958/.3585],D65:[.3127/.329,1,.3583/.329]};function at(t){return Array.isArray(t)?t:rt[t]}function lt(t,e,i,s={}){if(t=at(t),e=at(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${t||e?"":"/"}${e?"":"to"}`);if(t===e)return i;let n={W1:t,W2:e,XYZ:i,options:s};if(ht.run("chromatic-adaptation-start",n),n.M||(n.W1===rt.D65&&n.W2===rt.D50?n.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:n.W1===rt.D50&&n.W2===rt.D65&&(n.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),ht.run("chromatic-adaptation-end",n),n.M)return et(n.M,n.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}class ct{constructor(t){this.id=t.id,this.name=t.name,this.base=t.base?ct.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let e=t.coords??this.base.coords;for(let t in e)"name"in e[t]||(e[t].name=t);this.coords=e;let i=t.white??this.base.white??"D65";this.white=at(i),this.formats=t.formats??{};for(let t in this.formats){let e=this.formats[t];e.type||="function",e.name||=t}t.cssId&&!this.formats.functions?.color?(this.formats.color={id:t.cssId},Object.defineProperty(this,"cssId",{value:t.cssId})):this.formats?.color&&!this.formats?.color.id&&(this.formats.color.id=this.id),this.referred=t.referred,Object.defineProperty(this,"path",{value:dt(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),ht.run("colorspace-init-end",this)}inGamut(t,{epsilon:e=75e-6}={}){if(this.isPolar)return t=this.toBase(t),this.base.inGamut(t,{epsilon:e});let i=Object.values(this.coords);return t.every(((t,s)=>{let n=i[s];if("angle"!==n.type&&n.range){if(Number.isNaN(t))return!0;let[i,s]=n.range;return(void 0===i||t>=i-e)&&(void 0===s||t<=s+e)}return!0}))}get cssId(){return this.formats.functions?.color?.id||this.id}get isPolar(){for(let t in this.coords)if("angle"===this.coords[t].type)return!0;return!1}getFormat(t){if("object"==typeof t)return t=ut(t,this);let e;return e="default"===t?Object.values(this.formats)[0]:this.formats[t],e?(e=ut(e,this),e):null}equals(t){return!!t&&(this===t||this.id===t.id)}to(t,e){if(1===arguments.length&&([t,e]=[t.space,t.coords]),t=ct.get(t),this.equals(t))return e;e=e.map((t=>Number.isNaN(t)?0:t));let i,s,n=this.path,o=t.path;for(let t=0;t<n.length&&n[t].equals(o[t]);t++)i=n[t],s=t;if(!i)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let t=n.length-1;t>s;t--)e=n[t].toBase(e);for(let t=s+1;t<o.length;t++)e=o[t].fromBase(e);return e}from(t,e){return 1===arguments.length&&([t,e]=[t.space,t.coords]),(t=ct.get(t)).to(this,e)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let e in this.coords){let i=this.coords[e],s=i.range||i.refRange;t.push(s?.min??0)}return t}static registry={};static get all(){return[...new Set(Object.values(ct.registry))]}static register(t,e){if(1===arguments.length&&(t=(e=arguments[0]).id),e=this.get(e),this.registry[t]&&this.registry[t]!==e)throw new Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=e,1===arguments.length&&e.aliases)for(let t of e.aliases)this.register(t,e);return e}static get(t,...e){if(!t||t instanceof ct)return t;if("string"===st(t)){let e=ct.registry[t.toLowerCase()];if(!e)throw new TypeError(`No color space found with id = "${t}"`);return e}if(e.length)return ct.get(...e);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,e){let i,s,n=st(t);if("string"===n?t.includes(".")?[i,s]=t.split("."):[i,s]=[,t]:Array.isArray(t)?[i,s]=t:(i=t.space,s=t.coordId),i=ct.get(i),i||(i=e),!i)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(n=st(s),"number"===n||"string"===n&&s>=0){let t=Object.entries(i.coords)[s];if(t)return{space:i,id:t[0],index:s,...t[1]}}i=ct.get(i);let o=s.toLowerCase(),h=0;for(let t in i.coords){let e=i.coords[t];if(t.toLowerCase()===o||e.name?.toLowerCase()===o)return{space:i,id:t,index:h,...e};h++}throw new TypeError(`No "${s}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}function dt(t){let e=[t];for(let i=t;i=i.base;)e.push(i);return e}function ut(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||="function",t.name||="color",t.coordGrammar=t.coords.map((t=>t.split("|").map((t=>{let e=(t=t.trim()).match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(e){let t=new String(e[1]);return t.range=[+e[2],+e[3]],t}return t}))));let i=Object.entries(e).map((([e,i],s)=>{let n=t.coordGrammar[s][0],o=i.range||i.refRange,h=n.range,r="";return"<percentage>"==n?(h=[0,100],r="%"):"<angle>"==n&&(r="deg"),{fromRange:o,toRange:h,suffix:r}}));t.serializeCoords=(t,e)=>t.map(((t,s)=>{let{fromRange:n,toRange:o,suffix:h}=i[s];return n&&o&&(t=ot(n,o,t)),t=nt(t,e),h&&(t+=h),t}))}return t}function pt(t,{meta:e}={}){let i={str:String(t)?.trim()};if(ht.run("parse-start",i),i.color)return i.color;if(i.parsed=function(t){if(!t)return;t=t.trim();const e=/^-?[\d.]+$/;let i=t.match(/^([a-z]+)\((.+?)\)$/i);if(i){let t=[];return i[2].replace(/\/?\s*([-\w.]+(?:%|deg)?)/g,((i,s)=>{/%$/.test(s)?(s=new Number(s.slice(0,-1)/100)).type="<percentage>":/deg$/.test(s)?((s=new Number(+s.slice(0,-3))).type="<angle>",s.unit="deg"):e.test(s)&&((s=new Number(s)).type="<number>"),i.startsWith("/")&&((s=s instanceof Number?s:new Number(s)).alpha=!0),t.push(s)})),{name:i[1].toLowerCase(),rawName:i[1],rawArgs:i[2],args:t}}}(i.str),i.parsed){let t=i.parsed.name;if("color"===t){let t=i.parsed.args.shift(),s=i.parsed.rawArgs.indexOf("/")>0?i.parsed.args.pop():1;for(let n of ct.all){let o=n.getFormat("color");if(o&&(t===o.id||o.ids?.includes(t))){const t=Object.keys(n.coords).map(((t,e)=>i.parsed.args[e]||0));return e&&(e.formatId="color"),{spaceId:n.id,coords:t,alpha:s}}}let n="";if(t in ct.registry){let e=ct.registry[t].formats?.functions?.color?.id;e&&(n=`Did you mean color(${e})?`)}throw new TypeError(`Cannot parse color(${t}). `+(n||"Missing a plugin?"))}for(let n of ct.all){let o=n.getFormat(t);if(o&&"function"===o.type){let h=1;(o.lastAlpha||(s=i.parsed.args,s[s.length-1]).alpha)&&(h=i.parsed.args.pop());let r,a=i.parsed.args;return o.coordGrammar&&(r=Object.entries(n.coords).map((([e,i],s)=>{let n=o.coordGrammar[s],h=a[s]?.type,r=n.find((t=>t==h));if(!r){let s=i.name||e;throw new TypeError(`${h} not allowed for ${s} in ${t}()`)}let l=r.range;"<percentage>"===h&&(l||=[0,1]);let c=i.range||i.refRange;return l&&c&&(a[s]=ot(l,c,a[s])),r}))),e&&Object.assign(e,{formatId:o.name,types:r}),{spaceId:n.id,coords:a,alpha:h}}}}else for(let t of ct.all)for(let s in t.formats){let n=t.formats[s];if("custom"!==n.type)continue;if(n.test&&!n.test(i.str))continue;let o=n.parse(i.str);if(o)return o.alpha??=1,e&&(e.formatId=s),o}var s;throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function mt(t){if(!t)throw new TypeError("Empty color reference");it(t)&&(t=pt(t));let e=t.space||t.spaceId;return e instanceof ct||(t.space=ct.get(e)),void 0===t.alpha&&(t.alpha=1),t}var bt="lch.c",gt=5,ft=new ct({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),xt=new ct({id:"xyz-d50",name:"XYZ D50",white:"D50",base:ft,fromBase:t=>lt(ft.white,"D50",t),toBase:t=>lt("D50",ft.white,t),formats:{color:{}}});const wt=24/116,vt=24389/27;let yt=rt.D50;var kt=new ct({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:yt,base:xt,fromBase(t){let e=t.map(((t,e)=>t/yt[e])).map((t=>t>.008856451679035631?Math.cbrt(t):(vt*t+16)/116));return[116*e[1]-16,500*(e[0]-e[1]),200*(e[1]-e[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>wt?Math.pow(e[0],3):(116*e[0]-16)/vt,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/vt,e[2]>wt?Math.pow(e[2],3):(116*e[2]-16)/vt].map(((t,e)=>t*yt[e]))},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Ct(t){return(t%360+360)%360}var Et=new ct({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:kt,fromBase(t){let e,[i,s,n]=t;return e=Math.abs(s)<.02&&Math.abs(n)<.02?NaN:180*Math.atan2(n,s)/Math.PI,[i,Math.sqrt(s**2+n**2),Ct(e)]},toBase(t){let[e,i,s]=t;return i<0&&(i=0),isNaN(s)&&(s=0),[e,i*Math.cos(s*Math.PI/180),i*Math.sin(s*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const St=Math.PI,zt=180/St,Mt=St/180;function At(t,e,{kL:i=1,kC:s=1,kH:n=1}={}){let[o,h,r]=kt.from(t),a=Et.from(kt,[o,h,r])[1],[l,c,d]=kt.from(e),u=Et.from(kt,[l,c,d])[1];a<0&&(a=0),u<0&&(u=0);let p=((a+u)/2)**7,m=.5*(1-Math.sqrt(p/(p+6103515625))),b=(1+m)*h,g=(1+m)*c,f=Math.sqrt(b**2+r**2),x=Math.sqrt(g**2+d**2),w=0===b&&0===r?0:Math.atan2(r,b),v=0===g&&0===d?0:Math.atan2(d,g);w<0&&(w+=2*St),v<0&&(v+=2*St),w*=zt,v*=zt;let y,k=l-o,C=x-f,E=v-w,S=w+v,z=Math.abs(E);f*x==0?y=0:z<=180?y=E:E>180?y=E-360:E<-180?y=E+360:console.log("the unthinkable has happened");let M,A=2*Math.sqrt(x*f)*Math.sin(y*Mt/2),$=(o+l)/2,L=(f+x)/2,T=Math.pow(L,7);M=f*x==0?S:z<=180?S/2:S<360?(S+360)/2:(S-360)/2;let D=($-50)**2,R=1+.015*D/Math.sqrt(20+D),P=1+.045*L,I=1;I-=.17*Math.cos((M-30)*Mt),I+=.24*Math.cos(2*M*Mt),I+=.32*Math.cos((3*M+6)*Mt),I-=.2*Math.cos((4*M-63)*Mt);let O=1+.015*L*I,B=30*Math.exp(-1*((M-275)/25)**2),F=2*Math.sqrt(T/(T+6103515625)),N=(k/(i*R))**2;return N+=(C/(s*P))**2,N+=(A/(n*O))**2,N+=-1*Math.sin(2*B*Mt)*F*(C/(s*P))*(A/(n*O)),Math.sqrt(N)}function $t(t,e=t.space,{epsilon:i=75e-6}={}){t=mt(t),e=ct.get(e);let s=t.coords;return e!==t.space&&(s=e.from(t)),e.inGamut(s,{epsilon:i})}function Lt(t,e){return(e=ct.get(e)).from(t)}function Tt(t,e){let{space:i,index:s}=ct.resolveCoord(e,t.space);return Lt(t,i)[s]}function Dt(t,e,i){return e=ct.get(e),t.coords=e.to(t.space,i),t}function Rt(t,e,i){if(t=mt(t),2===arguments.length&&"object"===st(arguments[1])){let e=arguments[1];for(let i in e)Rt(t,i,e[i])}else{"function"==typeof i&&(i=i(Tt(t,e)));let{space:s,index:n}=ct.resolveCoord(e,t.space),o=Lt(t,s);o[n]=i,Dt(t,s,o)}return t}function Pt(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function It(t,{method:e=bt,space:i=t.space}={}){if(it(arguments[1])&&(i=arguments[1]),$t(t,i=ct.get(i),{epsilon:0}))return mt(t);let s=Ot(t,i);if("clip"!==e&&!$t(t,i)){let n=It(Pt(s),{method:"clip",space:i});if(At(t,n)>2){let t=ct.resolveCoord(e),n=t.space,o=t.id,h=Ot(s,n),r=.01,a=(t.range||t.refRange)[0],l=Tt(h,o);for(;l-a>r;){let t=Pt(h);t=It(t,{space:i,method:"clip"}),At(h,t)-2<r?a=Tt(h,o):l=Tt(h,o),Rt(h,o,(a+l)/2)}s=Ot(h,i)}else s=n}if("clip"===e||!$t(s,i,{epsilon:0})){let t=Object.values(i.coords).map((t=>t.range||[]));s.coords=s.coords.map(((e,i)=>{let[s,n]=t[i];return void 0!==s&&(e=Math.max(s,e)),void 0!==n&&(e=Math.min(e,n)),e}))}return i!==t.space&&(s=Ot(s,t.space)),t.coords=s.coords,t}function Ot(t,e,{inGamut:i}={}){t=mt(t);let s=(e=ct.get(e)).from(t),n={space:e,coords:s,alpha:t.alpha};return i&&(n=It(n)),n}function Bt(t,{precision:e=gt,format:i="default",inGamut:s=!0,...n}={}){let o,h=i;i=(t=mt(t)).space.getFormat(i)??t.space.getFormat("default")??ct.DEFAULT_FORMAT,s||=i.toGamut;let r=t.coords;if(r=r.map((t=>t||0)),s&&!$t(t)&&(r=It(Pt(t),!0===s?void 0:s).coords),"custom"===i.type){if(n.precision=e,!i.serialize)throw new TypeError(`format ${h} can only be used to parse colors, not for serialization`);o=i.serialize(r,t.alpha,n)}else{let s=i.name||"color";i.serializeCoords?r=i.serializeCoords(r,e):null!==e&&(r=r.map((t=>nt(t,e))));let n=[...r];if("color"===s){let e=i.id||i.ids?.[0]||t.space.id;n.unshift(e)}let h=t.alpha;null!==e&&(h=nt(h,e));let a=t.alpha<1&&!i.noAlpha?`${i.commas?",":" /"} ${h}`:"";o=`${s}(${n.join(i.commas?", ":" ")}${a})`}return o}It.returns="color",Ot.returns="color";let{max:Ft,pow:Nt,sqrt:Ht,PI:jt}=Math,qt=(t,e=0)=>{let i=Nt(10,e);return Math.round(t*i)/i},Ut=(t,e=0)=>new DOMRect(qt(t.x,e),qt(t.y,e),qt(t.width,e),qt(t.height,e)),Zt=(t,e,i=Infinity,s=null)=>(null!==s&&(t=qt(t,s)),t<e?t=e:t>i&&(t=i),t),Xt=(t,e)=>{t=+t,e=+e;let i=(Math.floor(t)+"").length;if(e>i)return+t.toFixed(e-i);{let s=10**(i-e);return Math.round(t/s)*s}},Vt=t=>{if(isFinite(t)){let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i+=1;return i}return 0},Gt=(t,e)=>{let i=e.x-t.x;i*=i;let s=e.y-t.y;return s*=s,Ht(i+s)};class Yt extends ct{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=ft),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??=e=>{let i=et(t.toXYZ_M,e);return this.white!==this.base.white&&(i=lt(this.white,this.base.white,i)),i},t.fromBase??=e=>(e=lt(this.base.white,this.white,e),et(t.fromXYZ_M,e))),t.referred??="display",super(t)}}var Kt=new Yt({id:"a98rgb-linear",name:"Linear Adobe® 98 RGB compatible",white:"D65",toXYZ_M:[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M:[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]]}),_t=new Yt({id:"a98rgb",name:"Adobe® 98 RGB compatible",base:Kt,toBase:t=>t.map((t=>Math.pow(Math.abs(t),563/256)*Math.sign(t))),fromBase:t=>t.map((t=>Math.pow(Math.abs(t),256/563)*Math.sign(t))),formats:{color:{id:"a98-rgb"}}});var Wt=new Yt({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M:[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],formats:{color:{}}}),Jt={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[.4,.2,.6],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let Qt=Array(3).fill("<percentage> | <number>[0, 255]"),te=Array(3).fill("<number>[0, 255]");var ee=new Yt({id:"srgb",name:"sRGB",base:Wt,fromBase:t=>t.map((t=>{let e=t<0?-1:1,i=t*e;return i>.0031308?e*(1.055*i**(1/2.4)-.055):12.92*t})),toBase:t=>t.map((t=>{let e=t<0?-1:1,i=t*e;return i<.04045?t/12.92:e*((i+.055)/1.055)**2.4})),formats:{rgb:{coords:Qt},rgb_number:{name:"rgb",commas:!0,coords:te,noAlpha:!0},color:{},rgba:{coords:Qt,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:te},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,(t=>{e.push(parseInt(t,16)/255)})),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:i=!0}={})=>{e<1&&t.push(e),t=t.map((t=>Math.round(255*t)));let s=i&&t.every((t=>t%17==0));return"#"+t.map((t=>s?(t/17).toString(16):t.toString(16).padStart(2,"0"))).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){let e={spaceId:"srgb",coords:null,alpha:1};if("transparent"===(t=t.toLowerCase())?(e.coords=Jt.black,e.alpha=0):e.coords=Jt[t],e.coords)return e}}}}),ie=new ct({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:ee,fromBase:t=>{let e=Math.max(...t),i=Math.min(...t),[s,n,o]=t,[h,r,a]=[NaN,0,(i+e)/2],l=e-i;if(0!==l){switch(r=0===a||1===a?0:(e-a)/Math.min(a,1-a),e){case s:h=(n-o)/l+(n<o?6:0);break;case n:h=(o-s)/l+2;break;case o:h=(s-n)/l+4}h*=60}return[h,100*r,100*a]},toBase:t=>{let[e,i,s]=t;function n(t){let n=(t+e/30)%12,o=i*Math.min(s,1-s);return s-o*Math.max(-1,Math.min(n-3,9-n,1))}return e%=360,e<0&&(e+=360),i/=100,s/=100,[n(0),n(8),n(4)]},formats:{hsl:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),se=new ct({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:ie,fromBase(t){let[e,i,s]=t;i/=100,s/=100;let n=s+i*Math.min(s,1-s);return[e,0===n?0:200*(1-s/n),100*n]},toBase(t){let[e,i,s]=t;i/=100,s/=100;let n=s*(1-i/2);return[e,0===n||1===n?0:(s-n)/Math.min(n,1-n)*100,100*n]},formats:{color:{toGamut:!0}}}),ne=new ct({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:se,fromBase(t){let[e,i,s]=t;return[e,s*(100-i)/100,100-s]},toBase(t){let[e,i,s]=t;i/=100,s/=100;let n=i+s;if(n>=1){return[e,0,100*(i/n)]}let o=1-s;return[e,100*(0===o?0:1-i/o),100*o]},formats:{hwb:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]}}});const oe=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],he=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],re=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],ae=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]];var le=new ct({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:ft,fromBase(t){let e=et(oe,t).map((t=>Math.cbrt(t)));return et(re,e)},toBase(t){let e=et(ae,t).map((t=>t**3));return et(he,e)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),ce=new ct({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:le,fromBase(t){let e,[i,s,n]=t;const o=2e-4;return e=Math.abs(s)<o&&Math.abs(n)<o?NaN:180*Math.atan2(n,s)/Math.PI,[i,Math.sqrt(s**2+n**2),Ct(e)]},toBase(t){let e,i,[s,n,o]=t;return isNaN(o)?(e=0,i=0):(e=n*Math.cos(o*Math.PI/180),i=n*Math.sin(o*Math.PI/180)),[s,e,i]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});var de=new Yt({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M:[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]]}),ue=new Yt({id:"p3",name:"P3",base:de,fromBase:ee.fromBase,toBase:ee.toBase,formats:{color:{id:"display-p3"}}});var pe=new Yt({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:xt,toXYZ_M:[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],fromXYZ_M:[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]]});var me=new Yt({id:"prophoto",name:"ProPhoto",base:pe,toBase:t=>t.map((t=>t<.03125?t/16:t**1.8)),fromBase:t=>t.map((t=>t>=.001953125?t**(1/1.8):16*t)),formats:{color:{id:"prophoto-rgb"}}});var be=new Yt({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M:[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],formats:{color:{}}});const ge=1.09929682680944,fe=.018053968510807;var xe=new Yt({id:"rec2020",name:"REC.2020",base:be,toBase:t=>t.map((function(t){return t<4.5*fe?t/4.5:Math.pow((t+ge-1)/ge,1/.45)})),fromBase:t=>t.map((function(t){return t>=fe?ge*Math.pow(t,.45)-(ge-1):4.5*t})),formats:{color:{}}});var we=new ct({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:ft,fromBase:t=>t.map((t=>Math.max(203*t,0))),toBase:t=>t.map((t=>Math.max(t/203,0)))});ct.register(_t),ct.register(ie),ct.register(se),ct.register(ne),ct.register(Et),ct.register(kt),ct.register(le),ct.register(ce),ct.register(ue),ct.register(me),ct.register(xe),ct.register(ee),ct.register(Wt),ct.register(xt),ct.register(ft),ct.register(we);{function ve(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055}function ye(t){return.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92}function ke(t,e,i){let s=.4122214708*t+.5363325363*e+.0514459929*i,n=.2119034982*t+.6806995451*e+.1073969566*i,o=.0883024619*t+.2817188376*e+.6299787005*i,h=Math.cbrt(s),r=Math.cbrt(n),a=Math.cbrt(o);return[.2104542553*h+.793617785*r-.0040720468*a,1.9779984951*h-2.428592205*r+.4505937099*a,.0259040371*h+.7827717662*r-.808675766*a]}function Ce(t,e,i){let s=t+.3963377774*e+.2158037573*i,n=t-.1055613458*e-.0638541728*i,o=t-.0894841775*e-1.291485548*i,h=s*s*s,r=n*n*n,a=o*o*o;return[4.0767416621*h-3.3077115913*r+.2309699292*a,-1.2684380046*h+2.6097574011*r-.3413193965*a,-.0041960863*h-.7034186147*r+1.707614701*a]}function Ee(t){const e=.206,i=1.206/1.03;return.5*(i*t-e+Math.sqrt((i*t-e)*(i*t-e)+.12*i*t))}function Se(t){return(t*t+.206*t)/(1.170873786407767*(t+.03))}function ze(t,e){let i=function(t,e){let i,s,n,o,h,r,a,l;-1.88170328*t-.80936493*e>1?(i=1.19086277,s=1.76576728,n=.59662641,o=.75515197,h=.56771245,r=4.0767416621,a=-3.3077115913,l=.2309699292):1.81444104*t-1.19445276*e>1?(i=.73956515,s=-.45954404,n=.08285427,o=.1254107,h=.14503204,r=-1.2684380046,a=2.6097574011,l=-.3413193965):(i=1.35733652,s=-.00915799,n=-1.1513021,o=-.50559606,h=.00692167,r=-.0041960863,a=-.7034186147,l=1.707614701);let c=i+s*t+n*e+o*t*t+h*t*e,d=.3963377774*t+.2158037573*e,u=-.1055613458*t-.0638541728*e,p=-.0894841775*t-1.291485548*e;{let t=1+c*d,e=1+c*u,i=1+c*p,s=r*(t*t*t)+a*(e*e*e)+l*(i*i*i),n=r*(3*d*t*t)+a*(3*u*e*e)+l*(3*p*i*i);c-=s*n/(n*n-.5*s*(r*(6*d*d*t)+a*(6*u*u*e)+l*(6*p*p*i)))}return c}(t,e),s=Ce(1,i*t,i*e),n=Math.cbrt(1/Math.max(Math.max(s[0],s[1]),s[2]));return[n,n*i]}function Me(t,e,i=null){i||(i=ze(t,e));let s=i[0],n=i[1];return[n/s,n/(1-s)]}function Ae(t,e,i){let s,n,o=ze(e,i),h=function(t,e,i,s,n,o=null){let h;if(o||(o=ze(t,e)),(i-n)*o[1]-(o[0]-n)*s<=0)h=o[1]*n/(s*o[0]+o[1]*(n-i));else{h=o[1]*(n-1)/(s*(o[0]-1)+o[1]*(n-i));{let o=i-n,r=.3963377774*t+.2158037573*e,a=-.1055613458*t-.0638541728*e,l=-.0894841775*t-1.291485548*e,c=o+s*r,d=o+s*a,u=o+s*l;{let t=n*(1-h)+h*i,e=h*s,o=t+e*r,p=t+e*a,m=t+e*l,b=o*o*o,g=p*p*p,f=m*m*m,x=3*c*o*o,w=3*d*p*p,v=3*u*m*m,y=6*c*c*o,k=6*d*d*p,C=6*u*u*m,E=4.0767416621*b-3.3077115913*g+.2309699292*f-1,S=4.0767416621*x-3.3077115913*w+.2309699292*v,z=S/(S*S-.5*E*(4.0767416621*y-3.3077115913*k+.2309699292*C)),M=-E*z,A=-1.2684380046*b+2.6097574011*g-.3413193965*f-1,$=-1.2684380046*x+2.6097574011*w-.3413193965*v,L=$/($*$-.5*A*(-1.2684380046*y+2.6097574011*k-.3413193965*C)),T=-A*L,D=-.0041960863*b-.7034186147*g+1.707614701*f-1,R=-.0041960863*x-.7034186147*w+1.707614701*v,P=R/(R*R-.5*D*(-.0041960863*y-.7034186147*k+1.707614701*C)),I=-D*P;M=z>=0?M:1e6,T=L>=0?T:1e6,I=P>=0?I:1e6,h+=Math.min(M,Math.min(T,I))}}}return h}(e,i,t,1,t,o),r=Me(e,i,o);{let n=t*(.11516993+1/(7.4477897+4.1590124*i+e*(1.75198401*i-2.19557347+e*(-2.13704948-10.02301043*i+e*(5.38770819*i-4.24894561+4.69891013*e))))),o=(1-t)*(.11239642+1/(1.6132032-.68124379*i+e*(.40370612+.90148123*i+e*(.6122399*i-.27087943+e*(.00299215-.45399568*i-.14661872*e)))));s=.9*(h/Math.min(t*r[0],(1-t)*r[1]))*Math.sqrt(Math.sqrt(1/(1/(n*n*n*n)+1/(o*o*o*o))))}{let e=.4*t,i=.8*(1-t);n=Math.sqrt(1/(1/(e*e)+1/(i*i)))}return[n,s,h]}ct.register(new ct({id:"okhsl",name:"okHSL",base:ct.registry.srgb,coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{refRange:[0,100],name:"Saturation"},l:{refRange:[0,100],name:"Lightness"}},fromBase(t){let[e,i,s]=function(t,e,i){let s,n=ke(ye(t/255),ye(e/255),ye(i/255)),o=Math.sqrt(n[1]*n[1]+n[2]*n[2]),h=n[1]/o,r=n[2]/o,a=n[0],l=.5+.5*Math.atan2(-n[2],-n[1])/Math.PI,c=Ae(a,h,r),d=c[0],u=c[1],p=c[2];if(o<u){let t=0,e=.8*d;s=(o-t)/(e+(1-e/u)*(o-t))*.8}else{let t=.2*u*u*1.25*1.25/d;s=.8+(o-u)/(t+(1-t/(p-u))*(o-u))*.2}return[l,s,Ee(a)]}(...t.map((t=>255*t)));return[Zt(360*e,0,360,5),Zt(100*i,0,100,5),Zt(100*s,0,100,5)]},toBase(t){let[e,i,s]=t,[n,o,h]=function(t,e,i){if(1==i)return[255,255,255];if(0==i)return[0,0,0];let s,n,o,h,r,a=Math.cos(2*Math.PI*t),l=Math.sin(2*Math.PI*t),c=Se(i),d=Ae(c,a,l),u=d[0],p=d[1],m=d[2];e<.8?(n=1.25*e,o=0,h=.8*u,r=1-h/p):(n=5*(e-.8),o=p,h=.2*p*p*1.25*1.25/u,r=1-h/(m-p)),s=o+n*h/(1-r*n);let b=Ce(c,s*a,s*l);return[255*ve(b[0]),255*ve(b[1]),255*ve(b[2])]}(e/360,i/100,s/100);return[Zt(n/255,0,1,5),Zt(o/255,0,1,5),Zt(h/255,0,1,5)]},formats:{okhsl:{coords:["<number>","<number>","<number>"]}}})),ct.register(new ct({id:"okhsv",name:"okHSV",base:ct.registry.srgb,coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{refRange:[0,100],name:"Saturation"},v:{refRange:[0,100],name:"Value"}},fromBase(t){let[e,i,s]=function(t,e,i){let s=ke(ye(t/255),ye(e/255),ye(i/255)),n=Math.sqrt(s[1]*s[1]+s[2]*s[2]),o=s[1]/n,h=s[2]/n,r=s[0],a=.5+.5*Math.atan2(-s[2],-s[1])/Math.PI,l=Me(o,h),c=l[0],d=l[1],u=1-.5/c,p=d/(n+r*d),m=p*r,b=p*n,g=Se(m),f=b*g/m,x=Ce(g,o*f,h*f),w=Math.cbrt(1/Math.max(x[0],x[1],x[2],0));return r/=w,n/=w,n=n*Ee(r)/r,r=Ee(r),[a,(.5+d)*b/(.5*d+d*u*b),r/m]}(...t.map((t=>255*t)));return[Zt(360*e,0,360,5),Zt(100*i,0,100,5),Zt(100*s,0,100,5)]},toBase(t){let[e,i,s]=t,[n,o,h]=function(t,e,i){let s=Math.cos(2*Math.PI*t),n=Math.sin(2*Math.PI*t),o=Me(s,n),h=o[0],r=.5,a=o[1],l=1-r/h,c=1-e*r/(r+a-a*l*e),d=e*a*r/(r+a-a*l*e),u=i*c,p=i*d,m=Se(c),b=d*m/c,g=Se(u);p=p*g/u,u=g;let f=Ce(m,s*b,n*b),x=Math.cbrt(1/Math.max(f[0],f[1],f[2],0));u*=x,p*=x;let w=Ce(u,p*s,p*n);return[255*ve(w[0]),255*ve(w[1]),255*ve(w[2])]}(e/360,i/100,s/100);return[Zt(n/255,0,1,5),Zt(o/255,0,1,5),Zt(h/255,0,1,5)]},formats:{okhsv:{coords:["<number>","<number>","<number>"]}}}))}{class Gs{constructor(){this.hex="#000000",this.rgb_r=0,this.rgb_g=0,this.rgb_b=0,this.xyz_x=0,this.xyz_y=0,this.xyz_z=0,this.luv_l=0,this.luv_u=0,this.luv_v=0,this.lch_l=0,this.lch_c=0,this.lch_h=0,this.hsluv_h=0,this.hsluv_s=0,this.hsluv_l=0,this.hpluv_h=0,this.hpluv_p=0,this.hpluv_l=0,this.r0s=0,this.r0i=0,this.r1s=0,this.r1i=0,this.g0s=0,this.g0i=0,this.g1s=0,this.g1i=0,this.b0s=0,this.b0i=0,this.b1s=0,this.b1i=0}static fromLinear(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}static toLinear(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92}static yToL(t){return t<=Gs.epsilon?t/Gs.refY*Gs.kappa:116*Math.pow(t/Gs.refY,1/3)-16}static lToY(t){return t<=8?Gs.refY*t/Gs.kappa:Gs.refY*Math.pow((t+16)/116,3)}static rgbChannelToHex(t){const e=Math.round(255*t),i=e%16,s=(e-i)/16|0;return Gs.hexChars.charAt(s)+Gs.hexChars.charAt(i)}static hexToRgbChannel(t,e){return(16*Gs.hexChars.indexOf(t.charAt(e))+Gs.hexChars.indexOf(t.charAt(e+1)))/255}static distanceFromOriginAngle(t,e,i){const s=e/(Math.sin(i)-t*Math.cos(i));return s<0?Infinity:s}static distanceFromOrigin(t,e){return Math.abs(e)/Math.sqrt(Math.pow(t,2)+1)}static min6(t,e,i,s,n,o){return Math.min(t,Math.min(e,Math.min(i,Math.min(s,Math.min(n,o)))))}rgbToHex(){this.hex="#",this.hex+=Gs.rgbChannelToHex(this.rgb_r),this.hex+=Gs.rgbChannelToHex(this.rgb_g),this.hex+=Gs.rgbChannelToHex(this.rgb_b)}hexToRgb(){this.hex=this.hex.toLowerCase(),this.rgb_r=Gs.hexToRgbChannel(this.hex,1),this.rgb_g=Gs.hexToRgbChannel(this.hex,3),this.rgb_b=Gs.hexToRgbChannel(this.hex,5)}xyzToRgb(){this.rgb_r=Gs.fromLinear(Gs.m_r0*this.xyz_x+Gs.m_r1*this.xyz_y+Gs.m_r2*this.xyz_z),this.rgb_g=Gs.fromLinear(Gs.m_g0*this.xyz_x+Gs.m_g1*this.xyz_y+Gs.m_g2*this.xyz_z),this.rgb_b=Gs.fromLinear(Gs.m_b0*this.xyz_x+Gs.m_b1*this.xyz_y+Gs.m_b2*this.xyz_z)}rgbToXyz(){const t=Gs.toLinear(this.rgb_r),e=Gs.toLinear(this.rgb_g),i=Gs.toLinear(this.rgb_b);this.xyz_x=.41239079926595*t+.35758433938387*e+.18048078840183*i,this.xyz_y=.21263900587151*t+.71516867876775*e+.072192315360733*i,this.xyz_z=.019330818715591*t+.11919477979462*e+.95053215224966*i}xyzToLuv(){const t=this.xyz_x+15*this.xyz_y+3*this.xyz_z;let e=4*this.xyz_x,i=9*this.xyz_y;0!==t?(e/=t,i/=t):(e=NaN,i=NaN),this.luv_l=Gs.yToL(this.xyz_y),0===this.luv_l?(this.luv_u=0,this.luv_v=0):(this.luv_u=13*this.luv_l*(e-Gs.refU),this.luv_v=13*this.luv_l*(i-Gs.refV))}luvToXyz(){if(0===this.luv_l)return this.xyz_x=0,this.xyz_y=0,void(this.xyz_z=0);const t=this.luv_u/(13*this.luv_l)+Gs.refU,e=this.luv_v/(13*this.luv_l)+Gs.refV;this.xyz_y=Gs.lToY(this.luv_l),this.xyz_x=0-9*this.xyz_y*t/((t-4)*e-t*e),this.xyz_z=(9*this.xyz_y-15*e*this.xyz_y-e*this.xyz_x)/(3*e)}luvToLch(){if(this.lch_l=this.luv_l,this.lch_c=Math.sqrt(this.luv_u*this.luv_u+this.luv_v*this.luv_v),this.lch_c<1e-8)this.lch_h=0;else{const t=Math.atan2(this.luv_v,this.luv_u);this.lch_h=180*t/Math.PI,this.lch_h<0&&(this.lch_h=360+this.lch_h)}}lchToLuv(){const t=this.lch_h/180*Math.PI;this.luv_l=this.lch_l,this.luv_u=Math.cos(t)*this.lch_c,this.luv_v=Math.sin(t)*this.lch_c}calculateBoundingLines(t){const e=Math.pow(t+16,3)/1560896,i=e>Gs.epsilon?e:t/Gs.kappa,s=i*(284517*Gs.m_r0-94839*Gs.m_r2),n=i*(838422*Gs.m_r2+769860*Gs.m_r1+731718*Gs.m_r0),o=i*(632260*Gs.m_r2-126452*Gs.m_r1),h=i*(284517*Gs.m_g0-94839*Gs.m_g2),r=i*(838422*Gs.m_g2+769860*Gs.m_g1+731718*Gs.m_g0),a=i*(632260*Gs.m_g2-126452*Gs.m_g1),l=i*(284517*Gs.m_b0-94839*Gs.m_b2),c=i*(838422*Gs.m_b2+769860*Gs.m_b1+731718*Gs.m_b0),d=i*(632260*Gs.m_b2-126452*Gs.m_b1);this.r0s=s/o,this.r0i=n*t/o,this.r1s=s/(o+126452),this.r1i=(n-769860)*t/(o+126452),this.g0s=h/a,this.g0i=r*t/a,this.g1s=h/(a+126452),this.g1i=(r-769860)*t/(a+126452),this.b0s=l/d,this.b0i=c*t/d,this.b1s=l/(d+126452),this.b1i=(c-769860)*t/(d+126452)}calcMaxChromaHpluv(){const t=Gs.distanceFromOrigin(this.r0s,this.r0i),e=Gs.distanceFromOrigin(this.r1s,this.r1i),i=Gs.distanceFromOrigin(this.g0s,this.g0i),s=Gs.distanceFromOrigin(this.g1s,this.g1i),n=Gs.distanceFromOrigin(this.b0s,this.b0i),o=Gs.distanceFromOrigin(this.b1s,this.b1i);return Gs.min6(t,e,i,s,n,o)}calcMaxChromaHsluv(t){const e=t/360*Math.PI*2,i=Gs.distanceFromOriginAngle(this.r0s,this.r0i,e),s=Gs.distanceFromOriginAngle(this.r1s,this.r1i,e),n=Gs.distanceFromOriginAngle(this.g0s,this.g0i,e),o=Gs.distanceFromOriginAngle(this.g1s,this.g1i,e),h=Gs.distanceFromOriginAngle(this.b0s,this.b0i,e),r=Gs.distanceFromOriginAngle(this.b1s,this.b1i,e);return Gs.min6(i,s,n,o,h,r)}hsluvToLch(){if(this.hsluv_l>99.9999999)this.lch_l=100,this.lch_c=0;else if(this.hsluv_l<1e-8)this.lch_l=0,this.lch_c=0;else{this.lch_l=this.hsluv_l,this.calculateBoundingLines(this.hsluv_l);const t=this.calcMaxChromaHsluv(this.hsluv_h);this.lch_c=t/100*this.hsluv_s}this.lch_h=this.hsluv_h}lchToHsluv(){if(this.lch_l>99.9999999)this.hsluv_s=0,this.hsluv_l=100;else if(this.lch_l<1e-8)this.hsluv_s=0,this.hsluv_l=0;else{this.calculateBoundingLines(this.lch_l);const t=this.calcMaxChromaHsluv(this.lch_h);this.hsluv_s=this.lch_c/t*100,this.hsluv_l=this.lch_l}this.hsluv_h=this.lch_h}hpluvToLch(){if(this.hpluv_l>99.9999999)this.lch_l=100,this.lch_c=0;else if(this.hpluv_l<1e-8)this.lch_l=0,this.lch_c=0;else{this.lch_l=this.hpluv_l,this.calculateBoundingLines(this.hpluv_l);const t=this.calcMaxChromaHpluv();this.lch_c=t/100*this.hpluv_p}this.lch_h=this.hpluv_h}lchToHpluv(){if(this.lch_l>99.9999999)this.hpluv_p=0,this.hpluv_l=100;else if(this.lch_l<1e-8)this.hpluv_p=0,this.hpluv_l=0;else{this.calculateBoundingLines(this.lch_l);const t=this.calcMaxChromaHpluv();this.hpluv_p=this.lch_c/t*100,this.hpluv_l=this.lch_l}this.hpluv_h=this.lch_h}hsluvToRgb(){this.hsluvToLch(),this.lchToLuv(),this.luvToXyz(),this.xyzToRgb()}hpluvToRgb(){this.hpluvToLch(),this.lchToLuv(),this.luvToXyz(),this.xyzToRgb()}hsluvToHex(){this.hsluvToRgb(),this.rgbToHex()}hpluvToHex(){this.hpluvToRgb(),this.rgbToHex()}rgbToHsluv(){this.rgbToXyz(),this.xyzToLuv(),this.luvToLch(),this.lchToHpluv(),this.lchToHsluv()}rgbToHpluv(){this.rgbToXyz(),this.xyzToLuv(),this.luvToLch(),this.lchToHpluv(),this.lchToHpluv()}hexToHsluv(){this.hexToRgb(),this.rgbToHsluv()}hexToHpluv(){this.hexToRgb(),this.rgbToHpluv()}}Gs.hexChars="0123456789abcdef",Gs.refY=1,Gs.refU=.19783000664283,Gs.refV=.46831999493879,Gs.kappa=903.2962962,Gs.epsilon=.0088564516,Gs.m_r0=3.240969941904521,Gs.m_r1=-1.537383177570093,Gs.m_r2=-.498610760293,Gs.m_g0=-.96924363628087,Gs.m_g1=1.87596750150772,Gs.m_g2=.041555057407175,Gs.m_b0=.055630079696993,Gs.m_b1=-.20397695888897,Gs.m_b2=1.056971514242878,ct.register(new ct({id:"hsluv",name:"HSLuv",base:ct.registry.srgb,coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{refRange:[0,100],name:"Saturation"},l:{refRange:[0,100],name:"Lightness"}},fromBase(t){let[e,i,s]=t,n=new Gs;return n.rgb_r=e,n.rgb_g=i,n.rgb_b=s,n.rgbToHsluv(),[Zt(n.hsluv_h,0,360,5),Zt(n.hsluv_s,0,100,5),Zt(n.hsluv_l,0,100,5)]},toBase(t){let[e,i,s]=t,n=new Gs;return n.hsluv_h=e,n.hsluv_s=i,n.hsluv_l=s,n.hsluvToRgb(),[Zt(n.rgb_r,0,1,5),Zt(n.rgb_g,0,1,5),Zt(n.rgb_b,0,1,5)]},formats:{hsluv:{coords:["<number>","<number>","<number>"]}}}))}let $e=(t,e="hex",i=3)=>{if("hex"===e||"hex-alt"===e){let i=Bt(Ot(t,"srgb"),{format:"hex"});return"hex-alt"===e?i.toUpperCase():i}if("hsl"===e||"hsl-alt"===e){let[s,n,o]=Ot(t,"hsl").coords,h=t.alpha;if(Number.isNaN(s)&&(s=0),s=Xt(s,i),n=Xt(n,i),o=Xt(o,i),"hsl"===e)return h=Xt(100*h,i),100===h?`hsl(${s}deg ${n}% ${o}%)`:`hsl(${s}deg ${n}% ${o}% / ${h}%)`;if("hsl-alt"===e)return h=Xt(h,i),1===h?`hsl(${s} ${n}% ${o}%)`:`hsl(${s} ${n}% ${o}% / ${h})`}else if("hwb"===e||"hwb-alt"===e){let[s,n,o]=Ot(t,"hwb").coords,h=t.alpha;if(Number.isNaN(s)&&(s=0),s=Xt(s,i),n=Xt(n,i),o=Xt(o,i),"hwb"===e)return h=Xt(100*h,i),100===h?`hwb(${s}deg ${n}% ${o}%)`:`hwb(${s}deg ${n}% ${o}% / ${h}%)`;if("hwb-alt"===e)return h=Xt(h,i),1===h?`hwb(${s} ${n}% ${o}%)`:`hwb(${s} ${n}% ${o}% / ${h})`}else if("rgb"===e||"rgb-alt"===e){let[s,n,o]=Ot(t,"srgb").coords,h=t.alpha;if("rgb"===e)return s=Xt(100*s,i),n=Xt(100*n,i),o=Xt(100*o,i),h=Xt(100*h,i),100===h?`rgb(${s}% ${n}% ${o}%)`:`rgb(${s}% ${n}% ${o}% / ${h}%)`;if("rgb-alt"===e)return s=Xt(255*s,i),n=Xt(255*n,i),o=Xt(255*o,i),h=Xt(h,i),1===h?`rgb(${s} ${n} ${o})`:`rgb(${s} ${n} ${o} / ${h})`}else if("color"===e||"color-alt"===e)if(void 0===t.spaceId&&(t.spaceId=t.space.id),["srgb","srgb-linear","a98rgb","prophoto","p3","rec2020","hsl","hwb"].includes(t.spaceId)){"hsl"!==t.spaceId&&"hwb"!==t.spaceId||void 0===(t=Ot(t,"srgb")).spaceId&&(t.spaceId=t.space.id);let[s,n,o]=t.coords,h=t.alpha,r=t.spaceId;if("p3"===t.spaceId?r="display-p3":"a98rgb"===t.spaceId?r="a98-rgb":"prophoto"===t.spaceId&&(r="prophoto-rgb"),"color"===e)return s=Xt(100*s,i),n=Xt(100*n,i),o=Xt(100*o,i),h=Xt(100*h,i),100===h?`color(${r} ${s}% ${n}% ${o}%)`:`color(${r} ${s}% ${n}% ${o}% / ${h}%)`;if("color-alt"===e)return s=Xt(s,i),n=Xt(n,i),o=Xt(o,i),h=Xt(h,i),1===h?`color(${r} ${s} ${n} ${o})`:`color(${r} ${s} ${n} ${o} / ${h})`}else{if(!["xyz","xyz-d50","xyz-d65"].includes(t.spaceId))throw new Error(`"Color in "${t.spaceId}" space can't be serialized to "${e}" format.`);{let[s,n,o]=t.coords,h=t.alpha,r=t.spaceId;if("color"===e)return s=Xt(100*s,i),n=Xt(100*n,i),o=Xt(100*o,i),h=Xt(100*h,i),100===h?`color(${r} ${s}% ${n}% ${o}%)`:`color(${r} ${s}% ${n}% ${o}% / ${h}%)`;if("color-alt"===e)return s=Xt(s,i),n=Xt(n,i),o=Xt(o,i),h=Xt(h,i),1===h?`color(${r} ${s} ${n} ${o})`:`color(${r} ${s} ${n} ${o} / ${h})`}}else{if("oklch"!==e&&"oklch-alt"!==e)throw new Error(`Unknown color format "${e}".`);{let[s,n,o]=Ot(t,"srgb").coords,h=t.alpha;if("oklch"===e)return s=Xt(100*s,i),n=Xt(n,i),o=Xt(o,i),h=Xt(100*h,i),100===h?`oklch(${s}% ${n} ${o}deg)`:`oklch(${s}% ${n} ${o}deg / ${h}%)`;if("oklch-alt"===e)return s=Xt(s,i),n=Xt(n,i),o=Xt(o,i),h=Xt(h,i),1===h?`oklch(${s} ${n} ${o})`:`oklch(${s} ${n} ${o} / ${h})`}}},Le=t=>{try{pt(t)}catch(t){return!1}return!0},Te=document.createElement("template"),De=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=i.join("");Te.innerHTML=s;let n=document.importNode(Te.content,!0);return 1===n.children.length?n.firstElementChild:n},Re=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=i.join(""),n=new CSSStyleSheet;return n.replaceSync(s),n},Pe=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=`<svg id="x-stub" xmlns="http://www.w3.org/2000/svg">${i.join("")}</svg>`;Te.innerHTML=s;let n=document.importNode(Te.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(let t of[...o.childNodes])n.appendChild(t);return o.remove(),n},Ie={},Oe=t=>new Promise((async e=>{if(Ie[t])Ie[t].iconset?e(Ie[t].iconset):Ie[t].callbacks.push(e);else{Ie[t]={callbacks:[e],iconset:null};let i=null;try{i=await(await fetch(t)).text()}catch(t){i=null}if(i){Ie[t].iconset=Pe`${i}`;for(let e of Ie[t].callbacks)e(Ie[t].iconset)}else console.error(`Xel failed to fetch the iconset: ${t}`)}}));class Be{constructor(t){this.value=t}valueOf(){return this.value}}class Fe extends Be{constructor(t="???"){super(t)}toString(t){return`{${this.value}}`}}class Ne extends Be{constructor(t,e={}){super(t),this.opts=e}toString(t){try{return t.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(e){return t.reportError(e),this.value.toString(10)}}}class He extends Be{constructor(t,e={}){super(t),this.opts=e}toString(t){try{return t.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(e){return t.reportError(e),new Date(this.value).toISOString()}}}function je(t,e,i){if(i===e)return!0;if(i instanceof Ne&&e instanceof Ne&&i.value===e.value)return!0;if(e instanceof Ne&&"string"==typeof i){if(i===t.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value))return!0}return!1}function qe(t,e,i){return e[i]?Ve(t,e[i].value):(t.reportError(new RangeError("No default")),new Fe)}function Ue(t,e){const i=[],s=Object.create(null);for(const n of e)"narg"===n.type?s[n.name]=Ze(t,n.value):i.push(Ze(t,n));return{positional:i,named:s}}function Ze(t,e){switch(e.type){case"str":return e.value;case"num":return new Ne(e.value,{minimumFractionDigits:e.precision});case"var":return function(t,{name:e}){let i;if(t.params){if(!Object.prototype.hasOwnProperty.call(t.params,e))return new Fe(`$${e}`);i=t.params[e]}else{if(!t.args||!Object.prototype.hasOwnProperty.call(t.args,e))return t.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Fe(`$${e}`);i=t.args[e]}if(i instanceof Be)return i;switch(typeof i){case"string":return i;case"number":return new Ne(i);case"object":if(i instanceof Date)return new He(i.getTime());default:return t.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof i}`)),new Fe(`$${e}`)}}(t,e);case"mesg":return function(t,{name:e,attr:i}){const s=t.bundle.t.get(e);if(!s)return t.reportError(new ReferenceError(`Unknown message: ${e}`)),new Fe(e);if(i){const n=s.attributes[i];return n?Ve(t,n):(t.reportError(new ReferenceError(`Unknown attribute: ${i}`)),new Fe(`${e}.${i}`))}if(s.value)return Ve(t,s.value);return t.reportError(new ReferenceError(`No value: ${e}`)),new Fe(e)}(t,e);case"term":return function(t,{name:e,attr:i,args:s}){const n=`-${e}`,o=t.bundle.i.get(n);if(!o)return t.reportError(new ReferenceError(`Unknown term: ${n}`)),new Fe(n);if(i){const e=o.attributes[i];if(e){t.params=Ue(t,s).named;const i=Ve(t,e);return t.params=null,i}return t.reportError(new ReferenceError(`Unknown attribute: ${i}`)),new Fe(`${n}.${i}`)}t.params=Ue(t,s).named;const h=Ve(t,o.value);return t.params=null,h}(t,e);case"func":return function(t,{name:e,args:i}){let s=t.bundle.o[e];if(!s)return t.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Fe(`${e}()`);if("function"!=typeof s)return t.reportError(new TypeError(`Function ${e}() is not callable`)),new Fe(`${e}()`);try{let e=Ue(t,i);return s(e.positional,e.named)}catch(i){return t.reportError(i),new Fe(`${e}()`)}}(t,e);case"select":return function(t,{selector:e,variants:i,star:s}){let n=Ze(t,e);if(n instanceof Fe)return qe(t,i,s);for(const e of i){if(je(t,n,Ze(t,e.key)))return Ve(t,e.value)}return qe(t,i,s)}(t,e);default:return new Fe}}function Xe(t,e){if(t.dirty.has(e))return t.reportError(new RangeError("Cyclic reference")),new Fe;t.dirty.add(e);const i=[],s=t.bundle.u&&e.length>1;for(const n of e)if("string"!=typeof n){if(t.placeables++,t.placeables>100)throw t.dirty.delete(e),new RangeError(`Too many placeables expanded: ${t.placeables}, max allowed is 100`);s&&i.push("⁨"),i.push(Ze(t,n).toString(t)),s&&i.push("⁩")}else i.push(t.bundle.p(n));return t.dirty.delete(e),i.join("")}function Ve(t,e){return"string"==typeof e?t.bundle.p(e):Xe(t,e)}class Ge{constructor(t,e,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=t,this.errors=e,this.args=i}reportError(t){if(!(this.errors&&t instanceof Error))throw t;this.errors.push(t)}memoizeIntlObject(t,e){let i=this.bundle.m.get(t);i||(i={},this.bundle.m.set(t,i));let s=JSON.stringify(e);return i[s]||(i[s]=new t(this.bundle.locales,e)),i[s]}}function Ye(t,e){const i=Object.create(null);for(const[s,n]of Object.entries(t))e.includes(s)&&(i[s]=n.valueOf());return i}const Ke=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function _e(t,e){let i=t[0];if(i instanceof Fe)return new Fe(`NUMBER(${i.valueOf()})`);if(i instanceof Ne)return new Ne(i.valueOf(),{...i.opts,...Ye(e,Ke)});if(i instanceof He)return new Ne(i.valueOf(),{...Ye(e,Ke)});throw new TypeError("Invalid argument to NUMBER")}const We=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Je(t,e){let i=t[0];if(i instanceof Fe)return new Fe(`DATETIME(${i.valueOf()})`);if(i instanceof He)return new He(i.valueOf(),{...i.opts,...Ye(e,We)});if(i instanceof Ne)return new He(i.valueOf(),{...Ye(e,We)});throw new TypeError("Invalid argument to DATETIME")}const Qe=new Map;class ti{constructor(t,{functions:e,useIsolating:i=!0,transform:s=(t=>t)}={}){this.i=new Map,this.t=new Map,this.locales=Array.isArray(t)?t:[t],this.o={NUMBER:_e,DATETIME:Je,...e},this.u=i,this.p=s,this.m=function(t){const e=Array.isArray(t)?t.join(" "):t;let i=Qe.get(e);return void 0===i&&(i=new Map,Qe.set(e,i)),i}(t)}hasMessage(t){return this.t.has(t)}getMessage(t){return this.t.get(t)}addResource(t,{allowOverrides:e=!1}={}){const i=[];for(let s=0;s<t.body.length;s++){let n=t.body[s];if(n.id.startsWith("-")){if(!1===e&&this.i.has(n.id)){i.push(new Error(`Attempt to override an existing term: "${n.id}"`));continue}this.i.set(n.id,n)}else{if(!1===e&&this.t.has(n.id)){i.push(new Error(`Attempt to override an existing message: "${n.id}"`));continue}this.t.set(n.id,n)}}return i}formatPattern(t,e=null,i=null){if("string"==typeof t)return this.p(t);let s=new Ge(this,i,e);try{return Xe(s,t).toString(s)}catch(t){if(s.errors&&t instanceof Error)return s.errors.push(t),(new Fe).toString(s);throw t}}}const ei=/^(-?[a-zA-Z][\w-]*) *= */gm,ii=/\.([a-zA-Z][\w-]*) *= */y,si=/\*?\[/y,ni=/(-?[0-9]+(?:\.([0-9]+))?)/y,oi=/([a-zA-Z][\w-]*)/y,hi=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,ri=/^[A-Z][A-Z0-9_-]*$/,ai=/([^{}\n\r]+)/y,li=/([^\\"\n\r]*)/y,ci=/\\([\\"])/y,di=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,ui=/^\n+/,pi=/ +$/,mi=/ *\r?\n/g,bi=/( *)$/,gi=/{\s*/y,fi=/\s*}/y,xi=/\[\s*/y,wi=/\s*] */y,vi=/\s*\(\s*/y,yi=/\s*->\s*/y,ki=/\s*:\s*/y,Ci=/\s*,?\s*/y,Ei=/\s+/y;class Si{constructor(t){this.body=[],ei.lastIndex=0;let e=0;for(;;){let i=ei.exec(t);if(null===i)break;e=ei.lastIndex;try{this.body.push(r(i[1]))}catch(t){if(t instanceof SyntaxError)continue;throw t}}function i(i){return i.lastIndex=e,i.test(t)}function s(i,s){if(t[e]===i)return e++,!0;if(s)throw new s(`Expected ${i}`);return!1}function n(t,s){if(i(t))return e=t.lastIndex,!0;if(s)throw new s(`Expected ${t.toString()}`);return!1}function o(i){i.lastIndex=e;let s=i.exec(t);if(null===s)throw new SyntaxError(`Expected ${i.toString()}`);return e=i.lastIndex,s}function h(t){return o(t)[1]}function r(t){let e=a(),s=function(){let t=Object.create(null);for(;i(ii);){let e=h(ii),i=a();if(null===i)throw new SyntaxError("Expected attribute value");t[e]=i}return t}();if(null===e&&0===Object.keys(s).length)throw new SyntaxError("Expected message value or attributes");return{id:t,value:e,attributes:s}}function a(){let s;if(i(ai)&&(s=h(ai)),"{"===t[e]||"}"===t[e])return l(s?[s]:[],Infinity);let n=f();return n?s?l([s,n],n.length):(n.value=x(n.value,ui),l([n],n.length)):s?x(s,pi):null}function l(s=[],n){for(;;){if(i(ai)){s.push(h(ai));continue}if("{"===t[e]){s.push(c());continue}if("}"===t[e])throw new SyntaxError("Unbalanced closing brace");let o=f();if(!o)break;s.push(o),n=Math.min(n,o.length)}let o=s.length-1,r=s[o];"string"==typeof r&&(s[o]=x(r,pi));let a=[];for(let t of s)t instanceof zi&&(t=t.value.slice(0,t.value.length-n)),t&&a.push(t);return a}function c(){n(gi,SyntaxError);let t=d();if(n(fi))return t;if(n(yi)){let e=function(){let t,e=[],n=0;for(;i(si);){s("*")&&(t=n);let i=p(),o=a();if(null===o)throw new SyntaxError("Expected variant value");e[n++]={key:i,value:o}}if(0===n)return null;if(void 0===t)throw new SyntaxError("Expected default variant");return{variants:e,star:t}}();return n(fi,SyntaxError),{type:"select",selector:t,...e}}throw new SyntaxError("Unclosed placeable")}function d(){if("{"===t[e])return c();if(i(hi)){let[,i,s,h=null]=o(hi);if("$"===i)return{type:"var",name:s};if(n(vi)){let o=function(){let i=[];for(;;){switch(t[e]){case")":return e++,i;case void 0:throw new SyntaxError("Unclosed argument list")}i.push(u()),n(Ci)}}();if("-"===i)return{type:"term",name:s,attr:h,args:o};if(ri.test(s))return{type:"func",name:s,args:o};throw new SyntaxError("Function names must be all upper-case")}return"-"===i?{type:"term",name:s,attr:h,args:[]}:{type:"mesg",name:s,attr:h}}return m()}function u(){let t=d();return"mesg"!==t.type?t:n(ki)?{type:"narg",name:t.name,value:m()}:t}function p(){let t;return n(xi,SyntaxError),t=i(ni)?b():{type:"str",value:h(oi)},n(wi,SyntaxError),t}function m(){if(i(ni))return b();if('"'===t[e])return function(){s('"',SyntaxError);let i="";for(;;){if(i+=h(li),"\\"!==t[e]){if(s('"'))return{type:"str",value:i};throw new SyntaxError("Unclosed string literal")}i+=g()}}();throw new SyntaxError("Invalid expression")}function b(){let[,t,e=""]=o(ni),i=e.length;return{type:"num",value:parseFloat(t),precision:i}}function g(){if(i(ci))return h(ci);if(i(di)){let[,t,e]=o(di),i=parseInt(t||e,16);return i<=55295||57344<=i?String.fromCodePoint(i):"�"}throw new SyntaxError("Unknown escape sequence")}function f(){let i=e;switch(n(Ei),t[e]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return w(t.slice(i,e))}return" "===t[e-1]&&w(t.slice(i,e))}function x(t,e){return t.replace(e,"")}function w(t){let e=t.replace(mi,"\n"),i=bi.exec(t)[1].length;return new zi(e,i)}}}class zi{constructor(t,e){this.value=t,this.length=e}}let Mi,Ai,$i=()=>(void 0===Ai&&(Ai=navigator.userAgent.indexOf("Firefox/")>-1?"gecko":navigator.userAgent.indexOf("Chrome")>-1?"chromium":navigator.userAgent.indexOf("Safari/")>-1?"webkit":"other"),Ai),Li=t=>new Promise(((e,i)=>{setTimeout((()=>e()),t)})),Ti=()=>Date.now(),Di=(t,e=500,i)=>{let s=null,n=null,o=null,h=0,r=()=>{h=new Date,n=null,o=t.apply(i,s)};return(...a)=>{let l=new Date,c=e-(l-h);return s=a,c<=0?(clearTimeout(n),n=null,h=l,o=t.apply(i,s)):n||(n=setTimeout(r,c)),o}};var Ri=new class extends class{#t={};addEventListener(t,e){this.#t||(this.#t={});let i=this.#t[t];i||(this.#t[t]=i=[]),i.push(e),i.length>1e4&&console.warn(`Potential EventEmitter memory leak: ${i.length} listeners subscribed to event "${t}"`)}removeEventListener(t,e){if(this.#t&&this.#t[t]){for(var i=[],s=0;s<this.#t[t].length;s+=1)this.#t[t][s]!==e&&i.push(this.#t[t][s]);this.#t[t]=i}}dispatchEvent(t){if(!this.#t)return;let e=this.#t[t.type];if(!e)return;let i=null;for(let s=e.length-1;s>=0;s-=1){let n,o=e[s];try{n=o.call(window,t)}catch(t){null===i&&(i=t)}if(!1===n)break}if(i)throw i}}{get theme(){return this.#e}set theme(t){let e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t)}get accentColor(){return this.#i}set accentColor(t){let e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t)}get iconsets(){return[...this.#s]}set iconsets(t){let e=document.head.querySelector(':scope > meta[name="xel-iconsets"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconsets"),document.head.append(e)),e.setAttribute("content",t.join(", "))}get locales(){return[...this.#n]}set locales(t){let e=document.head.querySelector(':scope > meta[name="xel-locales"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-locales"),document.head.append(e)),e.setAttribute("content",t.join(", "))}get locale(){return this.#o[0]||"en"}get whenThemeReady(){return new Promise((t=>{null===this.#h?t():this.#h.push(t)}))}get whenIconsetsReady(){return new Promise((t=>{null===this.#r?t():this.#r.push(t)}))}get whenLocalesReady(){return new Promise((t=>{null===this.#a?t():this.#a.push(t)}))}get themeStyleSheet(){return this.#l}get presetAccentColors(){let t={};for(let e of this.#l.cssRules)if(1===e.type&&"body"===e.selectorText){let i=e.style.getPropertyValue("--preset-accent-colors");if(""!==i){let e=i.split(",").map((t=>t.trim())).map((t=>t.split(" ")));t=Object.fromEntries(e);break}}return t}get autocapitalize(){return this.#c}queryIcon(t){t=!1===t.startsWith("#")?"#"+t:t;let e=null;for(let i of this.#d){let s=i.querySelector(t);if(s){e=s;break}}return e}queryMessage(t,e={}){t=t.startsWith("#")?t.substring(1):t;let[i,s]=t.split("."),n=this.#u.getMessage(i),o=null,h="text";return void 0===e.os&&(e.os=(void 0===Mi&&(Mi=!0===navigator.platform.startsWith("Mac")?"macos":-1!==["iPhone","iPad","iPod"].indexOf(navigator.platform)?"ios":-1!==["Win32","Win64","Windows","WinCE"].indexOf(navigator.platform)?"windows":/CrOS/.test(navigator.userAgent)?"chromeos":/Android/.test(navigator.userAgent)?"android":/Linux/.test(navigator.platform)?"linux":null),Mi)),void 0===s&&(s=null),n&&(null===s?n.value&&(o=this.#u.formatPattern(n.value,e)):n.attributes?.[s]&&(o=this.#u.formatPattern(n.attributes[s],e))),null===o?o=null===s?i:`${i}.${s}`:/<|&#?\w+;/.test(o)&&(h="html",o=Q.sanitize(o,{USE_PROFILES:{html:!0}})),{id:i,attribute:s,format:h,content:o}}getConfig(t,e=null){let i=localStorage.getItem(t);return null===i?e:JSON.parse(i)}setConfig(t,e){let i=localStorage.getItem(t);null===e?delete localStorage[t]:localStorage.setItem(t,JSON.stringify(e)),i!==localStorage.getItem(t)&&this.dispatchEvent(new CustomEvent("configchange",{detail:{key:t,value:e,origin:"self"}}))}clearConfig(){if(localStorage.length>0){let t=Object.keys(localStorage);localStorage.clear();for(let e of t)this.dispatchEvent(new CustomEvent("configchange",{detail:{key:e,value:null,origin:"self"}}))}}#e=null;#i=null;#s=[];#n=[];#o=[];#c="none";#l=new CSSStyleSheet;#d=[];#u=null;#h=[];#r=[];#a=[];constructor(){super(),document.adoptedStyleSheets=[this.#l];let{theme:t,accentColor:e,iconsets:i,locales:s}=this.#p();this.#e=t,this.#i=e,this.#s=i,this.#n=s,this.#o=this.#n.map((t=>{let e=t.substring(t.lastIndexOf("/")+1);return e.substring(0,e.indexOf("."))})),null!==this.#e&&this.#m(this.#e),this.#s.length>0&&this.#b(this.#s),this.#n.length>0&&this.#g(this.#n);new MutationObserver((t=>this.#f(t))).observe(document.head,{attributes:!0,subtree:!0});window.addEventListener("storage",(t=>this.#x(t)))}#f(t){let e=this.#e,i=this.#i,s=this.#s,n=this.#n,{theme:o,accentColor:h,iconsets:r,locales:a}=this.#p();this.#e=o,this.#i=h,this.#s=r,this.#n=a,this.#o=this.#n.map((t=>{let e=t.substring(t.lastIndexOf("/")+1);return e.substring(0,e.indexOf("."))})),this.#e!==e&&this.#m(this.#e).then((()=>{this.dispatchEvent(new CustomEvent("themechange"))})),this.#i!==i&&(this.#w(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),!1===tt(this.#s,s,!0)&&this.#b(this.#s).then((()=>{this.dispatchEvent(new CustomEvent("iconsetschange"))})),!1===tt(this.#n,n,!0)&&this.#g(this.#n).then((()=>{this.dispatchEvent(new CustomEvent("localeschange"))}))}#x(t){if(t.storageArea===window.localStorage){let e=t.key,i=null===t.newValue?null:JSON.parse(t.newValue);this.dispatchEvent(new CustomEvent("configchange",{detail:{key:e,value:i,origin:"other"}}))}}#v(t){return new Promise((async e=>{let i=await fetch(t),s=await i.text();for(let[t,e]of this.#y(s)){let i=await this.#v(t);s=s.replace(e,i)}e(s)}))}#m(t){return new Promise((async e=>{null===this.#h&&(this.#h=[]);let i=await this.#v(t);if(this.#l.replaceSync(i),this.#k(),this.#w(),this.#C(),null!==this.#h){for(let t of this.#h)t();this.#h=null}e()}))}#b(t){return new Promise((async e=>{null===this.#r&&(this.#r=[]),this.#d=[];for(let e of t){let t=await Oe(e);this.#d.push(t)}for(let t of this.#r)t();this.#r=null,e()}))}#g(t){return new Promise((async e=>{null===this.#a&&(this.#a=[]);let i=t.map((t=>{if(t.startsWith("blob:")){return t.substring(t.lastIndexOf("#")+1)}{let e=t.substring(t.lastIndexOf("/")+1);return e.substring(0,e.indexOf("."))}}));0===i.length&&i.push("en");let s=new ti([i[0]],{useIsolating:!1,functions:{RELDATETIME:(t=[],e={})=>{let s;if(t[0]instanceof Ne)s=new Date(t[0].value);else{if("string"!=typeof t[0])throw new TypeError("Invalid argument to RELDATETIME");s=new Date(parseInt(t[0]))}return((t,e=new Date,i=["en"])=>{let s,n=3600,o=86400,h=604800,r=t.getTime(),a=e.getTime(),l=new Intl.RelativeTimeFormat(i,{numeric:"always"}),c=Math.round((a-r)/1e3);if(c<0?(s=1,c=-c):s=-1,c<60)return l.format(c*s,"seconds");if(c<n)return l.format(Math.round(c*s/60),"minutes");if(c<o)return l.format(Math.round(c*s/n),"hours");if(c<h)return l.format(Math.round(c*s/o),"days");if(c<4233600)return l.format(Math.round(c*s/h),"weeks");{let i=12*(t.getFullYear()-e.getFullYear());return i-=e.getMonth(),i+=t.getMonth(),Math.abs(i)>12?i<0?l.format(Math.ceil(i/12),"years"):l.format(Math.floor(i/12),"years"):l.format(i,"months")}})(s,new Date,i)}}});for(let e=t.length-1;e>=0;e-=1){let i=t[e],n=await(await fetch(i)).text(),o=new Si(n),h=s.addResource(o,{allowOverrides:!0});h.length&&console.info("Found localization syntax errors",h)}this.#u=s,this.#k();for(let t of this.#a)t();this.#a=null,e()}))}#k(){this.#u?.locales[0]?.startsWith("en")?this.#c=getComputedStyle(document.body).getPropertyValue("--autocapitalize").trim()||"none":this.#c="none"}async#C(){await this.whenThemeReady;let t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e))}async#w(){await this.whenThemeReady;let t=this.#i||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);let e=Ot(pt(t),"hsl"),[i,s,n]=e.coords,o=[...this.#l.cssRules].reverse().find((t=>1===t.type&&"body"===t.selectorText));Number.isNaN(i)&&(i=0),o.style.setProperty("--accent-color-h",i),o.style.setProperty("--accent-color-s",`${s}%`),o.style.setProperty("--accent-color-l",`${n}%`),o.style.setProperty("--accent-color-a",e.alpha)}#p(){let t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-iconsets"]'),s=document.head.querySelector(':scope > meta[name="xel-locales"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,iconsets:i?i.content.split(",").map((t=>t.trim())).filter((t=>""!==t)):[],locales:s?s.content.split(",").map((t=>t.trim())).filter((t=>""!==t)):[]}}#y(t){let e=[],i=-1;for(;;){let s=t.indexOf("@import",i);if(!(s>-1))break;{let n=t.indexOf(";",s),o=0,h=t.indexOf(".css",s)+".css".length,r=t.indexOf("'",s),a=t.indexOf('"',s);if(r>s&&r<n)o=r+1;else if(a>s&&a<n)o=a+1;else{let e=t.indexOf("url(",s);e>s&&e<n&&(o=e+"url(".length)}let l=t.substring(o,h);e.push([l,t.substring(s,n+1)]),i=h}}return e}};let Pi=(t,e=null)=>{let i=t.split(":"),s=null;if(1===i.length){let[t]=i;s=null===e?document.createElement(t):document.createElement(t,e)}else if(2===i.length){let[t,e]=i;"svg"===t&&(s=document.createElementNS("http://www.w3.org/2000/svg",e))}return s},Ii=(t,e)=>{let i=e.getBoundingClientRect();return t.clientX>=i.x&&t.clientX<=i.x+i.width&&t.clientY>=i.y&&t.clientY<=i.y+i.height},Oi=(t,e,i=!0)=>{let s=t.closest(e);return i&&!s&&t.getRootNode().host?Oi(t.getRootNode().host,e):s},Bi=t=>{let e=t=>t&&t!==document.body?(t=>{let e=getComputedStyle(t,null);return/(auto|scroll)/.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"))})(t)&&"x-texteditor"!==t.localName?t:e(t.parentElement||t.parentNode.host):document.body;return e(t.parentElement||t.parentNode.host)},Fi=HTMLDialogElement.prototype.showModal,Ni=HTMLDialogElement.prototype.close,Hi=[],ji={get open(){return this.hasAttribute("open")},showModal(){return new Promise((async t=>{if(!0!==this.open&&!1!==this.isConnected){this.k&&await this.k.finished,this.C&&await this.C.finished,Fi.apply(this,arguments);{let t;document.body.style.overflow="hidden",Hi.push(this),this.addEventListener("close",t=e=>{e.target===this&&(this.removeEventListener("close",t),Hi=Hi.filter((t=>t!==this)),0===Hi.length&&(document.body.style.overflow=null))})}{let t=this.querySelector("[autofocus]");t?t.focus():this.focus()}if(!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=1e3*parseFloat(t.getPropertyValue("transition-duration")),s=t.getPropertyValue("transition-timing-function"),n=this.getBoundingClientRect();"transform"===e&&("0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.k=this.animate({transform:[`translateX(-${n.right}px)`,"translateX(0px)"]},{duration:i,easing:s}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.k=this.animate({transform:[`translateX(${n.width}px)`,"translateX(0px)"]},{duration:i,easing:s}):"0px"===getComputedStyle(this).marginTop&&"0px"===getComputedStyle(this).marginBottom?this.k=this.animate({transform:[`translateY(-${n.bottom}px)`,"translateY(0px)"]},{duration:i,easing:s}):this.k=this.animate({transform:["scaleY(0)","scaleY(1)"]},{duration:i,easing:s}))}{let t,e,i;this.addEventListener("keydown",t=t=>{"Escape"===t.code&&t.preventDefault()}),document.addEventListener("keydown",e=t=>{"Escape"===t.code&&t.target===document.body&&t.preventDefault()}),this.addEventListener("close",i=s=>{s.target===this&&(this.removeEventListener("close",i),this.removeEventListener("keydown",t),document.removeEventListener("keydown",e))})}{let t,e,i,s=!0;this.addEventListener("pointerdown",t=t=>{s=!1===Ii(t,this)}),this.addEventListener("click",e=t=>{t.target===this&&!0===t.isTrusted&&!1===t.defaultPrevented&&!0===s&&!1===Ii(t,this)&&!0===this.hasAttribute("open")&&(this.close(),this.dispatchEvent(new CustomEvent("userclose")))}),this.addEventListener("close",i=s=>{s.target===this&&(this.removeEventListener("pointerdown",t),this.removeEventListener("click",e),this.removeEventListener("close",i))})}this.k&&(await this.k.finished,this.k=null),t()}else t()}))},close(){return new Promise((async t=>{if(this.k&&await this.k.finished,this.C&&await this.C.finished,!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=t.getPropertyValue("transition-duration")||"0s",s=1e3*parseFloat(i),n=t.getPropertyValue("transition-timing-function")||"ease",o=this.getBoundingClientRect();"transform"===e&&("0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.C=this.animate({transform:["translateX(0px)",`translateX(-${o.right}px)`]},{duration:s,easing:n}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.C=this.animate({transform:["translateX(0px)",`translateX(${o.width}px)`]},{duration:s,easing:n}):"0px"===getComputedStyle(this).marginTop&&"0px"===getComputedStyle(this).marginBottom?this.C=this.animate({transform:["translateY(0px)",`translateY(-${o.bottom+50}px)`]},{duration:s,easing:n}):this.C=this.animate({transform:["scaleY(1)","scaleY(0)"]},{duration:s,easing:n}))}this.C&&(await this.C.finished,this.C=null),this.hasAttribute("open")&&Ni.apply(this,arguments),t()}))}};for(let[Ys,Ks]of Object.entries(Object.getOwnPropertyDescriptors(ji)))Object.defineProperty(HTMLDialogElement.prototype,Ys,Ks);class qi extends HTMLElement{static observedAttributes=["expanded"];static#E=De`<template><main id="main"><div id="arrow-container"><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none" tabindex="1"><path id="arrow-path"></path></svg></div><slot></slot></main></template>`;static#S=Re`:host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.5}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor;--path-data:M 26 20 L 26 80 L 74 50 Z}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow-path{fill:currentColor}`;get expanded(){return this.hasAttribute("expanded")}set expanded(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#M=null;#A=null;#$=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[qi.#S],this.#z.append(document.importNode(qi.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.#M=new ResizeObserver((()=>this.#L())),this.addEventListener("click",(t=>this.#T(t))),this["#arrow"].addEventListener("keydown",(t=>this.#D(t)))}connectedCallback(){this.#R(),Ri.addEventListener("themechange",this.#$=()=>this.#R()),this.#M.observe(this)}disconnectedCallback(){Ri.removeEventListener("themechange",this.#$),this.#M.unobserve(this)}attributeChangedCallback(t,e,i){e!==i&&"expanded"===t&&this.#L()}expand(t=!0){return new Promise((async e=>{if(!1===this.expanded){let e=this.getBoundingClientRect();if(this.#A&&this.#A.finish(),this.removeAttribute("animating"),t){this.expanded=!0;let t=this.getBoundingClientRect();this.setAttribute("animating","");let i=this.animate({height:[e.height+"px",t.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.#A=i,await i.finished,this.#A===i&&this.removeAttribute("animating")}else this["#arrow"].style.transition="none",this.expanded=!0,this["#arrow"].style.transition=null}e()}))}collapse(t=!0){return new Promise((async e=>{if(!0===this.expanded){let e=this.getBoundingClientRect();if(this.#A&&this.#A.finish(),this.removeAttribute("animating"),t){this.expanded=!1;let t=this.getBoundingClientRect();this.setAttribute("animating","");let i=this.animate({height:[e.height+"px",t.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.#A=i,await i.finished,this.#A===i&&this.removeAttribute("animating")}else this["#arrow"].style.transition="none",this.expanded=!1,this["#arrow"].style.transition=null}e()}))}#L(){let t=this.querySelector(":scope > header");this["#arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null}#R(){let t=getComputedStyle(this["#arrow"]).getPropertyValue("--path-data");this["#arrow-path"].setAttribute("d",t)}#D(t){"Enter"!==t.code&&"NumpadEnter"!==t.code||this.querySelector("header").click()}#T(t){let e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))))}}customElements.define("x-accordion",qi);class Ui extends HTMLElement{static#S=Re`:host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}`;get ownerElement(){return this.#P?this.#P:document.body.firstElementChild}set ownerElement(t){this.#P=t}#z=null;#P=null;#I=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Ui.#S],this.addEventListener("pointerdown",(t=>t.preventDefault()))}connectedCallback(){this.addEventListener("wheel",this.#I=t=>t.preventDefault())}disconnectedCallback(){this.removeEventListener("wheel",this.#I)}show(t=!0){this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;let e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);{let t=parseFloat(getComputedStyle(this.ownerElement).zIndex);this.style.zIndex=t-1}if(this.style.top=i+"px",this.style.left=s+"px",t){return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished}}hide(t=!0){if(t){let t=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return t.finished.then((()=>{this.remove()})),t.finished}this.remove()}}customElements.define("x-backdrop",Ui);class Zi extends HTMLElement{static#E=De`<template><slot></slot></template>`;static#S=Re`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}`;get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Zi.#S],this.#z.append(document.importNode(Zi.#E.content,!0))}}customElements.define("x-box",Zi);class Xi extends HTMLElement{static observedAttributes=["disabled","skin"];static#E=De`<template><slot></slot><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="arrow-path"></path></svg></template>`;static#S=Re`:host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;--path-data:M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z}#arrow path{fill:currentColor}#arrow[hidden]{display:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null}set skin(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get expanded(){return this.hasAttribute("expanded")}get expandable(){return this.#O()||this.#B()}get ownerButtons(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if(["a","x-box"].includes(this.parentElement.localName)&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement}return null}#z=null;#F=!1;#N=null;#H=0;#$=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Xi.#S],this.#z.append(document.importNode(Xi.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("pointerenter",(()=>this.#q())),this.addEventListener("pointerleave",(()=>this.#U())),this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("keydown",(t=>this.#Z(t))),this.addEventListener("close",(t=>this.#X(t))),(async()=>{await customElements.whenDefined("x-backdrop"),this["#backdrop"]=Pi("x-backdrop"),this["#backdrop"].style.background="rgba(0, 0, 0, 0)"})()}connectedCallback(){this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this.#R(),this.#V(),this.#G(),this.#Y(),Ri.addEventListener("themechange",this.#$=()=>this.#R())}disconnectedCallback(){Ri.removeEventListener("themechange",this.#$)}attributeChangedCallback(t){"disabled"===t?this.#G():"skin"===t&&this.#Y()}expand(){return new Promise((async t=>{this.#O()?await this.#K():this.#B()&&await this.#_(),t()}))}collapse(t=null){return new Promise((async e=>{this.#W()?await this.#J(t):this.#Q()&&await this.#tt(t),e()}))}#K(){return new Promise((async t=>{if(this.#O()){let t=this.querySelector(":scope > x-menu"),e=this.querySelector(":scope > x-tooltip");e&&e.close(!1),this.#F=this.matches(":focus"),this.setAttribute("expanded",""),this["#backdrop"].ownerElement=t,this["#backdrop"].show(!1),await t.openNextToElement(this,"vertical",3),t.focus()}t()}))}#J(t=null){return new Promise((async e=>{if(this.#W()){let e=this.querySelector(":scope > x-menu");if(e.setAttribute("closing",""),await t,e.close(),this["#backdrop"].hide(!1),this.removeAttribute("expanded"),"chromium"===$i()&&this.replaceWith(this),this.#F)this.focus();else{let t=Oi(this.parentNode,"[tabindex]");t&&t.focus()}e.removeAttribute("closing")}e()}))}#O(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-menu");if(e&&!1===e.hasAttribute("opened")&&!1===e.hasAttribute("closing")){null!==e.querySelector("x-menuitem")&&(t=!0)}}return t}#W(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-menu");e&&e.opened&&(t=!0)}return t}#_(){return new Promise((async t=>{if(this.#B()){let t=this.querySelector(":scope > x-popover"),e=this.querySelector(":scope > x-tooltip");e&&e.close(!1),this.#F=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this)}t()}))}#tt(t=null){return new Promise((async e=>{if(this.#Q()){let e=this.querySelector(":scope > x-popover");if(e.setAttribute("closing",""),await t,await e.close(),this.removeAttribute("expanded"),e.modal&&"chromium"===$i()&&this.replaceWith(this),this.#F)this.focus();else{let t=Oi(this.parentNode,"[tabindex]");t&&t.focus()}e.removeAttribute("closing")}e()}))}#B(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-popover");e&&!1===e.hasAttribute("opened")&&(t=!0)}return t}#Q(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-popover");e&&e.opened&&(t=!0)}return t}#et(){return new Promise((t=>{if(this.#it()){this.querySelector(":scope > dialog").showModal()}t()}))}#it(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > dialog");e&&!1===e.hasAttribute("open")&&!1===e.hasAttribute("closing")&&(t=!0)}return t}#st(){return new Promise((t=>{if(this.#nt()){this.querySelector(":scope > x-notification").opened=!0}t()}))}#nt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-notification");!e||e.hasAttribute("opened")||e.hasAttribute("closing")||(t=!0)}return t}#R(){let t=getComputedStyle(this["#arrow"]).getPropertyValue("--path-data");this["#arrow-path"].setAttribute("d",t)}#V(){let t=this.querySelector(":scope > x-menu, :scope > x-popover");this["#arrow"].style.display=t?null:"none"}#G(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0)}#Y(){!1===this.hasAttribute("skin")&&this.setAttribute("skin","default")}#j(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(this.#N=t,t.target===this["#backdrop"])this.#ot(t);else{if(e&&e.contains(t.target))return;if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.#ht(t)}}#rt=!1;#X(t){t.target.parentElement===this&&["x-menu","x-popover"].includes(t.target.localName)&&this.#N&&!1===Ii(this.#N,this)&&(this.#rt=!1)}#q(){let t=this.querySelector(":scope > x-tooltip");if(t&&!1===t.disabled&&!1===this.expanded&&!1===this.#rt){if(this.parentElement&&"x-buttons"===this.parentElement.localName)for(let t of this.parentElement.children)if(t!==this&&"x-button"===t.localName){let e=t.querySelector(":scope > x-tooltip");e&&e.close(!1)}t.open(this)}}#U(){let t=this.querySelector(":scope > x-tooltip");t&&t.close(),this.#rt=!1}#T(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(t.target!==this["#backdrop"])if(e&&e.contains(t.target))!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.#at(t);else{if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.#rt=!0,this.#lt(t)}}#ot(t){this.collapse()}async#ht(t){if(t.buttons>1)t.preventDefault();else if(this.querySelector(":scope > dialog[open]"))t.preventDefault();else if(!1!==this.contains(t.target)){if(this.setPointerCapture(t.pointerId),t.preventDefault(),!1===this.matches(":focus")){let t,e=Oi(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("pointerup",t=()=>{this.removeEventListener("pointerup",t),this.removeEventListener("pointercancel",t),e?e.focus():this.blur()}),this.addEventListener("pointercancel",t)}if(!1===this.#O()&&!1===this.#B()&&!1===this.#Q()){let t,e=Date.now(),i=!0,s=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("pointerup",t=async()=>{this.removeEventListener("pointerup",t),this.removeEventListener("pointercancel",t),i=!1;let n=Date.now()-e;n<s&&await Li(s-n),this.removeAttribute("pressed")}),this.addEventListener("pointercancel",t),(async()=>{if(this.ownerButtons)if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)await Li(10);else if(1!==this.ownerButtons.tracking||!1!==this.toggled&&!this.mixed){if(3===this.ownerButtons.tracking){let t=[...this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")].filter((t=>t.toggled));(!1===this.toggled||t.length>1)&&await Li(10)}}else await Li(10);else this.togglable&&await Li(10);i&&this.setAttribute("pressed","")})()}this.#O()?"touch"!==t.pointerType&&this.#K():this.#B()?"touch"!==t.pointerType&&this.#_():this.#Q()&&this.#tt()}}async#lt(t){let e=this.querySelector(":scope > x-menu, :scope > x-popover");if(e){if(e.hasAttribute("closing"))return;e.focus()}!1===this.#Q()&&(this.#it()?this.#et():this.#nt()&&this.#st()),this.#N&&"touch"===this.#N.pointerType&&(this.#O()?this.#K():this.#B()&&this.#_()),this.togglable&&!1===t.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle")))}#at(t){let e=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(e.whenTriggerEnd)}#Z(t){!1===t.defaultPrevented&&("Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code?this.#O()?(t.preventDefault(),this.#K().then((()=>this.querySelector(":scope > x-menu").focusFirstMenuItem()))):this.#B()?(t.preventDefault(),this.#_()):this.#it()?(t.preventDefault(),this.#et()):this.#nt()?(t.preventDefault(),this.#st()):this.matches(":focus")&&(this.#Q()?this.#tt():this.#W()?this.#J():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.#O()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.#K().then((()=>this.querySelector(":scope > x-menu").focusFirstMenuItem()))):this.#B()?(t.preventDefault(),this.#_()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.#O()?(t.preventDefault(),this.#K().then((()=>this.querySelector(":scope > x-menu").focusLastMenuItem()))):this.#B()?(t.preventDefault(),this.#_()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.#W()||this.#Q())&&(t.preventDefault(),this.collapse()))}}customElements.define("x-button",Xi);let{isArray:Vi}=Array;class Gi extends HTMLElement{static#E=De`<template><slot></slot></template>`;static#S=Re`:host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}`;get tracking(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1}set tracking(t){this.setAttribute("tracking",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get value(){if(2===this.tracking||3===this.tracking){return this.#ct().filter((t=>t.toggled)).map((t=>t.value)).filter((t=>null!=t))}if(1===this.tracking||0===this.tracking){let t=this.#ct().find((t=>t.toggled));return t&&void 0!==t.value?t.value:null}if(-1===this.tracking)return null}set value(t){if(2===this.tracking||3===this.tracking){let e=this.#ct();if(Vi(t))for(let i of e)i.toggled=t.includes(i.value);else for(let i of e)i.toggled=i.value===t}else if(1===this.tracking||0===this.tracking){let e=this.#ct(),i=e.find((e=>e.value===t));for(let t of e)t.toggled=t===i}}#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Gi.#S],this.#z.append(document.importNode(Gi.#E.content,!0)),this.addEventListener("click",(t=>this.#T(t)),!0),this.addEventListener("keydown",(t=>this.#Z(t)))}connectedCallback(){for(let t of this.children)if("x-button"===t.localName){"none"!==getComputedStyle(t).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break}}#ct(){return[...this.querySelectorAll(":scope > x-button, :scope > x-box > x-button")]}#T(t){if(t.buttons>1)return;let e=t.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){let t=this.#ct().filter((t=>t!==e));if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;for(let e of t)e.toggled=!1,e.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;for(let e of t)e.toggled=!1,e.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}else if(2===this.tracking)e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));else if(3===this.tracking){let i=t.filter((t=>!0===t.toggled));(!1===e.toggled||i.length>0)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e})))}}}#Z(t){if("ArrowRight"===t.code){let t=[...this.children].find((t=>t.matches(":focus")));t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===t.code){let t=[...this.children].find((t=>t.matches(":focus")));t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-buttons",Gi);class Yi extends HTMLElement{static#E=De`<template><slot id="slot"></slot></template>`;static#S=Re`:host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}#slot{border-radius:inherit}`;#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Yi.#S],this.#z.append(document.importNode(Yi.#E.content,!0))}}customElements.define("x-card",Yi);class Ki extends HTMLElement{static observedAttributes=["toggled","mixed","disabled"];static#E=De`<template><main id="main"><div id="indicator" part="indicator"><svg id="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="checkmark-path"></path></svg></div><div id="description"><slot></slot></div></main></template>`;static#S=Re`:host{display:block;width:fit-content}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;overflow:hidden;--path-data:M -4 -4 L 100 -4 L 100 100 L -4 100 L -4 -4 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z}:host([mixed]) #indicator{--path-data:M -4 -4 L 100 -4 L 100 100 L -4 100 L -4 -4 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 L 87 42.6 Z}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;overflow:visible;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark-path{fill:currentColor}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#H=0;#$=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Ki.#S],this.#z.append(document.importNode(Ki.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("keydown",(t=>this.#Z(t)))}connectedCallback(){Ri.addEventListener("themechange",this.#$=()=>this.#dt()),this.#dt(),this.#G()}disconnectedCallback(){Ri.removeEventListener("themechange",this.#$)}attributeChangedCallback(t){"toggled"===t?this.#ut():"mixed"===t?this.#pt():"disabled"===t&&this.#mt()}#dt(){let t=getComputedStyle(this["#indicator"]).getPropertyValue("--path-data");this["#checkmark-path"].setAttribute("d",t)}#G(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0)}#ut(){this.#dt(),this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled)}#pt(){this.#dt()}#mt(){this.#G()}#j(t){if(t.buttons>1)t.preventDefault();else if(!1===this.matches(":focus")){t.preventDefault();let e=Oi(this.parentNode,"[tabindex]");e&&e.focus()}}async#T(t){this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0}))}#Z(t){"Enter"!==t.code&&"NumpadEnter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-checkbox",Ki);class _i extends HTMLElement{static observedAttributes=["value","space","disabled"];static#E=De`<template><main id="main"><slot></slot><input id="input" type="text" spellcheck="false" autocomplete="false" part="input"><div id="arrow-container"><svg id="arrow" width="10" height="10" viewBox="0 0 100 100" preserveAspectRatio="none" part="arrow"><path id="arrow-path"></path></svg></div><slot></slot></main></template>`;static#S=Re`:host{display:block;position:relative;max-width:160px;height:32px;padding:0 2px 0 8px;box-sizing:border-box;background:#fff;font-size:14px}:host([size=small]){height:24px;padding:0 2px 0 6px;font-size:12.5px}:host([size=large]){height:38px}:host(:focus){z-index:10}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;padding:0;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host(:not(:focus)) ::selection{color:inherit;background:0 0}:host([error]) ::selection{color:#fff;background-color:#d50000}#arrow-container{display:flex;align-items:center;justify-content:center;height:100%;margin-left:4px;min-width:fit-content}#arrow{display:block;box-sizing:border-box;width:auto;min-width:fit-content;height:calc(100% - 4px);color:currentColor;cursor:default;--text-color:50%;--path-data:M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z}:host([size=small]) #arrow{padding:2px 2px}:host([size=large]) #arrow{padding:6px 2px}#arrow path{fill:currentColor}`;get value(){return this.#bt}set value(t){t=$e(Ot(pt(t),this.space),this.#gt),this.#bt===t||this.matches(":focus")||(this.#bt=t,this.isConnected&&(this.#ft(),this.#xt(),this.#wt&&this.reportValidity()))}get space(){return this.hasAttribute("space")?this.getAttribute("space"):"srgb"}set space(t){this.setAttribute("space",t)}get alpha(){return this.hasAttribute("alpha")}set alpha(t){t?this.setAttribute("alpha",""):this.removeAttribute("alpha")}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get empty(){return this.hasAttribute("empty")}get error(){return this.hasAttribute("error")}#bt="#000000";#gt="srgb";#z=null;#H=0;#wt=null;#F=!1;#vt;#yt;#kt;#Ct;constructor(){super(),this.#z=this.attachShadow({mode:"closed",delegatesFocus:!1}),this.#z.adoptedStyleSheets=[Ri.themeStyleSheet,_i.#S],this.#z.append(document.importNode(_i.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this["#format-menu"]=Pi("x-menu"),this.append(this["#format-menu"]),this["#backdrop"]=Pi("x-backdrop"),this["#backdrop"].style.opacity="0",this["#backdrop"].ownerElement=this,this["#backdrop"].addEventListener("click",(t=>this.#Et(t))),this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("pointerenter",(()=>this.#q())),this.addEventListener("pointerleave",(()=>this.#U())),this.addEventListener("focusin",(t=>this.#St(t))),this.addEventListener("focusout",(t=>this.#zt(t))),this.addEventListener("keydown",(t=>this.#Z(t))),this["#input"].addEventListener("input",(t=>this.#Mt(t))),this["#input"].addEventListener("blur",(t=>this.#At(t))),this["#input"].addEventListener("search",(t=>this.#$t(t))),this["#input"].addEventListener("contextmenu",(()=>this.#Lt())),this["#arrow"].addEventListener("pointerdown",(t=>this.#Tt(t))),this["#arrow"].addEventListener("click",(t=>this.#Dt(t))),this["#format-menu"].addEventListener("toggle",(t=>this.#Rt(t))),this["#format-menu"].addEventListener("click",(t=>this.#Pt(t)))}connectedCallback(){this.#gt=Ri.getConfig(`x-colorinput:${this.space}Format`,"srgb"===this.space?"hex":"color"),this.#It(),this.#wt&&this.reportValidity(),Ri.addEventListener("configchange",this.#vt=t=>this.#Ot(t)),Ri.addEventListener("themechange",this.#yt=()=>this.#R())}disconnectedCallback(){Ri.removeEventListener("configchange",this.#vt),Ri.removeEventListener("themechange",this.#yt)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#Bt():"space"===t?this.#Ft():"disabled"===t&&this.#mt())}selectAll(){this["#input"].select()}clear(){this.value="",this.#wt=null,this.#Nt()}reportValidity(){let t=this["#input"].value;return this.required&&0===t.length?this.#wt={href:"#required-field"}:!1===Le(t)&&!1===Le("#"+t)?this.#wt={href:"#invalid-color"}:this.#wt=null,this.#Nt(),null===this.#wt}async#Ht(){if(!1===this.#jt())return;let t=this["#format-menu"];this["#backdrop"].show(!1),window.addEventListener("resize",this.#kt=()=>this.#qt()),window.addEventListener("blur",this.#Ct=()=>this.#qt());{let e=pt(this.value);["srgb","hwb","hsl"].includes(e.spaceId)?t.innerHTML=`\n          <x-menuitem value="hex">\n            <x-label>${$e(e,"hex")}</x-label>\n          </x-menuitem>\n\n          <x-menuitem value="hex-alt">\n            <x-label>${$e(e,"hex").toUpperCase()}</x-label>\n          </x-menuitem>\n\n          <hr/>\n\n          <x-menuitem value="color">\n            <x-label>${$e(e,"color")}</x-label>\n          </x-menuitem>\n\n          <x-menuitem value="color-alt">\n            <x-label>${$e(e,"color-alt")}</x-label>\n          </x-menuitem>\n\n          <hr/>\n\n          <x-menuitem value="rgb">\n            <x-label>${$e(e,"rgb")}</x-label>\n          </x-menuitem>\n\n          <x-menuitem value="rgb-alt">\n            <x-label>${$e(e,"rgb-alt")}</x-label>\n          </x-menuitem>\n\n          <hr/>\n\n          <x-menuitem value="hsl">\n            <x-label>${$e(e,"hsl")}</x-label>\n          </x-menuitem>\n\n          <x-menuitem value="hsl-alt">\n            <x-label>${$e(e,"hsl-alt")}</x-label>\n          </x-menuitem>\n\n          <hr/>\n\n          <x-menuitem value="hwb">\n            <x-label>${$e(e,"hwb")}</x-label>\n          </x-menuitem>\n\n          <x-menuitem value="hwb-alt">\n            <x-label>${$e(e,"hwb-alt")}</x-label>\n          </x-menuitem>\n        `:["p3","rec2020","prophoto","a98rgb"].includes(e.spaceId)?t.innerHTML=`\n          <x-menuitem value="color">\n            <x-label>${$e(e,"color")}</x-label>\n          </x-menuitem>\n\n          <x-menuitem value="color-alt">\n            <x-label>${$e(e,"color-alt")}</x-label>\n          </x-menuitem>\n        `:"oklch"===e.spaceId&&(t.innerHTML=`\n          <x-menuitem value="oklch">\n            <x-label>${$e(e,"oklch")}</x-label>\n          </x-menuitem>\n\n          <x-menuitem value="oklch-alt">\n            <x-label>${$e(e,"oklch-alt")}</x-label>\n          </x-menuitem>\n        `)}{let e=t.querySelector(`[value="${this.#gt}"]`);e&&(e.toggled=!0)}{let e=t.querySelector("x-menuitem[toggled]"),i=t.querySelector("x-menuitem").firstElementChild;e?t.openOverElement(this["#input"],e.querySelector("x-label")):t.openOverElement(this["#input"],i)}{let e=t.getBoundingClientRect(),i=this.getBoundingClientRect(),s=parseFloat(getComputedStyle(this).paddingRight);e.right-s<i.right&&(t.style.minWidth=i.right-e.left+s+"px")}{let t=this.getBoundingClientRect();t.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-t.left-7+"px")}}async#qt(t=null){if(!1===this.#Ut())return;let e=this["#format-menu"];if(e.setAttribute("closing",""),await t,this["#backdrop"].hide(!1),this.#F)this.focus(),this.selectAll();else{let t=Oi(this.parentNode,"[tabindex]");t&&t.focus()}window.removeEventListener("resize",this.#kt),window.removeEventListener("blur",this.#Ct),await e.close(),e.removeAttribute("closing")}#jt(){if(this.disabled)return!1;{let t=this["#format-menu"];return t.querySelector("x-menuitem"),null!==t&&!1===t.opened&&!1===t.hasAttribute("closing")}}#Ut(){if(this.disabled)return!1;{let t=this["#format-menu"];return t.querySelector("x-menuitem"),null!==t&&!0===t.opened&&!1===t.hasAttribute("closing")}}#Zt(t="increment",e=1){let{value:i}=this["#input"],s=this.#Xt();if(s){let[n,o]=s,h=i.substring(n,o),r="",a=1;h.endsWith("%")?r="%":h.endsWith("deg")&&(r="deg"),a="%"===r||"deg"===r?1:i.indexOf("/")>-1&&i.indexOf("/")<n||"color-alt"===this.#gt?.01:1,a*=e,"decrement"===t&&(a*=-1);let l=qt(parseFloat(h)+a,5)+r;this["#input"].value=i.substring(0,n)+l+i.substring(o),this["#input"].selectionStart=n,this["#input"].selectionEnd=n+l.length,this.dispatchEvent(new CustomEvent("input",{bubbles:!0}))}}#Vt(){let{value:t,selectionStart:e,selectionEnd:i}=this["#input"],s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=-1,o=-1;t=t.toLowerCase();for(let i=e-1;i>=0;i-=1){let e=t[i];if(!s.includes(e)){if("#"===e){n=i;break}return null}n=i}for(let n=e;n<t.length;n+=1){let e=t[n];if(!s.includes(e)){if(" "!==e||i>n)return null;break}o=n+1}return-1===n&&-1!==o?n=e:-1===o&&-1!==n&&(o=i),[n,o]}#Xt(){let{value:t,selectionStart:e,selectionEnd:i}=this["#input"],s=["0","1","2","3","4","5","6","7","8","9",".","+","-","%","d","e","g"],n=-1,o=-1;t=t.toLowerCase();for(let i=e-1;i>=0;i-=1){let e=t[i];if(!s.includes(e)){if(!1===[" ","(","/"].includes(e))return null;break}n=i}for(let n=e;n<=t.length;n+=1){let e=t[n];if(!s.includes(e)){if(!1===[" ",")","/"].includes(e)||i>n)return null;break}o=n+1}return-1===n&&-1!==o?n=e:-1===o&&-1!==n&&(o=i),[n,o]}#Gt(){let t,e=this["#input"].value;try{t=pt(e)}catch(i){t=pt("#"+e)}return!1===this.alpha&&(t.alpha=1),e=$e(Ot(t,this.space),this.#gt),e}#Ot(t){let{key:e,value:i,origin:s}=t.detail;e===`x-colorinput:${this.space}Format`&&(this.#gt=i||("srgb"===this.space?"hex":"color"),this.#bt=$e(Ot(pt(this["#input"].value),this.space),this.#gt),this.#ft())}#Ft(){this.#gt=Ri.getConfig(`x-colorinput:${this.space}Format`,"srgb"===this.space?"hex":"color"),this.isConnected&&this.#ft()}#Bt(){this.isConnected&&(this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll())}#mt(){this["#input"].disabled=this.disabled,this.#G()}#T(t){if(2===t.detail){let t=this.#Xt(),e=this.#Vt();if(t){let[e,i]=t;this["#input"].setSelectionRange(e,i)}else if(e){let[t,i]=e;this["#input"].setSelectionRange(t,i)}}this.#Nt()}#Et(t){this.#qt()}#q(){let t=this.querySelector(":scope > x-tooltip");t&&!1===t.disabled&&t.open(this)}#U(){let t=this.querySelector(":scope > x-tooltip");t&&t.close()}#St(){this.#Nt(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#zt(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.reportValidity()}#Z(t){if("Enter"===t.code||"NumpadEnter"===t.code){if(t.preventDefault(),this.reportValidity(),null===this.#wt){let t=this.#Gt();t!==this.#bt&&(this.#bt=t,this.#ft(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.#ft(),this.selectAll()}}else"ArrowUp"===t.code?(t.preventDefault(),this.#Zt("increment",t.shiftKey?10:1)):"ArrowDown"===t.code&&(t.preventDefault(),this.#Zt("decrement",t.shiftKey?10:1))}#At(){if(this.reportValidity(),null===this.#wt){let t=this.#Gt();t!==this.#bt&&(this.#bt=t,this.#ft(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.#ft()}}#Mt(t){this.#wt&&this.reportValidity(),t.stopPropagation(),this.#xt(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}))}#$t(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}#Lt(){this["#input"].selectionStart===this["#input"].selectionEnd&&this.selectAll()}#Tt(t){this.#F=this.matches(":focus")}#Dt(t){this.#Ht()}#Pt(t){let e=t.target.closest("x-menuitem");if(e){if(!1===e.toggled){for(let t of this["#format-menu"].querySelectorAll("x-menuitem"))t.toggled=t===e;Ri.setConfig(`x-colorinput:${this.space}Format`,e.value)}this.#qt(e.whenTriggerEnd)}}#Rt(t){t.preventDefault()}#It(){this.#ft(),this.#R(),this.#xt(),this.#G()}#ft(){let t=pt(this.#bt);!1===this.alpha&&(t.alpha=1);let e=$e(Ot(t,this.space),this.#gt);this.matches(":focus")?(this["#input"].selectionStart=0,this["#input"].selectionEnd=this["#input"].value.length,document.execCommand("insertText",!1,e)):this["#input"].value=e}#R(){let t=getComputedStyle(this["#arrow"]).getPropertyValue("--path-data");this["#arrow-path"].setAttribute("d",t)}#Nt(){let t=this.#wt;t?this.setAttribute("error",""):this.removeAttribute("error");{let e=this.querySelector(':scope > x-tooltip[type="error"]');if(t&&this.matches(":focus")){if(e||(e=Pi("x-tooltip"),e.setAttribute("type","error"),this.append(e)),t.href){let i=t.args?Object.entries(t.args).map((([t,e])=>`${t}:${e}`)).join(","):"";e.innerHTML=`<x-message href="${t.href}" args="${i}"></x-message>`}else e.innerHTML=t;Li(10).then((()=>{e.open(this)}))}else e&&e.close().then((()=>e.remove()))}}#xt(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}#G(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0)}}customElements.define("x-colorinput",_i);let{PI:Wi,sin:Ji,cos:Qi,pow:ts,atan2:es,sqrt:is}=Math;class ss extends HTMLElement{static observedAttributes=["value","alpha","spaces","disabled"];static#E=De`<template><header id="header"><x-select id="space-select" size="small"><x-menu id="space-select-menu"><x-menuitem value="srgb" toggled><x-label>sRGB</x-label></x-menuitem><hr><x-menuitem value="p3"><x-label>Display P3</x-label></x-menuitem><x-menuitem value="rec2020"><x-label>Rec. 2020</x-label></x-menuitem><x-menuitem value="a98rgb"><x-label>A98 RGB</x-label></x-menuitem><x-menuitem value="prophoto"><x-label>ProPhoto</x-label></x-menuitem></x-menu></x-select><x-buttons id="type-buttons" tracking="1"><x-button value="planar" skin="flat"><x-icon href="#square"></x-icon></x-button><x-button value="polar" skin="flat"><x-icon href="#circle"></x-icon></x-button><x-button value="linear" skin="flat"><x-icon href="#bars"></x-icon></x-button></x-buttons></header><main id="main"></main><footer id="footer"><x-colorinput id="input" space="srgb" size="small"></x-colorinput><x-button id="grab-button" size="small" condensed togglable><x-icon href="#eye-dropper"></x-icon></x-button></footer></template>`;static#S=Re`:host{display:block;width:200px;box-sizing:border-box}:host([hidden]){display:none}#header{display:flex;align-items:center}#space-select{min-width:110px;font-size:13px}#type-buttons{margin-left:auto}#type-buttons x-button{margin-left:4px;min-height:1px}#type-buttons x-button x-icon{width:18px;height:18px}#main{margin-top:10px}#sliders{width:100%}:host-context(x-popover) #sliders{height:250px}:host-context(x-popover):host([alpha]) #sliders{height:290px}#footer{display:flex;margin-top:10px}#input{max-width:none;min-height:1px;flex:1;font-size:13px}#input:focus{z-index:1}#grab-button{margin:0 0 0 5px;padding:0 6px}#grab-button x-icon{width:14px;height:14px}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#000000"}set value(t){this.setAttribute("value",t)}get alpha(){return this.hasAttribute("alpha")}set alpha(t){t?this.setAttribute("alpha",""):this.removeAttribute("alpha")}get spaces(){return this.hasAttribute("spaces")?this.getAttribute("spaces").replace(/\s+/g," ").split(" "):["srgb","p3","rec2020","prophoto","a98rgb"]}set spaces(t){this.setAttribute("spaces",t.join(" "))}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#z;#vt;#Yt=!1;constructor(){super(),this.#z=this.attachShadow({mode:"open"}),this.#z.adoptedStyleSheets=[Ri.themeStyleSheet,ss.#S],this.#z.append(document.importNode(ss.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this["#space-select"].addEventListener("change",(()=>this.#Kt())),this["#type-buttons"].addEventListener("toggle",(t=>this.#_t())),this["#main"].addEventListener("pointerdown",(t=>this.#Wt(t)),!0),this["#main"].addEventListener("changestart",(t=>this.#Jt(t))),this["#main"].addEventListener("change",(t=>this.#Qt(t))),this["#main"].addEventListener("changeend",(t=>this.#te(t))),this["#input"].addEventListener("change",(t=>this.#ee(t))),this["#input"].addEventListener("keydown",(t=>this.#ie(t))),this["#grab-button"].addEventListener("toggle",(()=>this.#se()))}connectedCallback(){Ri.addEventListener("configchange",this.#vt=t=>{this.#Ot(t)}),this["#type-buttons"].value=Ri.getConfig(`${this.localName}:type`,"planar"),this.#It()}disconnectedCallback(){Ri.removeEventListener("configchange",this.#vt)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#Bt():"alpha"===t?this.#ne():"spaces"===t?this.#oe():"disabled"===t&&this.#mt())}grab(){return new Promise((async t=>{if(void 0===window.EyeDropper)window.alert("Your web browser does not support Eye Dropper API"),t(null);else{let e,i=new EyeDropper,s=new AbortController;try{e=await i.open({signal:s.signal})}catch(t){e=null}t(e?.sRGBHex||null)}}))}#Bt(){this.isConnected&&(this.#Yt?this.#he():this.#It())}#ne(){for(let t of this["#main"].children)this.alpha?t.setAttribute("alpha",""):t.removeAttribute("alpha");this.alpha?this["#input"].setAttribute("alpha",""):this["#input"].removeAttribute("alpha")}#oe(){this.isConnected&&this.#It()}#mt(){this.isConnected&&this.#It()}#Ot(t){let{key:e,value:i,origin:s}=t.detail;if(e===`${this.localName}:type`){let t=i||"planar";null===this.offsetParent&&this["#type-buttons"].value!==t&&(this["#type-buttons"].value=t,this.#It())}}#Kt(){let t=pt(this.value);this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),"srgb"===this["#space-select"].value?this.value=Bt(Ot(t,"srgb",{inGamut:!0}),{format:"hex"}):["p3","rec2020","prophoto","a98rgb","oklch"].includes(this["#space-select"].value)&&(this.value=Bt(Ot(t,this["#space-select"].value,{inGamut:!0}),{precision:3})),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}#_t(t){Ri.setConfig(`${this.localName}:type`,this["#type-buttons"].value),this.#It()}#Wt(t){this["#input"].matches(":focus")&&t.stopImmediatePropagation()}#Jt(t){this.#Yt=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))}#Qt(t){let e=t.target;if("srgb"===e.space){let[e,i,s,n]=t.target.value;this.value=Bt({space:"srgb",coords:[e,i,s],alpha:n},{format:"hex"})}else if(["p3","rec2020","prophoto","a98rgb"].includes(e.space)){let[i,s,n,o]=t.target.value;this.value=Bt({space:e.space,coords:[i,s,n],alpha:o},{format:"default",precision:3})}else if("oklch"===e.space){let[e,i,s,n]=t.target.value;this.value=Bt({space:"oklch",coords:[e,i,s],alpha:n},{format:"default",precision:3})}this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}#te(t){this.#Yt=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}#ee(t){this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=pt(this["#input"].value);"srgb"===this["#space-select"].value?this.value=Bt(Ot(e,"srgb",{inGamut:!0}),{format:"hex"}):["p3","rec2020","prophoto","a98rgb","oklch"].includes(this["#space-select"].value)&&(this.value=Bt(Ot(e,this["#space-select"].value,{inGamut:!0}),{precision:3})),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}#ie(t){"Enter"!==t.key&&"Space"!==t.code||this.closest("x-popover")&&t.stopPropagation()}#se(){return new Promise((async t=>{let e=await this.grab();this["#grab-button"].toggled=!1,null!==e&&(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),"srgb"===this["#space-select"].value?this.value=e:["p3","rec2020","prophoto","a98rgb","oklch"].includes(this["#space-select"].value)&&(this.value=Bt(Ot(pt(e),this["#space-select"].value,{inGamut:!0}),{precision:3})),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})))}))}#It(){let t=this.#re();this.#ae(t),this.#le(t),this.#ce(t),this.#ft(t),this.#de()}#ae(t=this.#re()){let e=this.spaces;if(1===e.length)this["#space-select"].hidden=!0;else{this["#space-select"].hidden=!1,this["#space-select"].disabled=this.disabled,this["#space-select"].value=t.spaceId;for(let t of this["#space-select-menu"].children)"x-menuitem"===t.localName&&(t.disabled=!e.includes(t.value))}}#le(t=this.#re()){let e;["srgb","p3","rec2020","prophoto","a98rgb"].includes(t.spaceId)?e=["planar","polar","linear"]:"oklch"===t.spaceId&&(e=["planar","linear"]),!1===e.includes(this["#type-buttons"].value)&&(this["#type-buttons"].value=e[0]);for(let t of this["#type-buttons"].children)t.disabled=this.disabled,t.hidden=!1===e.includes(t.value)}#ce(t=this.#re()){let e,i=this["#type-buttons"].value,s=t.spaceId,n=[...t.coords,t.alpha];["srgb","p3","rec2020","a98rgb","prophoto"].includes(s)?"linear"===i?e="x-rgblinearsliders":"planar"===i?e="x-rgbplanarsliders":"polar"===i&&(e="x-rgbpolarsliders"):"oklch"===s&&("linear"===i?e="x-oklchlinearsliders":"planar"===i&&(e="x-oklchplanarliders")),this["#main"].firstElementChild?.localName!==e&&(this["#main"].innerHTML="",this["#sliders"]=document.createElement(e),this["#sliders"].setAttribute("id","sliders"),this["#sliders"].setAttribute("exportparts","slider"),this["#main"].append(this["#sliders"])),this["#sliders"].space=s,this["#sliders"].value=n,this["#sliders"].alpha=this.alpha,this["#sliders"].disabled=this.disabled}#ft(t=this.#re()){this["#input"].space=t.spaceId,this["#input"].alpha=this.alpha,this["#input"].value=Bt(t),this["#input"].disabled=this.disabled}#he=Di(this.#ft,50,this);#de(){this["#grab-button"].disabled=this.disabled}#re(){let t=pt(this.value);return!1===this.spaces.includes(t.spaceId)&&(t="hsl"===t.spaceId||"hwb"===t.spaceId?Ot(t,"srgb",{inGamut:!0}):Ot(t,"p3",{inGamut:!0})),void 0===t.spaceId&&(t.spaceId=t.space.id),t.coords=t.coords.map((t=>1*t)),t}}void 0===customElements.get("x-colorpicker")&&customElements.define("x-colorpicker",ss);class ns extends HTMLElement{static#E=De`<template><div id="hue-slider" part="slider"><div id="hue-slider-track"><div id="hue-slider-marker"></div></div></div><div id="planar-slider" part="slider"><div id="planar-slider-marker"></div></div><div id="alpha-slider" part="slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker"></div></div></div><x-contextmenu id="context-menu"><x-menu><x-menuitem value="hsv"><x-label>HSV</x-label></x-menuitem><x-menuitem value="hsl"><x-label>HSL</x-label></x-menuitem></x-menu></x-contextmenu></template>`;static#S=Re`:host{display:block;user-select:none;-webkit-user-select:none;--marker-width:18px}:host([disabled]){pointer-events:none;opacity:.5}#hue-slider{width:100%;height:35px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;touch-action:pinch-zoom}#hue-slider-track{position:relative;width:100%;height:100%;display:flex;align-items:center}#hue-slider-marker{position:absolute;left:0;width:var(--marker-width);height:calc(100% + 6px);box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));background:rgba(0,0,0,.2);border:3px solid #fff;box-shadow:0 0 3px #000}#planar-slider{width:100%;height:200px;margin-top:10px;position:relative;touch-action:pinch-zoom}#planar-slider-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);box-sizing:border-box;transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{display:none;width:100%;height:35px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;touch-action:pinch-zoom;background:var(--checkboard-background)}:host([alpha]) #alpha-slider{display:block}#alpha-slider-track{position:relative;width:100%;height:100%;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;width:var(--marker-width);height:calc(100% + 6px);box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));background:rgba(0,0,0,.2);border:3px solid #fff;box-shadow:0 0 3px #000}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit}`;get value(){if("hsv"===this.#ue){let[t,e,i]=this.#pe,[s,n,o]=Ot({space:"hsv",coords:[360*t,100*e,100*i]},"srgb").coords;return[s,n,o,this.#me]}if("hsl"===this.#ue){let[t,e,i]=this.#pe,[s,n,o]=Ot({space:"hsl",coords:[360*t,100*e,100*i]},"srgb").coords;return[s,n,o,this.#me]}}set value([t,e,i,s]){if("hsv"===this.#ue){let[n,o,h]=Ot({space:"srgb",coords:[t,e,i]},"hsv").coords;this.#pe=[n/360,o/100,h/100],this.#me=s}else if("hsl"===this.#ue){let[n,o,h]=Ot({space:"srgb",coords:[t,e,i]},"hsl").coords;this.#pe=[n/360,o/100,h/100],this.#me=s}Number.isNaN(this.#pe[0])&&(this.#pe[0]=0),this.#It()}get space(){return this.#be}set space(t){this.#be!==t&&(this.#be=t,this.#It())}get alpha(){return this.hasAttribute("alpha")}set alpha(t){t?this.setAttribute("alpha",""):this.removeAttribute("alpha")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#Yt=!1;#z=null;#vt;#be="srgb";#ue="hsv";#pe=[0,0,0];#me=1;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.append(document.importNode(ns.#E.content,!0)),this.#z.adoptedStyleSheets=[Ri.themeStyleSheet,ns.#S];for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this["#hue-slider"].addEventListener("pointerdown",(t=>this.#ge(t))),this["#planar-slider"].addEventListener("pointerdown",(t=>this.#fe(t))),this["#alpha-slider"].addEventListener("pointerdown",(t=>this.#xe(t))),this["#context-menu"].addEventListener("click",(t=>this.#we(t)))}connectedCallback(){this.#ue=Ri.getConfig(`${this.localName}:model`,"hsv"),Ri.addEventListener("configchange",this.#vt=t=>this.#Ot(t))}disconnectedCallback(){Ri.removeEventListener("configchange",this.#vt)}#Ot(t){let{key:e,value:i,origin:s}=t.detail;if(e===`${this.localName}:model`){let t=i||"hsv";if(t!==this.#ue&&"self"===s){let[e,i,s]=this.value;this.#ue=t,this.value=[e,i,s,this.#me]}}}#we(t){let e=t.target.closest("x-menuitem"),i=e?.value;if(i&&i!==this.#ue){let[t,s,n]=this.value;this.#ue=i,this.value=[t,s,n,this.#me],Ri.setConfig(`${this.localName}:model`,e.value)}}#ge(t){if(t.button>0||this.#Yt)return;let e,i,s=this["#hue-slider-track"].getBoundingClientRect();this.#Yt=!0,this["#hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width;e=Zt(e,0,1),e!==this.#pe[0]&&(this.#pe[0]=e,this.#ve(),this.#ye(),this.#ke(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this["#hue-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&n(e.clientX)}),this["#hue-slider"].addEventListener("pointerup",i=()=>{this["#hue-slider"].removeEventListener("pointermove",e),this["#hue-slider"].removeEventListener("pointerup",i),this["#hue-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Yt=!1}),this["#hue-slider"].addEventListener("pointercancel",i)}#fe(t){if(t.button>0||this.#Yt)return;let e,i,s=this["#planar-slider"].getBoundingClientRect();this.#Yt=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this["#planar-slider"].setPointerCapture(t.pointerId);let n=(t,e)=>{let i=(t-s.left)/s.width,n=(e-s.top)/s.height;if(i=Zt(i,0,1),n=Zt(n,0,1),"hsv"===this.#ue){let[t,e,s]=this.#pe;e=i,s=1-n,this.#pe=[t,e,s]}else if("hsl"===this.#ue){let[t,e,s]=this.#pe;e=i,s=1-n,this.#pe=[t,e,s]}this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#Ce(),this.#ye(),this.#ke()};n(t.clientX,t.clientY),this["#planar-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&n(e.clientX,e.clientY)}),this["#planar-slider"].addEventListener("pointerup",i=()=>{this["#planar-slider"].removeEventListener("pointermove",e),this["#planar-slider"].removeEventListener("pointerup",i),this["#planar-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Yt=!1}),this["#planar-slider"].addEventListener("pointercancel",i)}#xe(t){if(t.button>0||this.#Yt)return;let e,i,s=this["#alpha-slider-track"].getBoundingClientRect();this.#Yt=!0,this["#alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width;e=Zt(e,0,1),e!==this.#me&&(this.#me=e,this.#Ee(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this["#alpha-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&n(e.clientX)}),this["#alpha-slider"].addEventListener("pointerup",i=()=>{this["#alpha-slider"].removeEventListener("pointermove",e),this["#alpha-slider"].removeEventListener("pointerup",i),this["#alpha-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Yt=!1}),this["#alpha-slider"].addEventListener("pointercancel",i)}#It(){this.#ve(),this.#Se(),this.#Ce(),this.#ye(),this.#Ee(),this.#ke(),this.#ze()}#ve(){if("hsv"===this.#ue||"hsl"===this.#ue){let[t]=this.#pe;this["#hue-slider-marker"].style.left=100*t+"%"}}#Se(){let t;"hsv"!==this.#ue&&"hsl"!==this.#ue||(t=[{space:this.space,coords:[1,0,0]},{space:this.space,coords:[1,1,0]},{space:this.space,coords:[0,1,0]},{space:this.space,coords:[0,1,1]},{space:this.space,coords:[0,0,1]},{space:this.space,coords:[1,0,1]},{space:this.space,coords:[1,0,0]}]),t=t.map((t=>Bt(t))),this["#hue-slider"].style.background=`linear-gradient(in srgb to right, ${t.join(",")})`}#Ce(){if("hsv"===this.#ue){let[t,e,i]=this.#pe,s=100*e,n=100-100*i;this["#planar-slider-marker"].style.left=`${s}%`,this["#planar-slider-marker"].style.top=`${n}%`}else if("hsl"===this.#ue){let[t,e,i]=this.#pe,s=100*e,n=100-100*i;this["#planar-slider-marker"].style.left=`${s}%`,this["#planar-slider-marker"].style.top=`${n}%`}}#ye(){if("hsv"===this.#ue){let[t]=this.#pe,e={space:this.space,coords:Ot({space:"hsv",coords:[360*t,100,100]},"srgb").coords},i=[{space:this.space,coords:[1,1,1],alpha:1},{space:this.space,coords:[1,1,1],alpha:0}],s=[{space:this.space,coords:[0,0,0],alpha:0},{space:this.space,coords:[0,0,0],alpha:1}];e=Bt(e),i=i.map((t=>Bt(t))),s=s.map((t=>Bt(t))),this["#planar-slider"].style.background=`\n        linear-gradient(in srgb to bottom, ${s.join(",")}),\n        linear-gradient(in srgb to right,  ${i.join(",")}),\n        ${e}\n      `}else if("hsl"===this.#ue){let[t]=this.#pe,e=[{space:this.space,coords:Ot({space:"hsl",coords:[360*t,0,50]},"srgb").coords},{space:this.space,coords:Ot({space:"hsl",coords:[360*t,100,50]},"srgb").coords}],i=[{space:this.space,coords:[1,1,1],alpha:1},{space:this.space,coords:[1,1,1],alpha:0},{space:this.space,coords:[0,0,0],alpha:1}];e=e.map((t=>Bt(t))),i=i.map((t=>Bt(t))),this["#planar-slider"].style.background=`\n        linear-gradient(in srgb to bottom, ${i.join(",")}),\n        linear-gradient(in srgb to right, ${e.join(",")})\n      `}}#Ee(){this["#alpha-slider-marker"].style.left=100*this.#me+"%"}#ke(){let t;if("hsv"===this.#ue){let[e,i,s]=this.#pe;t=[{space:this.space,coords:Ot({space:"hsv",coords:[360*e,100*i,100*s]},"srgb").coords,alpha:0},{space:this.space,coords:Ot({space:"hsv",coords:[360*e,100*i,100*s]},"srgb").coords,alpha:1}]}else if("hsl"===this.#ue){let[e,i,s]=this.#pe;t=[{space:this.space,coords:Ot({space:"hsl",coords:[360*e,100*i,100*s]},"srgb").coords,alpha:0},{space:this.space,coords:Ot({space:"hsl",coords:[360*e,100*i,100*s]},"srgb").coords,alpha:1}]}t=t.map((t=>Bt(t))),this["#alpha-slider-gradient"].style.background=`linear-gradient(in srgb to right, ${t.join(",")})`}#ze(){let t=[...this["#context-menu"].querySelectorAll("x-menuitem")];for(let e of t)e.toggled=e.value===this.#ue}}void 0===customElements.get("x-rgbplanarsliders")&&customElements.define("x-rgbplanarsliders",ns);class os extends HTMLElement{static#E=De`<template><div id="polar-slider" part="slider"><div id="polar-slider-circle"><div id="polar-slider-marker"></div></div></div><div id="linear-slider" part="slider"><div id="linear-slider-track"><div id="linear-slider-marker"></div></div></div><div id="alpha-slider" part="slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker"></div></div></div><x-contextmenu id="context-menu"><x-menu><x-menuitem value="hsv"><x-label>HSV</x-label></x-menuitem><x-menuitem value="hsl"><x-label>HSL</x-label></x-menuitem></x-menu></x-contextmenu></template>`;static#S=Re`:host{display:block;user-select:none;-webkit-user-select:none;--marker-width:18px}:host([disabled]){pointer-events:none;opacity:.5}#polar-slider{display:flex;align-items:center;width:100%;max-width:200px;height:200px;margin:0 auto}#polar-slider-circle{touch-action:pinch-zoom;position:relative;width:100%;height:fit-content;aspect-ratio:1/1;border-radius:999px!important}#polar-slider-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#linear-slider{width:100%;height:35px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;touch-action:pinch-zoom}#linear-slider-track{position:relative;width:100%;height:100%;display:flex;align-items:center}#linear-slider-marker{position:absolute;left:0;width:var(--marker-width);height:calc(100% + 6px);box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));background:rgba(0,0,0,.2);border:3px solid #fff;box-shadow:0 0 3px #000}#alpha-slider{display:none;width:100%;height:35px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;touch-action:pinch-zoom;background:var(--checkboard-background)}:host([alpha]) #alpha-slider{display:block}#alpha-slider-track{position:relative;width:100%;height:100%;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;width:var(--marker-width);height:calc(100% + 6px);box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));background:rgba(0,0,0,.2);border:3px solid #fff;box-shadow:0 0 3px #000}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit}`;get value(){if("hsv"===this.#ue){let[t,e,i]=this.#pe,[s,n,o]=Ot({space:"hsv",coords:[360*t,100*e,100*i]},"srgb").coords;return[s,n,o,this.#me]}if("hsl"===this.#ue){let[t,e,i]=this.#pe,[s,n,o]=Ot({space:"hsl",coords:[360*t,100*e,100*i]},"srgb").coords;return[s,n,o,this.#me]}}set value([t,e,i,s]){if("hsv"===this.#ue){let[n,o,h]=Ot({space:"srgb",coords:[t,e,i]},"hsv").coords;this.#pe=[n/360,o/100,h/100],this.#me=s}else if("hsl"===this.#ue){let[n,o,h]=Ot({space:"srgb",coords:[t,e,i]},"hsl").coords;this.#pe=[n/360,o/100,h/100],this.#me=s}Number.isNaN(this.#pe[0])&&(this.#pe[0]=0),this.#It()}get space(){return this.#be}set space(t){this.#be!==t&&(this.#be=t,this.#It())}get alpha(){return this.hasAttribute("alpha")}set alpha(t){t?this.setAttribute("alpha",""):this.removeAttribute("alpha")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#Yt=!1;#z=null;#vt;#be="srgb";#ue="hsv";#pe=[0,0,0];#me=1;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.append(document.importNode(os.#E.content,!0)),this.#z.adoptedStyleSheets=[Ri.themeStyleSheet,os.#S];for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this["#polar-slider"].addEventListener("pointerdown",(t=>this.#Me(t))),this["#linear-slider"].addEventListener("pointerdown",(t=>this.#Ae(t))),this["#alpha-slider"].addEventListener("pointerdown",(t=>this.#xe(t))),this["#context-menu"].addEventListener("click",(t=>this.#we(t)))}connectedCallback(){this.#ue=Ri.getConfig(`${this.localName}:model`,"hsv"),Ri.addEventListener("configchange",this.#vt=t=>this.#Ot(t))}disconnectedCallback(){Ri.removeEventListener("configchange",this.#vt)}#Ot(t){let{key:e,value:i,origin:s}=t.detail;if(e===`${this.localName}:model`){let t=i||"hsv";if(t!==this.#ue&&"self"===s){let[e,i,s]=this.value;this.#ue=t,this.value=[e,i,s,this.#me]}}}#we(t){let e=t.target.closest("x-menuitem"),i=e?.value;if(i&&i!==this.#ue){let[t,s,n]=this.value;this.#ue=i,this.value=[t,s,n,this.#me],Ri.setConfig(`${this.localName}:model`,e.value)}}#Me(t){if(t.button>0||this.#Yt)return;let e,i,s=this["#polar-slider"].getBoundingClientRect();this.#Yt=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this["#polar-slider"].style.cursor="default",this["#polar-slider"].setPointerCapture(t.pointerId);let n=(t,e)=>{let i=s.width/2,n=t-s.left-i,o=e-s.top-i,h=ts(n,2)+ts(o,2),r=es(o,n);h>ts(i,2)&&(n=i*Qi(r),o=i*Ji(r),h=ts(n,2)+ts(o,2),r=es(o,n)),this.#pe[0]=(r+Wi)/(2*Wi),this.#pe[1]=is(h)/i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#$e(),this.#Le(),this.#ke()};n(t.clientX,t.clientY),this["#polar-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&n(e.clientX,e.clientY)}),this["#polar-slider"].addEventListener("pointerup",i=()=>{this["#polar-slider"].removeEventListener("pointermove",e),this["#polar-slider"].removeEventListener("pointerup",i),this["#polar-slider"].removeEventListener("pointercancel",i),this["#polar-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Yt=!1}),this["#polar-slider"].addEventListener("pointercancel",i)}#Ae(t){if(t.button>0||this.#Yt)return;let e,i,s=this["#linear-slider-track"].getBoundingClientRect();this.#Yt=!0,this["#linear-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width;e=Zt(e,0,1),e!==this.#pe[0]&&(this.#pe[2]=e,this.#Te(),this.#De(),this.#ke(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this["#linear-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&n(e.clientX)}),this["#linear-slider"].addEventListener("pointerup",i=()=>{this["#linear-slider"].removeEventListener("pointermove",e),this["#linear-slider"].removeEventListener("pointerup",i),this["#linear-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Yt=!1}),this["#linear-slider"].addEventListener("pointercancel",i)}#xe(t){if(t.button>0||this.#Yt)return;let e,i,s=this["#alpha-slider-track"].getBoundingClientRect();this.#Yt=!0,this["#alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width;e=Zt(e,0,1),e!==this.#me&&(this.#me=e,this.#Ee(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this["#alpha-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&n(e.clientX)}),this["#alpha-slider"].addEventListener("pointerup",i=()=>{this["#alpha-slider"].removeEventListener("pointermove",e),this["#alpha-slider"].removeEventListener("pointerup",i),this["#alpha-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Yt=!1}),this["#alpha-slider"].addEventListener("pointercancel",i)}#It(){this.#$e(),this.#De(),this.#Te(),this.#Le(),this.#Ee(),this.#ke(),this.#ze()}#$e(){if("hsv"===this.#ue||"hsl"===this.#ue){let[t,e]=this.#pe,i=100,s=jt*(360*t)/180,n=e*i/2,o={x:i/2,y:i/2},h=(i-(o.x+n*Qi(s)))/i*100,r=(o.y-n*Ji(s))/i*100;this["#polar-slider-marker"].style.left=h+"%",this["#polar-slider-marker"].style.top=r+"%"}}#De(){if("hsv"===this.#ue){let t=[{space:this.space,coords:Ot({space:"hsl",coords:[0,0,100]},"srgb").coords},{space:this.space,coords:Ot({space:"hsl",coords:[0,0,0]},"srgb").coords}],e=[{space:this.space,coords:[1,0,0]},{space:this.space,coords:[1,1,0]},{space:this.space,coords:[0,1,0]},{space:this.space,coords:[0,1,1]},{space:this.space,coords:[0,0,1]},{space:this.space,coords:[1,0,1]},{space:this.space,coords:[1,0,0]}];this["#polar-slider-circle"].style.background=`\n        radial-gradient(circle closest-side, ${t.map((t=>Bt(t))).join(",")} 90%),\n        conic-gradient(from -90deg in srgb, ${e.map((t=>Bt(t))).join(",")})\n      `,this["#polar-slider-circle"].style.backgroundBlendMode="screen, normal"}else if("hsl"===this.#ue){let t=[{space:this.space,coords:Ot({space:"hsl",coords:[0,0,50]},"srgb").coords,alpha:1},{space:this.space,coords:Ot({space:"hsl",coords:[0,0,50]},"srgb").coords,alpha:0}],e=[{space:this.space,coords:[1,0,0]},{space:this.space,coords:[1,1,0]},{space:this.space,coords:[0,1,0]},{space:this.space,coords:[0,1,1]},{space:this.space,coords:[0,0,1]},{space:this.space,coords:[1,0,1]},{space:this.space,coords:[1,0,0]}];this["#polar-slider-circle"].style.background=`\n        radial-gradient(circle closest-side, ${t.map((t=>Bt(t))).join(",")}),\n        conic-gradient(from -90deg in srgb, ${e.map((t=>Bt(t))).join(",")})\n      `,this["#polar-slider-circle"].style.backgroundBlendMode="normal, normal"}}#Te(){if("hsv"===this.#ue){let[t,,e]=this.#pe;this["#linear-slider-marker"].style.left=100*e+"%"}else if("hsl"===this.#ue){let[t,,e]=this.#pe;this["#linear-slider-marker"].style.left=100*e+"%"}}#Le(){let t;if("hsv"===this.#ue){let[e,i]=this.#pe;t=[{space:this.space,coords:Ot({space:"hsv",coords:[360*e,100*i,0]},"srgb").coords},{space:this.space,coords:Ot({space:"hsv",coords:[360*e,100*i,100]},"srgb").coords}]}else if("hsl"===this.#ue){let[e,i]=this.#pe;t=[{space:this.space,coords:Ot({space:"hsl",coords:[360*e,100*i,0]},"srgb").coords},{space:this.space,coords:Ot({space:"hsl",coords:[360*e,100*i,50]},"srgb").coords},{space:this.space,coords:Ot({space:"hsl",coords:[360*e,100*i,100]},"srgb").coords}]}t=t.map((t=>Bt(t))),this["#linear-slider"].style.background=`linear-gradient(in srgb to right, ${t.join(",")})`}#Ee(){this["#alpha-slider-marker"].style.left=100*this.#me+"%"}#ke(){let t;if("hsv"===this.#ue){let[e,i,s]=this.#pe;t=[{space:this.space,coords:Ot({space:"hsv",coords:[360*e,100*i,100*s]},"srgb").coords,alpha:0},{space:this.space,coords:Ot({space:"hsv",coords:[360*e,100*i,100*s]},"srgb").coords,alpha:1}]}else if("hsl"===this.#ue){let[e,i,s]=this.#pe;t=[{space:this.space,coords:Ot({space:"hsl",coords:[360*e,100*i,100*s]},"srgb").coords,alpha:0},{space:this.space,coords:Ot({space:"hsl",coords:[360*e,100*i,100*s]},"srgb").coords,alpha:1}]}t=t.map((t=>Bt(t))),this["#alpha-slider-gradient"].style.background=`linear-gradient(in srgb to right, ${t.join(",")})`}#ze(){let t=[...this["#context-menu"].querySelectorAll("x-menuitem")];for(let e of t)e.toggled=e.value===this.#ue}}void 0===customElements.get("x-rgbpolarsliders")&&customElements.define("x-rgbpolarsliders",os);class hs extends HTMLElement{static#E=De`<template><div id="coord-1-slider" class="slider" part="slider"><div id="coord-1-slider-track" class="slider-track"><div id="coord-1-slider-marker" class="slider-marker"></div></div></div><div id="coord-2-slider" class="slider" part="slider"><div id="coord-2-slider-track" class="slider-track"><div id="coord-2-slider-marker" class="slider-marker"></div></div></div><div id="coord-3-slider" class="slider" part="slider"><div id="coord-3-slider-track" class="slider-track"><div id="coord-3-slider-marker" class="slider-marker"></div></div></div><div id="alpha-slider" class="slider" part="slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track" class="slider-track"><div id="alpha-slider-marker" class="slider-marker"></div></div></div><x-contextmenu id="context-menu"><x-menu><x-menuitem value="hsv"><x-label>HSV</x-label></x-menuitem><x-menuitem value="hsl"><x-label>HSL</x-label></x-menuitem><x-menuitem value="hwb"><x-label>HWB</x-label></x-menuitem><hr id="separator-1"><x-menuitem value="okhsv" data-srgb-only><x-label>okHSV</x-label></x-menuitem><x-menuitem value="okhsl" data-srgb-only><x-label>okHSL</x-label></x-menuitem><x-menuitem value="hsluv" data-srgb-only><x-label>HSLuv</x-label></x-menuitem><hr id="separator-2"><x-menuitem value="rgb"><x-label>RGB</x-label></x-menuitem></x-menu></x-contextmenu></template>`;static#S=Re`:host{display:block;user-select:none;-webkit-user-select:none;--marker-width:18px}:host([disabled]){pointer-events:none;opacity:.5}.slider{width:100%;height:35px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;touch-action:pinch-zoom}.slider-track{position:relative;width:100%;height:100%;display:flex;align-items:center}.slider-marker{position:absolute;left:0;width:var(--marker-width);height:calc(100% + 6px);box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));background:rgba(0,0,0,.2);border:3px solid #fff;box-shadow:0 0 3px #000}#alpha-slider{display:none;margin-top:10px;position:relative;background:var(--checkboard-background)}:host([alpha]) #alpha-slider{display:block}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit}`;get value(){let t="srgb"===this.#be?this.#Re:this.#Pe;if("rgb"===t){let[t,e,i]=this.#pe;return[t,e,i,this.#me]}if("hsv"===t||"okhsv"===t){let[e,i,s]=this.#pe,[n,o,h]=Ot({space:t,coords:[360*e,100*i,100*s]},"srgb").coords;return[n,o,h,this.#me]}if("hsl"===t||"okhsl"===t||"hsluv"===t){let[e,i,s]=this.#pe,[n,o,h]=Ot({space:t,coords:[360*e,100*i,100*s]},"srgb").coords;return[n,o,h,this.#me]}if("hwb"===t){let[t,e,i]=this.#pe,[s,n,o]=Ot({space:"hwb",coords:[360*t,100*e,100*i]},"srgb").coords;return[s,n,o,this.#me]}}set value([t,e,i,s]){let n="srgb"===this.#be?this.#Re:this.#Pe;if("rgb"===n)this.#pe=[t,e,i],this.#me=s;else if("hsv"===n||"okhsv"===n){let[o,h,r]=Ot({space:"srgb",coords:[t,e,i]},n).coords;this.#pe=[o/360,h/100,r/100],this.#me=s}else if("hsl"===n||"okhsl"===n||"hsluv"===n){let[o,h,r]=Ot({space:"srgb",coords:[t,e,i]},n).coords;this.#pe=[o/360,h/100,r/100],this.#me=s}else if("hwb"===n){let[n,o,h]=Ot({space:"srgb",coords:[t,e,i]},"hwb").coords;this.#pe=[n/360,o/100,h/100],this.#me=s}Number.isNaN(this.#pe[0])&&(this.#pe[0]=0),this.#It()}get space(){return this.#be}set space(t){this.#be!==t&&(this.#be=t,this.#It())}get alpha(){return this.hasAttribute("alpha")}set alpha(t){t?this.setAttribute("alpha",""):this.removeAttribute("alpha")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#Yt=!1;#z=null;#vt;#be="srgb";#Re="hsv";#Pe="hsv";#pe=[0,0,0];#me=1;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.append(document.importNode(hs.#E.content,!0)),this.#z.adoptedStyleSheets=[Ri.themeStyleSheet,hs.#S];for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this["#coord-1-slider"].addEventListener("pointerdown",(t=>this.#Ie(t))),this["#coord-2-slider"].addEventListener("pointerdown",(t=>this.#Oe(t))),this["#coord-3-slider"].addEventListener("pointerdown",(t=>this.#Be(t))),this["#alpha-slider"].addEventListener("pointerdown",(t=>this.#xe(t))),this["#context-menu"].addEventListener("click",(t=>this.#we(t)))}connectedCallback(){this.#Re=Ri.getConfig(`${this.localName}:srgbModel`,"hsv"),this.#Pe=Ri.getConfig(`${this.localName}:wideGamutModel`,"hsv"),Ri.addEventListener("configchange",this.#vt=t=>this.#Ot(t))}disconnectedCallback(){Ri.removeEventListener("configchange",this.#vt)}#Ot(t){let{key:e,value:i,origin:s}=t.detail;if("self"===s)if(e===`${this.localName}:wideGamutModel`){let t=i||"hsv";if(t!==this.#Pe){let[e,i,s]=this.value;this.#Pe=t,this.value=[e,i,s,this.#me]}}else if(e===`${this.localName}:srgbModel`){let t=i||"hsv";if(t!==this.#Re){let[e,i,s]=this.value;this.#Re=t,this.value=[e,i,s,this.#me]}}}#we(t){let e=t.target.closest("x-menuitem")?.value;if(e){let[t,i,s]=this.value;this.#Re=e,Ri.setConfig(`${this.localName}:srgbModel`,e),!1===["okhsv","okhsl","hsluv"].includes(e)&&(this.#Pe=e,Ri.setConfig(`${this.localName}:wideGamutModel`,e)),this.value=[t,i,s,this.#me]}}#Ie(t){if(t.button>0||this.#Yt)return;let e,i,s=this["#coord-1-slider-track"].getBoundingClientRect();this.#Yt=!0,this["#coord-1-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width;e=Zt(e,0,1),e!==this.#pe[0]&&(this.#pe[0]=e,this.#Fe(),this.#Ne(),this.#He(),this.#ke(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this["#coord-1-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&n(e.clientX)}),this["#coord-1-slider"].addEventListener("pointerup",i=()=>{this["#coord-1-slider"].removeEventListener("pointermove",e),this["#coord-1-slider"].removeEventListener("pointerup",i),this["#coord-1-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Yt=!1}),this["#coord-1-slider"].addEventListener("pointercancel",i)}#Oe(t){if(t.button>0||this.#Yt)return;let e,i,s="srgb"===this.#be?this.#Re:this.#Pe,n=this["#coord-2-slider-track"].getBoundingClientRect();this.#Yt=!0,this["#coord-2-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let o=t=>{let e=(t-n.x)/n.width;e=Zt(e,0,1),e!==this.#pe[1]&&(this.#pe[1]=e,"rgb"===s&&this.#je(),this.#qe(),this.#Ne(),this.#He(),this.#ke(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};o(t.clientX),this["#coord-2-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&o(e.clientX)}),this["#coord-2-slider"].addEventListener("pointerup",i=()=>{this["#coord-2-slider"].removeEventListener("pointermove",e),this["#coord-2-slider"].removeEventListener("pointerup",i),this["#coord-2-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Yt=!1}),this["#coord-2-slider"].addEventListener("pointercancel",i)}#Be(t){if(t.button>0||this.#Yt)return;let e,i,s="srgb"===this.#be?this.#Re:this.#Pe,n=this["#coord-3-slider-track"].getBoundingClientRect();this.#Yt=!0,this["#coord-3-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let o=t=>{let e=(t-n.x)/n.width;e=Zt(e,0,1),e!==this.#pe[2]&&(this.#pe[2]=e,"rgb"===s&&(this.#je(),this.#Ne()),this.#Ue(),this.#ke(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};o(t.clientX),this["#coord-3-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&o(e.clientX)}),this["#coord-3-slider"].addEventListener("pointerup",i=()=>{this["#coord-3-slider"].removeEventListener("pointermove",e),this["#coord-3-slider"].removeEventListener("pointerup",i),this["#coord-3-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Yt=!1}),this["#coord-3-slider"].addEventListener("pointercancel",i)}#xe(t){if(t.button>0||this.#Yt)return;let e,i,s=this["#alpha-slider-track"].getBoundingClientRect();this.#Yt=!0,this["#alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width;e=Zt(e,0,1),e!==this.#me&&(this.#me=e,this.#Ee(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this["#alpha-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&n(e.clientX)}),this["#alpha-slider"].addEventListener("pointerup",i=()=>{this["#alpha-slider"].removeEventListener("pointermove",e),this["#alpha-slider"].removeEventListener("pointerup",i),this["#alpha-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Yt=!1}),this["#alpha-slider"].addEventListener("pointercancel",i)}#It(){this.#Fe(),this.#je(),this.#qe(),this.#Ne(),this.#Ue(),this.#He(),this.#Ee(),this.#ke(),this.#ze()}#Fe(){this["#coord-1-slider-marker"].style.left=100*this.#pe[0]+"%"}#je(){let t,e="srgb"===this.#be?this.#Re:this.#Pe;if("rgb"===e){let[,e,i]=this.#pe;t=[{space:this.space,coords:[0,e,i]},{space:this.space,coords:[1,e,i]}]}else"hsv"===e||"hsl"===e||"hwb"===e?t=[{space:this.space,coords:[1,0,0]},{space:this.space,coords:[1,1,0]},{space:this.space,coords:[0,1,0]},{space:this.space,coords:[0,1,1]},{space:this.space,coords:[0,0,1]},{space:this.space,coords:[1,0,1]},{space:this.space,coords:[1,0,0]}]:"okhsv"!==e&&"okhsl"!==e&&"hsluv"!==e||(t=[{space:"okhsv",coords:[0,100,100]},{space:"okhsv",coords:[60,100,100]},{space:"okhsv",coords:[120,100,100]},{space:"okhsv",coords:[180,100,100]},{space:"okhsv",coords:[240,100,100]},{space:"okhsv",coords:[300,100,100]},{space:"okhsv",coords:[360,100,100]}],t=t.map((t=>Ot(t,"srgb"))));t=t.map((t=>Bt(t))),this["#coord-1-slider"].style.background=`linear-gradient(in srgb to right, ${t.join(",")})`}#qe(){this["#coord-2-slider-marker"].style.left=100*this.#pe[1]+"%"}#Ne(){let t,e="srgb"===this.#be?this.#Re:this.#Pe;if("rgb"===e){let[e,,i]=this.#pe;t=[{space:this.space,coords:[e,0,i]},{space:this.space,coords:[e,1,i]}]}else if("hsv"===e||"okhsv"===e){let[i]=this.#pe;t=[{space:this.space,coords:Ot({space:e,coords:[360*i,0,100]},"srgb").coords},{space:this.space,coords:Ot({space:e,coords:[360*i,100,100]},"srgb").coords}]}else if("hsl"===e){let[e]=this.#pe;t=[{space:this.space,coords:Ot({space:"hsl",coords:[360*e,0,50]},"srgb").coords},{space:this.space,coords:Ot({space:"hsl",coords:[360*e,100,50]},"srgb").coords}]}else if("hwb"===e){let[e]=this.#pe;t=[{space:this.space,coords:Ot({space:"hwb",coords:[360*e,0,0]},"srgb").coords},{space:this.space,coords:Ot({space:"hwb",coords:[360*e,100,0]},"srgb").coords}]}else if("okhsl"===e||"hsluv"===e){let[i]=this.#pe;t=[{space:this.space,coords:Ot({space:e,coords:[360*i,0,65]},"srgb").coords},{space:this.space,coords:Ot({space:e,coords:[360*i,100,65]},"srgb").coords}]}t=t.map((t=>Bt(t))),this["#coord-2-slider"].style.background=`linear-gradient(in srgb to right, ${t.join(",")})`}#Ue(){this["#coord-3-slider-marker"].style.left=100*this.#pe[2]+"%"}#He(){let t,e="srgb"===this.#be?this.#Re:this.#Pe;if("rgb"===e){let[e,i,s]=this.#pe;t=[{space:this.space,coords:[e,i,0]},{space:this.space,coords:[e,i,1]}]}else if("hsv"===e||"okhsv"===e){let[i,s]=this.#pe;t=[{space:this.space,coords:Ot({space:e,coords:[360*i,100*s,0]},"srgb").coords},{space:this.space,coords:Ot({space:e,coords:[360*i,100*s,100]},"srgb").coords}]}else if("hsl"===e||"okhsl"===e||"hsluv"===e){let[i,s]=this.#pe;t=[{space:this.space,coords:Ot({space:e,coords:[360*i,100*s,0]},"srgb").coords},{space:this.space,coords:Ot({space:e,coords:[360*i,100*s,50]},"srgb").coords},{space:this.space,coords:Ot({space:e,coords:[360*i,100*s,100]},"srgb").coords}]}else if("hwb"===e){let[e,i]=this.#pe;t=[{space:this.space,coords:Ot({space:"hwb",coords:[360*e,100*i,0]},"srgb").coords},{space:this.space,coords:Ot({space:"hwb",coords:[360*e,100*i,100]},"srgb").coords}]}t=t.map((t=>Bt(t))),this["#coord-3-slider"].style.background=`linear-gradient(in srgb to right, ${t.join(",")})`}#Ee(){this["#alpha-slider-marker"].style.left=100*this.#me+"%"}#ke(){let t,e="srgb"===this.#be?this.#Re:this.#Pe;if("rgb"===e){let[e,i,s]=this.#pe;t=[{space:this.space,coords:[e,i,s],alpha:0},{space:this.space,coords:[e,i,s],alpha:1}]}else if("hsv"===e||"okhsv"===e){let[i,s,n]=this.#pe;t=[{space:this.space,coords:Ot({space:e,coords:[360*i,100*s,100*n]},"srgb").coords,alpha:0},{space:this.space,coords:Ot({space:e,coords:[360*i,100*s,100*n]},"srgb").coords,alpha:1}]}else if("hsl"===e||"okhsl"===e||"hsluv"===e){let[i,s,n]=this.#pe;t=[{space:this.space,coords:Ot({space:e,coords:[360*i,100*s,100*n]},"srgb").coords,alpha:0},{space:this.space,coords:Ot({space:e,coords:[360*i,100*s,100*n]},"srgb").coords,alpha:1}]}else if("hwb"===e){let[e,i,s]=this.#pe;t=[{space:this.space,coords:Ot({space:"hwb",coords:[360*e,100*i,100*s]},"srgb").coords,alpha:0},{space:this.space,coords:Ot({space:"hwb",coords:[360*e,100*i,100*s]},"srgb").coords,alpha:1}]}t=t.map((t=>Bt(t))),this["#alpha-slider-gradient"].style.background=`linear-gradient(in srgb to right, ${t.join(",")})`}#ze(){let t="srgb"===this.#be?this.#Re:this.#Pe,e=[...this["#context-menu"].querySelectorAll("x-menuitem")];for(let i of e)i.toggled=i.value===t,i.hidden=i.hasAttribute("data-srgb-only")&&"srgb"!==this.space;this["#separator-1"].hidden="srgb"!==this.space}}void 0===customElements.get("x-rgblinearsliders")&&customElements.define("x-rgblinearsliders",hs);class rs extends HTMLElement{static observedAttributes=["value","alpha","spaces","disabled","size"];static#E=De`<template><div id="preview"></div><x-popover id="popover" part="popover" modal><main><x-colorpicker id="color-picker"></x-colorpicker></main></x-popover></template>`;static#S=Re`:host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background:var(--checkboard-background)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}#preview{width:100%;height:100%}#popover{--align:left}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#000000"}set value(t){this.setAttribute("value",t)}get alpha(){return this.hasAttribute("alpha")}set alpha(t){t?this.setAttribute("alpha",""):this.removeAttribute("alpha")}get spaces(){return this.hasAttribute("spaces")?this.getAttribute("spaces").replace(/\s+/g," ").split(" "):["srgb","p3"]}set spaces(t){this.setAttribute("spaces",t.join(" "))}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#F=!1;#Ze=!1;#H=0;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Ri.themeStyleSheet,rs.#S],this.#z.append(document.importNode(rs.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.addEventListener("keydown",(t=>this.#Z(t))),this["#preview"].addEventListener("click",(t=>this.#T(t))),this["#popover"].addEventListener("close",(()=>this.#Xe())),this["#color-picker"].addEventListener("changestart",(()=>this.#Ve())),this["#color-picker"].addEventListener("change",(t=>this.#Ge(t))),this["#color-picker"].addEventListener("changeend",(()=>this.#Ye()))}connectedCallback(){this["#color-picker"].setAttribute("value",this.value),this.#G(),this.#Ke()}attributeChangedCallback(t){"value"===t?this.#Bt():"alpha"===t?this.#ne():"spaces"===t?this.#oe():"disabled"===t?this.#mt():"size"===t&&this.#_e()}async#Ht(){!1===this.hasAttribute("expanded")&&(this.#F=this.matches(":focus"),this.setAttribute("expanded",""),await this["#popover"].open(this),this["#popover"].focus())}async#qt(t=null){if(this.hasAttribute("expanded")){if(this["#popover"].setAttribute("closing",""),await this["#popover"].close(),this.removeAttribute("expanded"),this.#F)this.focus();else{let t=Oi(this.parentNode,"[tabindex]");t&&t.focus()}this["#popover"].removeAttribute("closing")}}#Ke(){this["#preview"].style.background=this.value}#G(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0)}#Bt(){!1===this.#Ze&&(this.#Ke(),this["#color-picker"].getAttribute("value")!==this.getAttribute("value")&&this["#color-picker"].setAttribute("value",this.getAttribute("value")))}#ne(){this["#color-picker"].alpha=this.alpha}#oe(){this["#color-picker"].spaces=this.spaces}#mt(){this.#G()}#_e(){this["#color-picker"].size=this.size}#Ve(){this.#Ze=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))}#Ge(t){this.value=this["#color-picker"].value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#Ke()}#Ye(){this.#Ze=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}#T(t){!1===this["#popover"].opened&&(t.preventDefault(),this.#Ht())}#Z(t){"Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code?(t.preventDefault(),t.stopPropagation(),this.hasAttribute("expanded")?this.#qt():this.#Ht()):"Escape"===t.code?this.hasAttribute("expanded")&&(t.preventDefault(),this.#qt()):"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault()}#Xe(){this.dispatchEvent(new CustomEvent("collapse")),this.#qt()}}customElements.define("x-colorselect",rs);class as extends HTMLElement{static#E=De`<template><slot></slot></template>`;static#S=Re`:host{display:block;position:fixed;width:0;height:0;z-index:1001}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#z=null;#We=null;#Je=null;#Qe=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[as.#S],this.#z.append(document.importNode(as.#E.content,!0)),this["#backdrop"]=Pi("x-backdrop"),this["#backdrop"].style.background="rgba(0, 0, 0, 0)",this["#backdrop"].addEventListener("contextmenu",(t=>this.#ti(t))),this["#backdrop"].addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("blur",(t=>this.#ei())),this.addEventListener("keydown",(t=>this.#Z(t)),!0),this.addEventListener("click",(t=>this.#T(t)))}connectedCallback(){this.#We=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.#Je=()=>{this.#ei()}),this.#We.addEventListener("contextmenu",this.#Qe=t=>{this.#ii(t)})}disconnectedCallback(){window.removeEventListener("blur",this.#Je),this.#We.removeEventListener("contextmenu",this.#Qe),this.#We=null}open(t,e){let i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this["#backdrop"].ownerElement=i,this["#backdrop"].show(!1),i.focus())}close(){return new Promise((async t=>{this["#backdrop"].hide(!1);let e=this.querySelector("x-menu");if(e&&!0===e.opened){await e.close();let t=Oi(this.parentNode,"[tabindex]");t&&t.focus()}t()}))}#ei(){this.close()}#ii(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY))}#ti(t){t.preventDefault(),t.stopImmediatePropagation(),this.close().then((()=>{let e=((t,e,i=!0)=>{let s=document.elementFromPoint(t,e);if(i&&s)for(;;){let i=s.shadowRoot||s._shadowRoot;if(!i)break;{let n=i.elementFromPoint(t,e);if(n.getRootNode()!==i&&(n=null),!n||n===s)break;s=n}}return s})(t.clientX,t.clientY,!0),i=new MouseEvent(t.type,t);e.dispatchEvent(i)}))}#ot(t){t.buttons<=1&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())}async#T(t){let e=t.target.closest("x-menuitem");if(e&&!1===e.disabled){let t=e.querySelector("x-menu");t?t.opened?t.close():t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.close(),this.removeAttribute("closing"))}}#Z(t){if("Escape"===t.code){this.querySelector("x-menu").opened&&(t.preventDefault(),this.close())}else if("Tab"===t.code){t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem()}}}customElements.define("x-contextmenu",as);class ls extends HTMLElement{static observedAttributes=["href"];static#E=De`<template><svg id="svg" preserveAspectRatio="none" viewBox="0 0 100 100" width="0px" height="0px"></svg></template>`;static#S=Re`:host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}`;get href(){return this.hasAttribute("href")?this.getAttribute("href"):""}set href(t){this.setAttribute("href",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#si=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[ls.#S],this.#z.append(document.importNode(ls.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t}connectedCallback(){Ri.addEventListener("iconsetschange",this.#si=()=>{this.#It()})}disconnectedCallback(){Ri.removeEventListener("iconsetschange",this.#si)}attributeChangedCallback(t,e,i){e!==i&&"href"===t&&this.#It()}async#It(){let t=null,e=this.href.trim();if(""!==e){let i=null,s=null;if(e.includes("#")){let t=e.split("#");""!==t[0]&&(i=t[0]),""!==t[1]&&(s=t[1])}if(null!==s)if(null===i)await Ri.whenIconsetsReady,t=Ri.queryIcon("#"+CSS.escape(s));else{let e=await Oe(i);e&&(t=e.querySelector("#"+CSS.escape(s)))}}t?(this["#svg"].setAttribute("viewBox",t.getAttribute("viewBox")),this["#svg"].innerHTML=t.innerHTML):this["#svg"].innerHTML=""}}customElements.define("x-icon",ls);class cs extends HTMLElement{static observedAttributes=["type","value","spellcheck","minlength","maxlength","readonly","disabled","validation"];static#E=De`<template><main id="main"><slot></slot><input id="input" spellcheck="false" part="input"></main></template>`;static#S=Re`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"text"}set type(t){this.setAttribute("type",t)}get value(){return this["#input"].value}set value(t){this["#input"].value!==t&&(this.matches(":focus")?(this["#input"].selectionStart=0,this["#input"].selectionEnd=this["#input"].value.length,document.execCommand("insertText",!1,t)):this["#input"].value=t,"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#wt||this.#ni)&&this.reportValidity(),this.#xt())}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get readOnly(){return this.hasAttribute("readonly")}set readOnly(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get empty(){return this.hasAttribute("empty")}get error(){return this.hasAttribute("error")}#z=null;#H=0;#oi=0;#wt=null;#ni=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#z.adoptedStyleSheets=[cs.#S],this.#z.append(document.importNode(cs.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("pointerenter",(()=>this.#q())),this.addEventListener("pointerleave",(()=>this.#U())),this.addEventListener("focusin",(t=>this.#St(t))),this.addEventListener("focusout",(t=>this.#zt(t))),this.addEventListener("keydown",(t=>this.#Z(t))),this["#input"].addEventListener("input",(t=>this.#Mt(t))),this["#input"].addEventListener("change",(t=>this.#ee(t))),this["#input"].addEventListener("search",(t=>this.#$t(t)))}connectedCallback(){this.#G(),this.#xt(),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#wt||this.#ni)&&this.reportValidity()}attributeChangedCallback(t){"type"===t?this.#hi():"value"===t?this.#Bt():"spellcheck"===t?this.#ri():"minlength"===t?this.#ai():"maxlength"===t?this.#li():"readonly"===t?this.#ci():"disabled"===t?this.#mt():"validation"===t&&this.#di()}selectAll(){this["#input"].select()}clear(){this.value="",this.#wt=null,this.#ni=null,this.#Nt()}reportValidity(){let t=new CustomEvent("beforevalidate",{bubbles:!1,cancelable:!0});return this.dispatchEvent(t),!1===t.defaultPrevented&&(this.value.length<this.minLength?this.#wt={href:"#entered-text-is-too-short"}:this.value.length>this.maxLength?this.#wt={href:"#entered-text-is-too-long"}:this.required&&0===this.value.length?this.#wt={href:"#required-field"}:"email"===this.type&&!1===this["#input"].validity.valid?this.#wt={href:"#invalid-email"}:"url"===this.type&&!1===this["#input"].validity.valid?this.#wt={href:"#invalid-url"}:"color"===this.type&&!1===Le(this["#input"].value)?this.#wt={href:"#invalid-color"}:this.#wt=null,this.#Nt()),null===this.#wt&&null===this.#ni}setCustomValidity(t){this.#ni=""===t?null:t,this.#Nt()}#Nt(){let t=this.#ni||this.#wt;t?this.setAttribute("error",""):this.removeAttribute("error");{let e=this.querySelector(':scope > x-tooltip[type="error"]');if(t&&this.matches(":focus")){if(e||(e=Pi("x-tooltip"),e.setAttribute("type","error"),this.append(e)),t.href){let i=t.args?Object.entries(t.args).map((([t,e])=>`${t}:${e}`)).join(","):"";e.innerHTML=`<x-message href="${t.href}" args="${i}"></x-message>`}else e.innerHTML=t;Li(10).then((()=>{e.open(this)}))}else e&&e.close().then((()=>e.remove()))}}#xt(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}#G(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0)}#hi(){"color"===this.type?this["#input"].type="text":this["#input"].type=this.type}#Bt(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll()}#ri(){this["#input"].spellcheck=this.spellcheck}#ai(){this["#input"].minLength=this.minLength}#li(){this["#input"].maxLength=this.maxLength}#ci(){this["#input"].readOnly=this.readOnly,this.#G()}#mt(){this["#input"].disabled=this.disabled,this.#G()}#di(){"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#wt||this.#ni)&&this.reportValidity()}#T(){this.#Nt()}#q(){let t=this.querySelector(":scope > x-tooltip");t&&!1===t.disabled&&t.open(this)}#U(){let t=this.querySelector(":scope > x-tooltip");t&&t.close()}#St(){this.#Nt(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#zt(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation||"instant"===this.validation?this.reportValidity():"manual"===this.validation&&this.#Nt()}#Z(t){"Enter"!==t.code&&"NumpadEnter"!==t.code||(document.execCommand("selectAll"),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||this.reportValidity())}#Mt(t){"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#wt||this.#ni)&&this.reportValidity(),t.stopPropagation(),this.#xt(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}))}#ee(t){this.#oi=t.timeStamp,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}#$t(t){t.timeStamp-this.#oi>100&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}customElements.define("x-input",cs);class ds extends HTMLElement{static#E=De`<template><slot></slot></template>`;static#S=Re`:host{display:block;line-height:1.2;cursor:inherit;user-select:none;-webkit-user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[ds.#S],this.#z.append(document.importNode(ds.#E.content,!0))}}customElements.define("x-label",ds);let{isFinite:us,isNaN:ps,parseFloat:ms}=Number;class bs extends HTMLElement{static observedAttributes=["href","args","autocapitalize","ellipsis"];get href(){return this.hasAttribute("href")?this.getAttribute("href"):""}set href(t){this.setAttribute("href",t)}get args(){let t=Object.create(null),e=this.hasAttribute("args")?this.getAttribute("args").trim():"";if(""!==e)for(let i of e.split(",")){let[e,...s]=i.split(":"),n=s.join(":");e=e.trim(),n=n.trim();let o=parseFloat(n),h=n-o+1>=0;t[e]=h?o:n}return t}set args(t){let e=Object.keys(t).map((e=>`${e}: ${t[e]}`)).join(", ");0===t.length?this.removeAttribute("args"):this.setAttribute("args",e)}get autocapitalize(){return!!this.hasAttribute("autocapitalize")}set autocapitalize(t){t?this.setAttribute("autocapitalize",""):this.removeAttribute("autocapitalize")}get ellipsis(){return this.hasAttribute("ellipsis")}set ellipsis(t){t?this.setAttribute("ellipsis",""):this.removeAttribute("ellipsis")}get whenReady(){return new Promise((t=>{null===this.#ui?t():this.#ui.push(t)}))}#pi=null;#yt=null;#ui=[];connectedCallback(){this.#It(),Ri.addEventListener("localeschange",this.#pi=()=>{this.#It()}),Ri.addEventListener("themechange",this.#yt=()=>{this.#It()})}disconnectedCallback(){Ri.removeEventListener("localeschange",this.#pi),Ri.removeEventListener("themechange",this.#yt)}attributeChangedCallback(t,e,i){e!==i&&!1!==this.isConnected&&("href"===t||"args"===t||"autocapitalize"===t||"ellipsis"===t)&&this.#It()}async#It(){await Ri.whenLocalesReady;let t=Ri.queryMessage(this.href,this.args);if("html"===t.format?this.innerHTML=t.content+(this.ellipsis?"…":""):!0===this.autocapitalize&&"titlecase"===Ri.autocapitalize?this.textContent=(t=>{let e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|v.?|vs.?|via)$/i,i=/([A-Za-z0-9\u00C0-\u00FF])/;return t.split(/([ :–—-])/).map(((t,s,n)=>t.search(e)>-1&&0!==s&&s!==n.length-1&&":"!==n[s-3]&&":"!==n[s+1]&&("-"!==n[s+1]||"-"===n[s-1]&&"-"===n[s+1])?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1||":"===n[s+1]&&""!==n[s+2]?t:t.replace(i,(t=>t.toUpperCase())))).join("")})(t.content)+(this.ellipsis?"…":""):this.textContent=t.content+(this.ellipsis?"…":""),null!==this.#ui){for(let t of this.#ui)t();this.#ui=null}}}customElements.define("x-message",bs);let gs=t=>{let[e,i,...s]=t.trim().split(" ");return[i,parseFloat(e),s.join(" ")]},{abs:fs}=Math;class xs extends HTMLElement{static observedAttributes=["opened"];static#E=De`<template><slot id="slot"></slot></template>`;static#S=Re`:host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}`;get opened(){return this.hasAttribute("opened")}#z=null;#mi=[];#bi=null;#gi=null;#fi=0;#xi=0;#wi=!1;#vi=!1;#yi=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[xs.#S],this.#z.append(document.importNode(xs.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("pointerover",(t=>this.#ki(t))),this.addEventListener("pointerout",(t=>this.#Ci(t))),this.addEventListener("pointermove",(t=>this.#Ei(t))),this.addEventListener("keydown",(t=>this.#Z(t))),this.addEventListener("wheel",(t=>this.#Si(t)),{passive:!1}),this.addEventListener("scroll",(t=>this.#zi(t)),{passive:!0})}connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0")}attributeChangedCallback(t){"opened"===t&&this.#Mi()}openOverElement(t,e){return new Promise((async i=>{let s=this.querySelectorAll(":scope > x-menuitem");if(s.length>0){this.#wi=!0,this.#yi=Ti(),this.#Ai(),this.setAttribute("opened","");let i=[...s].find((t=>t.contains(e)))||s[0],n=this.getBoundingClientRect(),o=t.getBoundingClientRect(),h=e.getBoundingClientRect(),r=0,a=0;i.focus(),0===n.top&&0===n.left||(r=-n.left,a=-n.top),this.style.left=o.x-(h.x-n.x)+r+"px",this.style.top=o.y-(h.y-n.y)+a+"px",n=this.getBoundingClientRect(),n.left<7&&(this.style.left=7+r+"px",n=this.getBoundingClientRect());7-n.top>0&&(this.style.height=n.bottom-7+"px",this.style.top=7+a+"px",this.scrollTop=9999,n=this.getBoundingClientRect());if(n.bottom+7>window.innerHeight){let t=n.bottom-window.innerHeight,e=n.height-t-7;this.style.height=e+"px"}if(n.right+7>window.innerWidth){let t=n.right-window.innerWidth,e=n.width-t-7;this.style.width=`${e}px`}{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=gs(t);if("transform"===e){let t=this.getBoundingClientRect(),e=o.y+o.height/2-t.top;await this.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:[`0 ${e}px`,`0 ${e}px`]},{duration:i,easing:s}).finished}}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),this.#xi=a}i()}))}openOverLabel(t){return new Promise((async e=>{let i=this.querySelectorAll(":scope > x-menuitem");if(i.length>0){this.#Ai(),this.setAttribute("opened",""),this.#wi=!0,this.#yi=Ti();let e=[...i].find((e=>{let i=e.querySelector("x-label");return!(!i||i.textContent!==t.textContent)}));e||(e=i[0]);let s=e.querySelector("x-label");await this.openOverElement(t,s)}e()}))}openNextToElement(t,e="horizontal",i=0){return new Promise((async s=>{this.#wi=!1,this.#yi=Ti(),this.#Ai(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),"x-menuitem"===t.localName&&t.setAttribute("expanded","");let n=getComputedStyle(this).getPropertyValue("--align").trim(),o=t.getBoundingClientRect(),h=this.getBoundingClientRect(),r=0,a=0;if(0===h.top&&0===h.left||(r=-h.left,a=-h.top),"horizontal"===e){this.style.top=o.top+a+"px",this.style.left=o.left+o.width+i+r+"px";let t="right";{let t=this.getBoundingClientRect();t.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),t.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px")}{let e=this.getBoundingClientRect();e.left+e.width+7>window.innerWidth&&(o.left>e.width+7?(this.style.left=o.left-e.width+r+"px",t="left"):o.left>window.innerWidth-(o.left+o.width)?(this.style.left=7+r+"px",t="left"):(this.style.left=window.innerWidth-e.width-7+r+"px",t="right"))}{let t=this.getBoundingClientRect();if(t.top+t.height+7>window.innerHeight){let e=t.top+t.height+7-window.innerHeight;this.style.top=t.top-e+a+"px"}}{let e=getComputedStyle(this).getPropertyValue("--open-transition"),[i,s,n]=gs(e);"transform"===i&&await this.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===t?"100% 0":"0 0","left"===t?"100% 0":"0 0"]},{duration:s,easing:n}).finished}}else if("vertical"===e){this.style.top=o.top+o.height+i+a+"px",this.style.left="0px";let e="bottom";{let t=this.getBoundingClientRect();t.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),t.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px")}if(t.parentElement&&"x-menubar"===t.parentElement.localName){let t=this.getBoundingClientRect();t.top+t.height+7>window.innerHeight&&(this.style.height=window.innerHeight-(o.top+o.height)-10+"px")}else{let t=this.getBoundingClientRect();t.top+t.height+7>window.innerHeight&&(o.top>t.height+7?(this.style.top=o.top-t.height-i+a+"px",e="top"):o.top>window.innerHeight-(o.top+o.height)?(this.style.top=7+a+"px",e="top"):(this.style.top=window.innerHeight-t.height-7+a+"px",e="bottom"))}if("start"===n){this.style.left=o.left+r+"px";{let t=this.getBoundingClientRect();t.left+t.width+7>window.innerWidth&&(this.style.left=o.left+o.width-t.width+r+"px")}this.getBoundingClientRect().left<7&&(this.style.left=7+r+"px")}else if("end"===n){this.style.left=o.left+o.width-h.width+r+"px";this.getBoundingClientRect().left<7&&(this.style.left=o.left+r+"px");{let t=this.getBoundingClientRect();t.left+t.width+7>window.innerWidth&&(this.style.left=window.innerWidth-7+r+"px")}}{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[i,s,n]=gs(t);"transform"===i&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===e?"0 100%":"0 0","top"===e?"0 100%":"0 0"]},{duration:s,easing:n}).finished}}this.#xi=a,s()}))}openAtPoint(t,e){return new Promise((async i=>{this.#wi=!1,this.#yi=Ti(),this.#Ai(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}));let s=0,n=0,o=[...this.querySelectorAll(":scope > x-menuitem > x-label > x-message")];await Promise.all(o.map((t=>t.whenReady)));let h=this.getBoundingClientRect();0===h.top&&0===h.left||(s=-h.left,n=-h.top),this.style.left=t+s+"px",this.style.top=e+n+"px",h=this.getBoundingClientRect(),h.right+7>window.innerWidth&&(t-=h.width,this.style.left=t+s+"px",h=this.getBoundingClientRect()),h.bottom+7>window.innerHeight&&(e=e+window.innerHeight-(h.top+h.height)-7,this.style.top=e+n+"px",h=this.getBoundingClientRect(),h.top<7&&(e=7,this.style.top=e+n+"px",this.style.height=window.innerHeight-7-7+"px"));{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=gs(t);"transform"===e&&await this.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished}this.#xi=n,i()}))}close(t=!0){return new Promise((async e=>{if(this.opened){this.removeAttribute("opened"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this}));let e=this.closest("x-menuitem");if(e&&e.removeAttribute("expanded"),t){this.setAttribute("animating","");let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=gs(t);"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")}for(let t of this.querySelectorAll(":scope > x-menuitem")){let e=t.querySelector("x-menu[opened]");e&&e.close()}}e()}))}focusNextMenuItem(){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){let e=null;for(let i=t.nextElementSibling;i;i=i.nextElementSibling)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(null===e&&null!=t.parentElement)for(let i of t.parentElement.children)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(e){e.focus();let i=t.querySelector("x-menu");i&&i.close()}}else this.focusFirstMenuItem()}focusPreviousMenuItem(){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){let e=null;for(let i=t.previousElementSibling;i;i=i.previousElementSibling)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(null===e&&null!=t.parentElement)for(let i of[...t.parentElement.children].reverse())if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(e){e.focus();let i=t.querySelector("x-menu");i&&i.close()}}else this.focusLastMenuItem()}focusFirstMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus()}focusLastMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=t.length>0?t[t.length-1]:null;e&&e.focus()}#$i(t){let e=0;{let t=this.#mi[this.#mi.length-1],i=this.#mi[0];if(this.querySelector("x-menu[opened]")&&t){i||(i=t);let s=this.getBoundingClientRect(),n={x:s.left,y:s.top-75},o={x:s.left+s.width,y:n.y},h={x:s.left,y:s.top+s.height+75},r={x:s.left+s.width,y:h.y},a=!0;if((i.x<s.left||i.x>r.x||i.y<s.top||i.y>r.y)&&(a=!1),this.#gi&&t.x===this.#gi.x&&t.y===this.#gi.y&&(a=!1),a){let s,n;s=o,n=r;let h=(t,e)=>(e.y-t.y)/(e.x-t.x),a=h(t,s),l=h(t,n),c=h(i,s),d=h(i,n);a<c&&l>d?(this.#gi=t,e=300):this.#gi=null}}}e>0?this.#bi=setTimeout((()=>{this.#$i(t)}),e):t()}#Li(){this.#bi&&(clearTimeout(this.#bi),this.#bi=null)}#Ai(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null}#Ti(){return this.matches("*[closing], *[closing] x-menu")}#Mi(){this.setAttribute("aria-hidden",!this.opened)}#j(t){if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.#vi&&this.#Di();{let e=t.target.closest("x-menuitem");e&&!1===e.disabled&&e.closest("x-menu")===this?!1===e.matches(":focus")&&this.#$i((async()=>{let t=this.querySelector(":scope > x-menuitem:focus");if(t){let e=t.querySelector("x-menu");e&&e.close()}e.closest("x-menu");let i=e.querySelector("x-menu"),s=[...this.querySelectorAll(":scope > x-menuitem")].filter((t=>t!==e));i&&(await Li(60),e.matches(":focus")&&!1===i.opened&&i.openNextToElement(e,"horizontal"));for(let t of s){let e=t.querySelector("x-menu");e&&e.close()}})):this.#$i((()=>{this.focus()}))}}}#ki(t){if(!this.#Ti()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.#vi&&this.#Di();{let e=t.target.closest("x-menuitem");e&&!1===e.disabled&&e.closest("x-menu")===this?!1===e.matches(":focus")&&this.#$i((async()=>{let t=this.querySelector(":scope > x-menuitem:focus");if(t){let e=t.querySelector("x-menu");e&&e.close()}e.focus(),e.closest("x-menu");let i=e.querySelector("x-menu"),s=[...this.querySelectorAll(":scope > x-menuitem")].filter((t=>t!==e));i&&(await Li(60),e.matches(":focus")&&!1===i.opened&&i.openNextToElement(e,"horizontal"));for(let t of s){let e=t.querySelector("x-menu");e&&e.close()}})):this.#$i((()=>{this.focus()}))}}}#Ci(t){t.relatedTarget&&Oi(t.relatedTarget,"x-menu")===this||!0===this.#vi&&this.#Ri()}#Di(){this.#Ti()||(this.#vi=!0,this.#Li())}#Ri(){this.#Ti()||(this.#vi=!1,this.#Li(),this.focus())}#Ei(t){this.#mi.push({x:t.clientX,y:t.clientY}),this.#mi.length>3&&this.#mi.shift()}#Si(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.#vi=!0):this.#vi=!1}#zi(){if(this.#wi){let t=this.scrollTop-this.#fi;if(this.#fi=this.scrollTop,Ti()-this.#yi>100){let e=this.getBoundingClientRect();t<0?e.bottom+fs(t)<=window.innerHeight-7?this.style.height=e.height+fs(t)+"px":this.style.height=window.innerHeight-14+"px":t>0&&(e.top-t>=7?(this.style.top=this.#xi+e.top-t+"px",this.style.height=e.height+t+"px",this.scrollTop=0,this.#fi=0):(this.style.top=7+this.#xi+"px",this.style.height=window.innerHeight-14+"px"))}}}#Z(t){if(this.#Ti())t.preventDefault(),t.stopPropagation();else if("ArrowUp"===t.code)t.preventDefault(),t.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===t.code)t.preventDefault(),t.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===t.code||"Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code){let e=this.querySelector("x-menuitem:focus");if(e){let i=e.querySelector("x-menu");if(i){t.preventDefault(),t.stopPropagation(),!1===i.opened&&i.openNextToElement(e,"horizontal");let s=i.querySelector("x-menuitem:not([disabled]):not([hidden])");s&&s.focus()}}}else if("ArrowLeft"===t.code){let e=this.querySelector("x-menuitem:focus");if(e){let i=e.closest("x-menu").closest("x-menuitem");i&&i.closest("x-menu")&&(t.preventDefault(),t.stopPropagation(),i.focus(),this.close())}}}}customElements.define("x-menu",xs);class ws extends HTMLElement{static observedAttributes=["disabled"];static#E=De`<template><svg id="backdrop" hidden><path id="backdrop-path"></path></svg><slot></slot></template>`;static#S=Re`:host{display:flex;align-items:center;width:100%;height:36px;font-size:14px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#Pi=!1;#Ii=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[ws.#S],this.#z.append(document.importNode(ws.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.addEventListener("focusout",(t=>this.#zt(t))),this.#z.addEventListener("pointerover",(t=>this.#Oi(t))),this.#z.addEventListener("click",(t=>this.#Bi(t))),this.#z.addEventListener("wheel",(t=>this.#Fi(t))),this.#z.addEventListener("keydown",(t=>this.#Ni(t)))}connectedCallback(){this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),window.addEventListener("orientationchange",this.#Ii=()=>{this.#Hi()})}disconnectedCallback(){window.removeEventListener("orientationchange",this.#Ii)}attributeChangedCallback(t){"disabled"===t&&this.#mt()}#ji(t){let e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){t.focus(),this.#Pi=!0,this.style.touchAction="none";{e.openNextToElement(t,"vertical");let i=[...this.querySelectorAll(":scope > x-menuitem > x-menu")].filter((t=>t!==e));for(let t of i)t&&t.close(!1)}{let{x:t,y:e,width:i,height:s}=this.getBoundingClientRect();this["#backdrop-path"].setAttribute("d",`\n          M 0 0\n          L ${window.innerWidth} 0\n          L ${window.innerWidth} ${window.innerHeight}\n          L 0 ${window.innerHeight}\n          L 0 0\n          M ${t} ${e}\n          L ${t+i} ${e}\n          L ${t+i} ${e+s}\n          L ${t} ${e+s}\n        `),this["#backdrop"].removeAttribute("hidden")}}}#qi(){return new Promise((async t=>{this.#Pi=!1,this.style.touchAction=null,this["#backdrop"].setAttribute("hidden",""),this["#backdrop-path"].setAttribute("d","");{let t=this.querySelectorAll(":scope > x-menuitem > x-menu[opened]");for(let e of t)await e.close(!0)}let e=this.querySelector("x-menuitem:focus");e&&e.blur(),t()}))}#Ui(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(t.length>1&&e){let i=t.indexOf(e),s=t[i-1]||t[t.length-1];this.#ji(s)}}#Zi(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(e&&t.length>1){let i=t.indexOf(e),s=t[i+1]||t[0];this.#ji(s)}}#mt(){this.setAttribute("aria-disabled",this.disabled)}#zt(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.#qi()}#Hi(){this.#qi()}#Fi(t){let e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault()}async#Bi(t){if(this.hasAttribute("closing"))return;let e=t.target.closest("x-menuitem"),i=t.target.closest("x-menu");if(!e||!1!==e.disabled||i&&!i.contains(e))t.target===this["#backdrop-path"]&&(this.#qi(),t.preventDefault(),t.stopPropagation());else{let t=e.querySelector("x-menu");e.parentElement===this?t&&(t.opened?this.#qi():this.#ji(e)):t?t.opened&&!1===t.opened&&t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.#qi(),this.removeAttribute("closing"))}}#Oi(t){if(this.hasAttribute("closing"))return;let e=t.target.closest("x-menuitem");null===t.target.closest("x-menu")&&e&&e.parentElement===this&&this.#Pi&&"touch"!==t.pointerType&&(!1===e.hasAttribute("expanded")?this.#ji(e):e.focus())}#Ni(t){if(this.hasAttribute("closing"))t.stopPropagation(),t.preventDefault();else if("Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code){let e=this.querySelector(":scope > x-menuitem:focus");e&&(t.preventDefault(),e.click())}else if("Escape"===t.code)this.#Pi&&(t.preventDefault(),this.#qi());else if("Tab"===t.code){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){t.focus();let e=t.querySelector(":scope > x-menu");e&&(e.tabIndex=-1,e.close().then((()=>{e.tabIndex=-1})))}}else if("ArrowRight"===t.code)this.#Zi();else if("ArrowLeft"===t.code)this.#Ui();else if("ArrowDown"===t.code){let e=this.querySelector("x-menuitem:focus > x-menu");e&&(t.preventDefault(),e.focusFirstMenuItem())}else if("ArrowUp"===t.code){let e=this.querySelector("x-menuitem:focus > x-menu");e&&(t.preventDefault(),e.focusLastMenuItem())}}}customElements.define("x-menubar",ws);class vs extends HTMLElement{static observedAttributes=["disabled"];static#E=De`<template><svg id="checkmark" part="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="checkmark-path"></path></svg><slot></slot><svg id="arrow" part="arrow" viewBox="0 0 100 100" hidden><path id="arrow-path"></path></svg></template>`;static#S=Re`:host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;-webkit-user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;color:inherit;--path-data:M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark-path{fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;opacity:1;color:inherit;--path-data:M 26 20 L 26 80 L 74 50 Z}#arrow[hidden]{display:none}#arrow path{fill:currentColor}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t))}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get whenTriggerEnd(){return new Promise((t=>{!1===this.#Xi?t():this.#Vi.push(t)}))}#z=null;#H=0;#Xi=!1;#Vi=[];#Gi=!1;#$=null;#Yi=new MutationObserver((()=>this.#Ki()));constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[vs.#S],this.#z.append(document.importNode(vs.#E.content,!0)),this.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("keydown",(t=>this.#Z(t)));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t}connectedCallback(){this.#dt(),this.#R(),this.#Ki(),this.#G(),this.#Yi.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),Ri.addEventListener("themechange",this.#$=()=>this.#_i())}disconnectedCallback(){this.#Yi.disconnect(),Ri.removeEventListener("themechange",this.#$)}attributeChangedCallback(t){"disabled"===t&&this.#G()}#dt(){let t=getComputedStyle(this["#checkmark"]).getPropertyValue("--path-data");this["#checkmark-path"].setAttribute("d",t)}#R(){let t=getComputedStyle(this["#arrow"]).getPropertyValue("--path-data");this["#arrow-path"].setAttribute("d",t)}#Ki(){if("x-menubar"===this.parentElement.localName)this["#arrow"].setAttribute("hidden","");else{this.querySelector("x-menu")?this["#arrow"].removeAttribute("hidden"):this["#arrow"].setAttribute("hidden","")}}#G(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0)}#_i(){this.#dt(),this.#R()}async#j(t){if(this.#Gi=this.matches(":focus"),t.buttons>1)return!1;if(this.matches("[closing] x-menuitem"))return t.preventDefault(),void t.stopPropagation();if(t.target.closest("x-menuitem")===this){this.setPointerCapture(t.pointerId);{let e,i=!0,s=Date.now();this.addEventListener("pointerup",e=async()=>{this.removeEventListener("pointerup",e),this.removeEventListener("pointercancel",e),i=!1;let n=Date.now()-s,o="touch"===t.pointerType?600:150;n<o&&await Li(o-n),this.removeAttribute("pressed")}),this.addEventListener("pointercancel",e),i&&this.setAttribute("pressed","")}}}async#T(t){if(!(t.buttons>1||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem"))){if(this.togglable){let t=new CustomEvent("toggle",{bubbles:!0,cancelable:!0});this.dispatchEvent(t),!1===t.defaultPrevented&&(this.toggled=!this.toggled)}if(!this.querySelector(":scope > x-menu")){let t=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("blink"===t){this.#Xi=!0,this.#Gi?(this.parentElement.focus(),await Li(150),this.focus(),await Li(150)):(this.focus(),await Li(150),this.parentElement.focus(),await Li(150));for(let t of this.#Vi)t();this.#Vi=[],this.#Xi=!1}else if("none"===t){this.#Xi=!0,await Li(50);for(let t of this.#Vi)t();this.#Vi=[],this.#Xi=!1}}}}#Z(t){"Enter"!==t.code&&"NumpadEnter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()))}}customElements.define("x-menuitem",vs);class ys extends HTMLElement{static observedAttributes=["opened"];static#E=De`<template><slot></slot></template>`;static#S=Re`:host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;-webkit-user-select:none;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}`;get opened(){return this.hasAttribute("opened")}set opened(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.#Wi=0}get timeout(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0}set timeout(t){this.setAttribute("timeout",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#Wi=0;#Ji=null;#Qi=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[ys.#S],this.#z.append(document.importNode(ys.#E.content,!0))}connectedCallback(){this.setAttribute("tabindex","0")}attributeChangedCallback(t,e,i){e!==i&&"opened"===t&&(this.opened?this.#ts():this.#X())}#ts(){if(this.isConnected){let t=0-this.getBoundingClientRect().height-10+"px",e=getComputedStyle(this).bottom;this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"})}{this.#Wi=0,this.#Ji=setInterval((()=>{this.#Wi+=100,this.timeout>0&&this.#Wi>this.timeout&&(this.opened=!1)}),100);let t=Ti();window.addEventListener("pointerdown",this.#Qi=e=>{let i=Ti(),s=this.getBoundingClientRect();var n,o;i-t>10&&!1==(n=s,(o=new DOMPoint(e.clientX,e.clientY)).x>=n.x&&o.x<=n.x+n.width&&o.y>=n.y&&o.y<=n.y+n.height)&&(this.opened=!1)},!0)}}async#X(){if(clearInterval(this.#Ji),this.isConnected){this.setAttribute("animating","");let t=getComputedStyle(this).bottom,e=0-this.getBoundingClientRect().height-10+"px",i=this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await i.finished,this.removeAttribute("animating")}window.removeEventListener("pointerdown",this.#Qi,!0)}}customElements.define("x-notification",ys);let{isFinite:ks}=Number;const Cs=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];class Es extends HTMLElement{static observedAttributes=["value","min","max","prefix","suffix","disabled"];static#E=De`<template><main id="main"><div id="editor-container"><div id="editor" contenteditable="plaintext-only" spellcheck="false"></div></div><slot></slot></main></template>`;static#S=Re`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap;font-variant-numeric:tabular-nums}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:""}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-Infinity}set min(t){ks(t)?this.setAttribute("min",t):this.removeAttribute("min")}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):Infinity}set max(t){ks(t)?this.setAttribute("max",t):this.removeAttribute("max")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get precision(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20}set precision(t){this.setAttribute("precision",t)}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get prefix(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):""}set prefix(t){this.setAttribute("prefix",t)}get suffix(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):""}set suffix(t){this.setAttribute("suffix",t)}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#H=0;#es=!1;#is=!1;#ss=!1;#ns=!1;#os=!1;constructor(){super(),this.#z=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#z.adoptedStyleSheets=[Es.#S],this.#z.append(document.importNode(Es.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.#z.addEventListener("pointerdown",(t=>this.#hs(t))),this.#z.addEventListener("wheel",(t=>this.#Si(t))),this["#editor"].addEventListener("paste",(t=>this.#rs(t))),this["#editor"].addEventListener("input",(t=>this.#as(t))),this.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("pointerenter",(()=>this.#q())),this.addEventListener("pointerleave",(()=>this.#U())),this.addEventListener("keydown",(t=>this.#Z(t))),this.addEventListener("keyup",(t=>this.#ls(t))),this.addEventListener("keypress",(t=>this.#cs(t))),this.addEventListener("incrementstart",(t=>this.#ds(t))),this.addEventListener("decrementstart",(t=>this.#us(t))),this.addEventListener("focusin",(t=>this.#St(t))),this.addEventListener("focusout",(t=>this.#zt(t))),"gecko"===$i()&&(this["#editor"].setAttribute("contenteditable",""),this["#editor"].addEventListener("beforeinput",(t=>{if("insertFromPaste"===t.inputType&&t.dataTransfer.types.includes("text/plain")){t.preventDefault();let e=window.getSelection(),i=e.getRangeAt(0);i.deleteContents(),i.insertNode(document.createTextNode(t.dataTransfer.getData("text/plain"))),e.collapseToEnd()}})))}connectedCallback(){this.#G(),this.#It()}attributeChangedCallback(t){"value"===t?this.#Bt():"min"===t?this.#ps():"max"===t?this.#ms():"prefix"===t?this.#bs():"suffix"===t?this.#gs():"disabled"===t&&this.#mt()}#fs(t=!1){let e=this.value,i=this.value;i+=t?10*this.step:this.step,i=Zt(i,this.min,this.max,Vt(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.#xs()}#ws(t=!1){let e=this.value,i=this.value;i-=t?10*this.step:this.step,i=Zt(i,this.min,this.max,Vt(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.#xs()}#vs(){this.#is||(this.#is=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})))}#ys=((t,e,i,s=!1)=>{let n=null,o=null;return(...h)=>{let r=s&&!n;return clearTimeout(n),n=setTimeout((()=>{n=null,s||(o=t.apply(i,h))}),e),r&&(o=t.apply(i,h)),o}})((()=>{!this.#is||this.#ss||this.#ns||this.#os||(this.#is=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})))}),500);#ks(){let t=this["#editor"].textContent,e=""===t.trim()?null:parseFloat(t),i=null===e?null:Zt(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i)}#It(){this.#Cs(),this.#xs(),this.#Es()}#Cs(){if(this.hasAttribute("value"))if(this.step<1){let t=parseFloat(this.getAttribute("value")),e=Vt(this.step),i=Vt(t);this["#editor"].textContent=e>0&&i<e?t.toFixed(e):this.getAttribute("value").trim()}else this["#editor"].textContent=this.getAttribute("value").trim();else this["#editor"].textContent=""}#xs(){let t=null;if(this.matches(":focus")){let e=this["#editor"].textContent;t=""===e.trim()?null:parseFloat(e)}else t=this.value;null===t?this.setAttribute("empty",""):this.removeAttribute("empty")}#Es(){let t=this.querySelector("x-stepper");if(t){let e=this.value>this.min,i=this.value<this.max;!0===i&&!0===e?t.removeAttribute("disabled"):!1===i&&!1===e?t.setAttribute("disabled",""):!1===i?t.setAttribute("disabled","increment"):!1===e&&t.setAttribute("disabled","decrement")}}#G(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0)}#Bt(){this.#It()}#ps(){this.#Es()}#ms(){this.#Es()}#bs(){this["#editor"].setAttribute("data-prefix",this.prefix)}#gs(){this["#editor"].setAttribute("data-suffix",this.suffix)}#mt(){this["#editor"].disabled=this.disabled,this.#G()}#St(){document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#zt(){"webkit"!==$i()&&this.#z.getSelection().collapse(this["#main"]),this["#editor"].scrollLeft=0,this.#ks(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}))}#as(){this.#xs(),this.#Es()}#Si(t){this.matches(":focus")&&(t.preventDefault(),this.#vs(),t.wheelDeltaX>0||t.wheelDeltaY>0?(this.#fs(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):(this.#ws(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.#ys())}#T(t){t.preventDefault()}#j(t){"x-stepper"===t.target.localName&&t.preventDefault()}#hs(t){if(t.buttons>1||!1===t.isPrimary)t.preventDefault();else if(t.target===this["#editor"]&&!1===this["#editor"].matches(":focus")){t.preventDefault();let e,i,s=this.value,n=t.clientX,o=new DOMPoint(t.clientX,t.clientY);this.style.cursor="col-resize",this["#editor"].setPointerCapture(t.pointerId),this["#editor"].addEventListener("pointermove",e=e=>{let i=new DOMPoint(e.clientX,e.clientY),h=e.timeStamp-t.timeStamp,r=e.clientX!==n,a=Gt(o,i)>3||h>80;if(n=e.clientX,r&&a&&e.isPrimary){!1===this.#es&&(this.#es=!0,this.#is=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));let i=e.clientX-t.clientX,n=s+i*this.step;n=Zt(n,this.min,this.max,Vt(this.step)),this.value=n,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}),this["#editor"].addEventListener("pointerup",i=()=>{this["#editor"].removeEventListener("pointermove",e),this["#editor"].removeEventListener("pointerup",i),this["#editor"].removeEventListener("pointercancel",i),this.style.cursor=null,!0===this.#es?(this.#es=!1,this.#is=!1,this.dispatchEvent(new CustomEvent("changeend",{detail:this.value!==s,bubbles:!0}))):(this["#editor"].focus(),document.execCommand("selectAll"))}),this["#editor"].addEventListener("pointercancel",i)}}#q(){let t=this.querySelector(":scope > x-tooltip");t&&!1===t.disabled&&t.open(this)}#U(){let t=this.querySelector(":scope > x-tooltip");t&&t.close()}#ds(t){let e,i;this.matches(":focus")&&this.#ks(),this.#os=!0,this.addEventListener("increment",e=t=>{this.#vs(),this.#fs(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#ys()}),this.addEventListener("incrementend",i=t=>{this.#os=!1,this.removeEventListener("increment",e),this.removeEventListener("incrementend",i)})}#us(t){let e,i;this.matches(":focus")&&this.#ks(),this.#os=!0,this.addEventListener("decrement",e=t=>{this.#vs(),this.#ws(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#ys()}),this.addEventListener("decrementend",i=t=>{this.#os=!1,this.removeEventListener("decrement",e),this.removeEventListener("decrementend",i)})}#Z(t){"ArrowDown"===t.code?(t.preventDefault(),this.#ss=!0,this.#vs(),this.#ws(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#ys()):"ArrowUp"===t.code?(t.preventDefault(),this.#ss=!0,this.#vs(),this.#fs(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#ys()):"Backspace"===t.code?this.#ns=!0:"Enter"!==t.code&&"NumpadEnter"!==t.code||(this.#ks(),document.execCommand("selectAll"))}#ls(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.#ss=!1,this.#ys()):"Backspace"===t.code&&(this.#ns=!1)}#cs(t){!1===t.ctrlKey&&!1===t.altKey&&!1===t.metaKey&&!1===Cs.includes(t.key)&&t.preventDefault()}async#rs(t){t.preventDefault();let e=t.clipboardData.getData("text/plain").trim();(t=>{let e=ms(t);return!1===ps(e)&&us(e)})(e)&&(await Li(1),document.execCommand("insertText",!1,e))}}customElements.define("x-numberinput",Es);class Ss extends HTMLElement{static observedAttributes=["modal"];static#E=De`<template><svg id="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="arrow-path"></path></svg><slot id="slot"></slot></template>`;static#S=Re`:host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;overflow:auto;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:""}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow-path{stroke-width:1;vector-effect:non-scaling-stroke}#slot{border-radius:inherit}`;get opened(){return this.hasAttribute("opened")}get modal(){return this.hasAttribute("modal")}set modal(t){t?this.setAttribute("modal",""):this.removeAttribute("modal")}#z=null;#Ss=null;#zs=new ResizeObserver((()=>this.#Ms()));#As=null;#$s;#Ls;#yt;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Ss.#S],this.#z.append(document.importNode(Ss.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this["#backdrop"]=Pi("x-backdrop"),this["#backdrop"].style.background="rgba(0, 0, 0, 0)",this["#backdrop"].ownerElement=this,this["#backdrop"].addEventListener("click",(t=>{t.preventDefault()})),this["#backdrop"].addEventListener("pointerdown",(t=>{this.hasAttribute("animating")?t.stopPropagation():this.parentNode&&"x-button"!==this.parentNode.localName&&"x-colorselect"!==this.parentNode.localName&&this.close()}))}connectedCallback(){this.tabIndex=-1}attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this["#backdrop"].show():this["#backdrop"].hide())}#Ms(){this.#Ts(this.#As)}open(t,e=!0){return new Promise((async i=>{if(this.#As=t,!1===this.opened&&(this.modal&&this["#backdrop"].show(!1),this.setAttribute("opened",""),this.#zs.observe(this),window.addEventListener("resize",this.#Ls=()=>this.#Ms()),Ri.addEventListener("themechange",this.#yt=()=>this.#Ds()),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),await new Promise((t=>{requestAnimationFrame(t)})),this.#Ds(),this.#Ts(t),this.#Ss=Bi(this),this.#Ss&&this.#Ss.addEventListener("scroll",this.#$s=()=>{this.close()},{once:!0}),e)){let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=gs(t);"transform"===e&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:i,easing:s}).finished}i()}))}close(t=!0){return new Promise((async e=>{if(!0===this.opened&&(this.removeAttribute("opened"),this.#zs.disconnect(),window.removeEventListener("resize",this.#Ls),Ri.removeEventListener("themechange",this.#yt),this["#backdrop"].hide(),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this})),this.#Ss.removeEventListener("scroll",this.#$s),t)){let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=gs(t);this.setAttribute("animating",""),"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")}e()}))}#Ts(t){let e=getComputedStyle(this).getPropertyValue("--align").trim(),i=parseInt(getComputedStyle(this).borderWidth),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{let e=Ut(this.getBoundingClientRect());0===e.top&&0===e.left||(s=-e.left,n=-e.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect}if("bottom"===e||"top"===e){let t=(t=!1)=>{this.style.maxHeight=null,this["#arrow"].setAttribute("data-align","bottom"),this["#arrow-path"].setAttribute("d","M 0 100, L 50 0, L 100 100");let e=Ut(this.getBoundingClientRect()),s=Ut(this["#arrow"].getBoundingClientRect()),h=0;if(this["#arrow"].style.top=n+o.bottom+2+i+"px",this.style.top=n+o.bottom+2+s.height+"px",e=Ut(this.getBoundingClientRect()),h=e.bottom+8-window.innerHeight,t&&h>0){let t=e.height-h;h=0,this.style.maxHeight=t+"px"}return h},h=(t=!1)=>{this.style.maxHeight=null,this["#arrow"].setAttribute("data-align","top"),this["#arrow-path"].setAttribute("d","M 0 0, L 50 100, L 100 0");let e=Ut(this.getBoundingClientRect()),s=Ut(this["#arrow"].getBoundingClientRect()),h=0;if(this["#arrow"].style.top=Math.floor(n+o.top-2-i-s.height)+"px",this.style.top=n+o.top-2-s.height-e.height+"px",e=Ut(this.getBoundingClientRect()),h=-(e.top-8),t&&h>0){let t=e.height-h;h=0,this.style.maxHeight=t+"px",this.style.top=n+o.top-2-s.height-t+"px"}return h},r=()=>{this.style.maxWidth=null;let t=Ut(this.getBoundingClientRect()),e=0,i=0;return this["#arrow"].style.left=s+o.left+o.width/2+"px",this.style.left=s+o.left+o.width/2-t.width/2+"px",t=Ut(this.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i]},a=(t=!1)=>{this.style.maxWidth=null;let e=Ut(this.getBoundingClientRect()),i=0;if(this["#arrow"].style.left=s+o.left+o.width/2+"px",this.style.left=s+window.innerWidth-8-e.width+"px",e=Ut(this.getBoundingClientRect()),i=-(e.left-8),t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px",this.style.left=s+window.innerWidth-8-t+"px"}return i},l=(t=!1)=>{this.style.maxWidth=null;let e=Ut(this.getBoundingClientRect()),i=0;if(this["#arrow"].style.left=s+o.left+o.width/2+"px",this.style.left=s+8+"px",e=Ut(this.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px"}return i};if("bottom"===e){let e=t();if(e>0){let i=h();i>0&&(i>e?t(!0):h(!0))}}else if("top"===e){let e=h();if(e>0){let i=t();i>0&&(i>e?h(!0):t(!0))}}{let[t,e]=r();e>0?(t=a(),t>0&&a(!0)):t>0&&(e=l(),e>0&&l(!0))}}else if("right"===e||"left"===e){let t=(t=!1)=>{this.style.maxWidth=null,this["#arrow"].setAttribute("data-align","right"),this["#arrow-path"].setAttribute("d","M 100 0, L 0 50, L 100 100");let e=Ut(this.getBoundingClientRect()),n=Ut(this["#arrow"].getBoundingClientRect()),h=0;if(this["#arrow"].style.left=s+o.right+2+i+"px",this.style.left=s+o.right+2+n.width+"px",e=Ut(this.getBoundingClientRect()),h=e.right+8-window.innerWidth,t&&h>0){let t=e.width-h;h=0,this.style.maxWidth=t+"px"}return h},h=(t=!1)=>{this.style.maxWidth=null,this["#arrow"].setAttribute("data-align","left"),this["#arrow-path"].setAttribute("d","M 0 0, L 100 50, L 00 100");let e=Ut(this.getBoundingClientRect()),n=Ut(this["#arrow"].getBoundingClientRect()),h=0;if(this["#arrow"].style.left=s+o.left-2-i-n.width+"px",this.style.left=s+o.left-2-n.width-e.width+"px",e=Ut(this.getBoundingClientRect()),h=-(e.left-8),t&&h>0){let t=e.width-h;h=0,this.style.maxWidth=t+"px",this.style.left=s+o.left-2-n.width-t+"px"}return h},r=()=>{this.style.maxHeight=null;let t=Ut(this.getBoundingClientRect()),e=0,i=0;return this["#arrow"].style.top=n+o.top+o.height/2+"px",this.style.top=n+o.top+o.height/2-t.height/2+"px",t=Ut(this.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i]},a=(t=!1)=>{this.style.maxHeight=null;let e=Ut(this.getBoundingClientRect()),i=0;if(this["#arrow"].style.top=n+o.top+o.height/2+"px",this.style.top=n+window.innerHeight-8-e.height+"px",e=Ut(this.getBoundingClientRect()),i=-(e.top-8),t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px",this.style.top=n+window.innerHeight-8-t+"px"}return i},l=(t=!1)=>{this.style.maxHeight=null;let e=Ut(this.getBoundingClientRect()),i=0;if(this["#arrow"].style.top=n+o.top+o.height/2+"px",this.style.top=n+8+"px",e=Ut(this.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px"}return i};if("right"===e){let e=t();if(e>0){let i=h();i>0&&(i>e?t(!0):h(!0))}}else if("left"===e){let e=h();if(e>0){let i=t();i>0&&(i>e?h(!0):t(!0))}}{let[t,e]=r();e>0?(t=a(),t>0&&a(!0)):t>0&&(e=l(),e>0&&l(!0))}}}#Ds(){{let{backgroundColor:t,borderColor:e,borderWidth:i}=getComputedStyle(this);this["#arrow-path"].style.fill=t,this["#arrow-path"].style.stroke=e,this["#arrow-path"].style.strokeWidth=i}}}customElements.define("x-popover",Ss);class zs extends HTMLElement{static observedAttributes=["value","max","disabled"];static#E=De`<template><div id="determinate-bar" part="bar"></div><div id="indeterminate-bars"><div id="primary-indeterminate-bar" part="bar"></div><div id="secondary-indeterminate-bar" part="bar"></div></div></template>`;static#S=Re`:host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value="-1"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1}set max(t){this.setAttribute("max",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#Rs=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[zs.#S],this.#z.append(document.importNode(zs.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t}connectedCallback(){this.#It()}attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t)&&this.#It()}#It(){if(null===this.value||-1===this.value||this.disabled?this["#determinate-bar"].style.width="0%":this["#determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.#Rs){for(let t of this.#Rs)t.cancel();this.#Rs=null}}else this.#Rs||(this.#Rs=[this["#primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:Infinity}),this["#secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:Infinity})])}}customElements.define("x-progressbar",zs);class Ms extends HTMLElement{static observedAttributes=["toggled","disabled"];static#E=De`<template><main id="main"><div id="indicator" part="indicator"><div id="indicator-dot" part="indicator-dot"></div></div><div id="description"><slot></slot></div></main></template>`;static#S=Re`:host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#H=0;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Ms.#S],this.#z.append(document.importNode(Ms.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("keydown",(t=>this.#Z(t)))}connectedCallback(){this.#G()}attributeChangedCallback(t){"toggled"===t?this.#ut():"disabled"===t&&this.#mt()}#G(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0))}#ut(){this.setAttribute("aria-checked",this.toggled)}#mt(){this.#G()}#T(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})))}#j(t){if(!1===this.matches(":focus")){t.preventDefault();let e=Oi(this.parentNode,"[tabindex]");e&&e.focus()}}#Z(t){"Enter"!==t.code&&"NumpadEnter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-radio",Ms);class As extends HTMLElement{get value(){let t=this.querySelector("x-radio[toggled]");return t?t.value:null}set value(t){for(let e of this.querySelectorAll("x-radio"))e.toggled=e.value===t&&null!==t}#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.innerHTML="<slot></slot>",this.addEventListener("click",(t=>this.#T(t)),!0),this.addEventListener("keydown",(t=>this.#Z(t)))}connectedCallback(){this.setAttribute("role","radiogroup");let t=[...this.querySelectorAll("x-radio")].filter((t=>t.closest("x-radios")===this)),e=t.find((t=>t.toggled&&!t.disabled))||t.find((t=>!t.disabled));for(let i of t)i.setAttribute("tabindex",i===e?"0 ":"-1"),i.setAttribute("aria-checked",i===e)}#T(t){let e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&t.buttons<=1){let t=[...this.querySelectorAll("x-radio")].filter((t=>t.closest("x-radios")===this&&t!==e));if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;for(let e of t)e.toggled=!1,e.tabIndex=-1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}}#Z(t){if("ArrowDown"===t.code||"ArrowRight"===t.code){let e=[...this.querySelectorAll("x-radio")],i=e.filter((t=>!1===t.disabled&&t.closest("x-radios")===this)),s=e.find((t=>t.matches(":focus")));if(s){let e=i.indexOf(s),n=i.length>1?i[e+1]||i[0]:null;n&&(t.preventDefault(),n.focus(),n.tabIndex=0,s.tabIndex=-1)}}else if("ArrowUp"===t.code||"ArrowLeft"===t.code){let e=[...this.querySelectorAll("x-radio")],i=e.filter((t=>!1===t.disabled&&t.closest("x-radios")===this)),s=e.find((t=>t.matches(":focus")));if(s){let e=i.indexOf(s),n=i[i.length-1],o=i.length>1?i[e-1]||n:null;o&&(t.preventDefault(),o.focus(),o.tabIndex=0,s.tabIndex=-1)}}}}customElements.define("x-radios",As);let $s=Symbol();class Ls extends HTMLElement{static observedAttributes=["disabled"];static#E=De`<template><div id="button"><div id="arrow-container"><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="arrow-path"></path></svg></div></div><slot></slot></template>`;static#S=Re`:host{display:block;width:fit-content;height:32px;padding:0 0 0 8px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none;-webkit-user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}:host([size=small]){font-size:12.5px}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{display:flex;align-content:center;justify-content:center;margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;--text-color:50%;--path-data:M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z}#button>#arrow-container #arrow path{fill:currentColor}`;get value(){let t=this.querySelector("x-menuitem[toggled]");return t?t.value:null}set value(t){for(let e of this.querySelectorAll("x-menuitem"))e.toggled=e.value===t&&null!==t}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#H=0;#F=!1;#kt=null;#Ct=null;#$=null;#Ps=new MutationObserver((t=>this.#Is(t)));#M=new ResizeObserver((()=>this.#Ms()));constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Ls.#S],this.#z.append(document.importNode(Ls.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this["#backdrop"]=Pi("x-backdrop"),this["#backdrop"].style.opacity="0",this["#backdrop"].ownerElement=this,this["#backdrop"].addEventListener("click",(t=>this.#Et(t))),this.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("toggle",(t=>this.#Os(t))),this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("keydown",(t=>this.#Z(t)))}connectedCallback(){this.#Ps.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.#M.observe(this),this.#Bs(),this.#R(),this.#G(),Ri.addEventListener("themechange",this.#$=()=>this.#R())}disconnectedCallback(){this.#Ps.disconnect(),this.#M.disconnect(),Ri.removeEventListener("themechange",this.#$)}attributeChangedCallback(t){"disabled"===t&&this.#G()}#Ht(){if(!1===this.#jt())return;this.#F=this.matches(":focus"),this["#backdrop"].show(!1),window.addEventListener("resize",this.#kt=()=>{this.#qt()}),window.addEventListener("blur",this.#Ct=()=>{this.#qt()});let t=this.querySelector(":scope > x-menu");{let e=null;for(let i of t.querySelectorAll("x-menuitem"))i.togglable=!0,i.toggled&&(null===e?e=i:i.toggled=!1)}if(t.querySelector("x-menuitem[toggled]")){let e=this["#button"].querySelector("x-label")||this["#button"].firstElementChild,i=e[$s];t.openOverElement(e,i)}else{let e=t.querySelector("x-menuitem").firstElementChild;t.openOverElement(this["#button"],e)}{let e=t.getBoundingClientRect(),i=this["#button"].getBoundingClientRect(),s=parseFloat(getComputedStyle(this).paddingRight);e.right-s<i.right&&(t.style.minWidth=i.right-e.left+s+"px")}{let t=this.getBoundingClientRect();t.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-t.left-7+"px")}}async#qt(t=null){if(!1===this.#Ut())return;let e=this.querySelector(":scope > x-menu");if(e.setAttribute("closing",""),await t,this["#backdrop"].hide(!1),this.#F)this.focus();else{let t=Oi(this.parentNode,"[tabindex]");t&&t.focus()}window.removeEventListener("resize",this.#kt),window.removeEventListener("blur",this.#Ct),await e.close(),e.removeAttribute("closing")}#jt(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu"),e=t.querySelector("x-menuitem");return null!==t&&!1===t.opened&&!1===t.hasAttribute("closing")&&null!==e}}#Ut(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu");return t.querySelector("x-menuitem"),null!==t&&!0===t.opened&&!1===t.hasAttribute("closing")}}#Bs(){let t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this["#button"].innerHTML="",t){for(let e of t.children){let t=e.cloneNode(!0);t[$s]=e,t.removeAttribute("id"),t.removeAttribute("style"),this["#button"].append(t)}this.#Fs()}this["#button"].append(this["#arrow-container"])}#Ns=Di(this.#Bs,300,this);#Fs(){for(let t of this["#button"].children)if(t!==this["#arrow-container"]){let{width:e,height:i,margin:s,padding:n,border:o,borderRadius:h}=getComputedStyle(t[$s]);["x-icon","x-swatch","img","svg"].includes(t[$s].localName)&&(t.style.width=e,t.style.height=i,t.style.minWidth=e,t.style.borderRadius=h),t.style.margin=s,t.style.padding=n,t.style.border=o}}#R(){let t=getComputedStyle(this["#arrow"]).getPropertyValue("--path-data");this["#arrow-path"].setAttribute("d",t)}#G(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0);{this.setAttribute("role","button");let t=this.querySelector(":scope > x-menu");if(t){t.setAttribute("role","listbox");for(let e of t.querySelectorAll("x-menuitem"))e.setAttribute("role","option")}}}async#Is(t){for(let e of t)if("attributes"===e.type&&"x-menuitem"===e.target.localName&&"toggled"===e.attributeName){await Li(10),this.#Ns();break}}#Ms(){this.#Fs()}#j(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault()}async#T(t){if(!(t.buttons>1))if(this.#jt())this.#Ht();else if(this.#Ut()){let e=t.target.closest("x-menuitem");if(e){let t=this.value,i=e.value;for(let t of this.querySelectorAll("x-menuitem"))t.toggled=t===e;await this.#qt(e.whenTriggerEnd),(t!==i||this.mixed)&&(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:t,newValue:i}})))}}}#Os(t){t.preventDefault()}#Et(t){this.#qt()}#Z(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code||"ArrowUp"===t.code||"ArrowDown"===t.code?this.#jt()&&(t.preventDefault(),this.#Ht()):"Escape"===t.code&&this.#Ut()&&(t.preventDefault(),this.#qt()))}}customElements.define("x-select",Ls);const Ts=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),Ds=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];class Rs extends HTMLElement{static observedAttributes=["value"];static#E=De`<template><main id="main"></main></template>`;static#S=Re`:host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}`;get value(){let t=[];if(this.hasAttribute("value")){let e=this.getAttribute("value").replace("++","+PLUS").split("+");e=e.map((t=>t.trim().replace("PLUS","+"))).filter((t=>""!==t)),t=e}return t}set value(t){this.setAttribute("value",t.join("+"))}get modKeys(){return this.value.filter((t=>Ds.includes(t)))}get normalKey(){let t=this.value.find((t=>!1===Ds.includes(t)));return void 0===t?null:t}#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Rs.#S],this.#z.append(document.importNode(Rs.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t}attributeChangedCallback(t){"value"===t&&this.#It()}#It(){let t="";this.value;let e=this.modKeys,i=this.normalKey;if(Ts){e.includes("Meta")&&(t+="^"),e.includes("Alt")&&(t+="⌥"),e.includes("Shift")&&(t+="⇧"),e.includes("Control")&&(t+="⌘"),e.includes("Symbol")&&(t+="☺");let s={ArrowUp:"↑",ArrowDown:"↓",ArrowLeft:"←",ArrowRight:"→",Backspace:"⌦"};void 0!==i&&(t+=s[i]||i)}else{let s=[];e.includes("Control")&&s.push("Ctrl"),e.includes("Alt")&&s.push("Alt"),e.includes("Meta")&&s.push("Meta"),e.includes("Shift")&&s.push("Shift"),e.includes("Symbol")&&s.push("Symbol");let n={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==i&&s.push(n[i]||i),t=s.join("+")}this["#main"].textContent=t}}customElements.define("x-shortcut",Rs);class Ps extends HTMLElement{static observedAttributes=["value","buffer","min","max","disabled"];static#E=De`<template><main id="main"><div id="tracks-and-thumbs"><div id="groove-track" part="track groove-track"></div><div id="buffer-track" part="track buffer-track"></div><div id="range-track" part="track range-track"></div><div id="thumbs"><div id="start-thumb" class="thumb" part="thumb start-thumb" data-value="start" tabindex="0"></div><div id="end-thumb" class="thumb" part="thumb end-thumb" data-value="end" tabindex="0"></div></div></div><div id="ticks"></div><div id="labels"><slot></slot></div></main></template>`;static#S=Re`:host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:4px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:4px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:4px;background:gray;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:4px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:4px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:4px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}`;get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0}set min(t){this.setAttribute("min",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100}set max(t){this.setAttribute("max",t)}get value(){if(this.hasAttribute("value")){let t=this.getAttribute("value").split(/[ ,]+/);return t.length>=2?t.map((t=>parseFloat(t))).slice(0,2):parseFloat(t[0])}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min}set value(t){Array.isArray(t)?((t=t.map((t=>Zt(t,this.min,this.max)))).length=2,this.setAttribute("value",t.join(" "))):(t=Zt(t,this.min,this.max),this.setAttribute("value",t))}get buffer(){if(this.hasAttribute("buffer")){let t=this.getAttribute("buffer").split(/[ ,]+/);return t.length>=2?t.map((t=>parseFloat(t))).slice(0,2):[0,parseFloat(t[0])]}return[0,0]}set buffer(t){(t=t.map((t=>Zt(t,this.min,this.max)))).length=2,this.setAttribute("buffer",t.join(" "))}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get dragging(){return this.getAttribute("dragging")}#z=null;#H=0;#Ps=new MutationObserver((t=>this.#Is(t)));#Hs=new ResizeObserver((()=>this.#js()));constructor(){super(),this.#z=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#z.adoptedStyleSheets=[Ps.#S],this.#z.append(document.importNode(Ps.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.#z.addEventListener("pointerdown",(t=>this.#hs(t))),this.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("keydown",(t=>this.#Z(t)))}connectedCallback(){this.setAttribute("value",this.value),this.#Hs.observe(this["#start-thumb"]),this.#Ps.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.#qs(),this.#Us(),this.#Zs(),this.#G()}disconnectedCallback(){this.#Hs.unobserve(this["#start-thumb"]),this.#Ps.disconnect()}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#Bt():"buffer"===t?this.#Xs():"min"===t?this.#ps():"max"===t?this.#ms():"disabled"===t&&this.#mt())}#Bt(){this.#qs(),this.#Us()}#Xs(){this.#qs()}#ps(){this.#qs(),this.#Us(),this.#Zs()}#ms(){this.#qs(),this.#Us(),this.#Zs()}#mt(){this.#G()}#Is(t){for(let e of t){if("attributes"===e.type&&e.target===this)return;this.#Vs()}}#js(){let t=this["#start-thumb"].getBoundingClientRect();this["#main"].style.setProperty("--computed-thumb-width",t.width+"px"),this["#main"].style.setProperty("--computed-thumb-height",t.height+"px")}#j(t){if(!1===this.matches(":focus")){t.preventDefault();let e=Oi(this.parentNode,"[tabindex]");e&&e.focus()}}#hs(t){if(t.buttons>1||!1===t.isPrimary)return;let e,i,s=null,{width:n,height:o}=this["#start-thumb"].getBoundingClientRect(),h=this["#main"].getBoundingClientRect(),r=!1;if(t.target.matches(".thumb"))s=t.target;else if(!0===this["#end-thumb"].hidden)s=this["#start-thumb"];else{let e=this["#start-thumb"].getBoundingClientRect(),i=this["#end-thumb"].getBoundingClientRect(),n=new DOMPoint(e.x+e.width/2,e.y+e.height/2),o=new DOMPoint(i.x+i.width/2,i.y+i.height/2),h=new DOMPoint(t.clientX,t.clientY),r=Gt(h,n),a=Gt(h,o);s=r<=a?this["#start-thumb"]:this["#end-thumb"]}let a=(t,e)=>{let i=0;if(this.vertical){let t=h.y+h.height-o/2-e;t=Zt(t,0,h.height-o),i=t/(h.height-o)*(this.max-this.min)+this.min}else{let e=t-(h.x+n/2);e=Zt(e,0,h.width-n),i=e/(h.width-n)*(this.max-this.min)+this.min}var a,l;if(a=i,l=this.step,i=qt(qt(a/l)*l,Vt(l)),Array.isArray(this.value)){let[t,e]=this.value;s===this["#start-thumb"]?(i>=e&&(i=e),i!==t&&(this.value=[i,e],!1===r&&(r=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):s===this["#end-thumb"]&&(i<=t&&(i=t),i!==e&&(this.value=[t,i],!1===r&&(r=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))))}else this.value!==i&&(this.value=i,!1===r&&(r=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s.setPointerCapture(t.pointerId),this.setAttribute("dragging",s.dataset.value),a(t.clientX,t.clientY);for(let t of this["#thumbs"].children)t.style.zIndex=t===s?"1":"0";s.addEventListener("pointermove",e=t=>{t.isPrimary&&a(t.clientX,t.clientY)}),s.addEventListener("pointerup",i=()=>{s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",i),s.removeEventListener("pointercancel",i),this.removeAttribute("dragging"),r&&this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}),s.addEventListener("pointercancel",i)}#Z(t){if("ArrowLeft"===t.code||"ArrowDown"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=this.value;if(Array.isArray(this.value)){let[i,s]=this.value;this.#z.activeElement===this["#start-thumb"]?t.shiftKey?i-=10*this.step:i-=this.step:this.#z.activeElement===this["#end-thumb"]&&(t.shiftKey?s-=10*this.step:s-=this.step,s<=i&&(s=i)),this.value=[i,s],!1===tt(e,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else t.shiftKey?this.value-=10*this.step:this.value-=this.step,e!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}else if("ArrowRight"===t.code||"ArrowUp"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=this.value;if(Array.isArray(this.value)){let[i,s]=this.value;this.#z.activeElement===this["#start-thumb"]?(t.shiftKey?i+=10*this.step:i+=this.step,i>=s&&(i=s)):this.#z.activeElement===this["#end-thumb"]&&(t.shiftKey?s+=10*this.step:s+=this.step),this.value=[i,s],!1===tt(e,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else t.shiftKey?this.value+=10*this.step:this.value+=this.step,e!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}}#Us(){if(Array.isArray(this.value)){let[t,e]=this.value;{let e=(t-this.min)/(this.max-this.min)*100;this.vertical?(this["#start-thumb"].style.top=100-e+"%",this["#start-thumb"].hidden=!1):(this["#start-thumb"].style.left=e+"%",this["#start-thumb"].hidden=!1)}{let t=(e-this.min)/(this.max-this.min)*100;this.vertical?(this["#end-thumb"].style.top=100-t+"%",this["#end-thumb"].hidden=!1):(this["#end-thumb"].style.left=t+"%",this["#end-thumb"].hidden=!1)}}else{let t=(this.value-this.min)/(this.max-this.min)*100;this.vertical?(this["#start-thumb"].style.top=100-t+"%",this["#start-thumb"].hidden=!1,this["#end-thumb"].hidden=!0):(this["#start-thumb"].style.left=t+"%",this["#start-thumb"].hidden=!1,this["#end-thumb"].hidden=!0)}}#qs(){if(Array.isArray(this.value)){let[t,e]=this.value,i=(t-this.min)/(this.max-this.min)*100,s=(e-this.min)/(this.max-this.min)*100;this.vertical?(this["#range-track"].style.bottom=`${i}%`,this["#range-track"].style.height=s-i+"%"):(this["#range-track"].style.left=`${i}%`,this["#range-track"].style.width=s-i+"%")}else{let t=(this.value-this.min)/(this.max-this.min)*100,e=((this.min>0?this.min:0)-this.min)/(this.max-this.min)*100;this.vertical?t>=e?(this["#range-track"].style.bottom=`${e}%`,this["#range-track"].style.height=t-e+"%"):(this["#range-track"].style.bottom=`${t}%`,this["#range-track"].style.height=e-t+"%"):t>=e?(this["#range-track"].style.left=`${e}%`,this["#range-track"].style.width=t-e+"%"):(this["#range-track"].style.left=`${t}%`,this["#range-track"].style.width=e-t+"%")}{let[t,e]=this.buffer,i=(t-this.min)/(this.max-this.min)*100,s=(e-this.min)/(this.max-this.min)*100;this.vertical?(this["#buffer-track"].style.bottom=i+"%",this["#buffer-track"].style.height=s-i+"%"):(this["#buffer-track"].style.left=i+"%",this["#buffer-track"].style.width=s-i+"%")}}async#Zs(){await customElements.whenDefined("x-label"),this["#ticks"].innerHTML="";for(let t of this.querySelectorAll(":scope > x-label"))this.vertical?t.style.top=100-(t.value-this.min)/(this.max-this.min)*100+"%":t.style.left=(t.value-this.min)/(this.max-this.min)*100+"%",t===this.firstElementChild?t.style.position="relative":t.style.position=null,this.vertical?this["#ticks"].insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="top: ${t.style.top}"></div>`):this["#ticks"].insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="left: ${t.style.left}"></div>`)}#Vs=Di(this.#Zs,500,this);#G(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0),this["#start-thumb"].tabIndex=this.tabIndex,this["#end-thumb"].tabIndex=this.tabIndex}}customElements.define("x-slider",Ps);class Is extends HTMLElement{static observedAttributes=["disabled"];static#E=De`<template><div id="decrement-button" part="decrement-button" class="button"><svg id="decrement-arrow" part="decrement-arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="decrement-arrow-path"></path></svg></div><div id="increment-button" part="increment-button" class="button"><svg id="increment-arrow" part="increment-arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="increment-arrow-path"></path></svg></div></template>`;static#S=Re`:host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=""]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;-webkit-user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;--path-data:M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z}#decrement-arrow{width:11px;height:11px;pointer-events:none;--path-data:M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z}#decrement-arrow-path,#increment-arrow-path{fill:currentColor}`;get disabled(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement")}set disabled(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t)}#z=null;#Gs=null;#$=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Is.#S],this.#z.append(document.importNode(Is.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.#z.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("contextmenu",(t=>t.preventDefault()))}connectedCallback(){this.#Ys(),Ri.addEventListener("themechange",this.#$=()=>this.#Ys()),"x-numberinput"===this.parentElement.localName&&(this.#Gs=this.parentElement,this.#Gs.setAttribute("hasstepper",""))}disconnectedCallback(){Ri.removeEventListener("themechange",this.#$),this.#Gs&&(null===this.#Gs.querySelector(":scope > x-stepper")&&this.#Gs.removeAttribute("hasstepper",""),this.#Gs=null)}attributeChangedCallback(t){"disabled"===t&&this.#mt()}#Ys(){let t=getComputedStyle(this["#increment-arrow"]).getPropertyValue("--path-data"),e=getComputedStyle(this["#decrement-arrow"]).getPropertyValue("--path-data");this["#increment-arrow-path"].setAttribute("d",t),this["#decrement-arrow-path"].setAttribute("d",e)}#mt(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this["#increment-button"].removeAttribute("data-pressed"),this["#decrement-button"].removeAttribute("data-pressed"))}#j(t){let e=t.target.closest(".button"),i=null;if(e===this["#increment-button"]?i="increment":e===this["#decrement-button"]&&(i="decrement"),!(t.buttons>1||null===i)){this.setPointerCapture(t.pointerId);{let t,s=Date.now();e.setAttribute("data-pressed",""),this.setAttribute("pressed",i),this.addEventListener("pointerup",t=async()=>{this.removeEventListener("pointerup",t),this.removeEventListener("pointercancel",t);let i=Date.now()-s;i<100&&await Li(100-i),e.removeAttribute("data-pressed"),this.removeAttribute("pressed")},{once:!0}),this.addEventListener("pointercancel",t)}{let e,s=null,n=Date.now(),{shiftKey:o}=t;this.dispatchEvent(new CustomEvent(i+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:o}})),this.addEventListener("pointerup",e=()=>{this.removeEventListener("pointerup",e),this.removeEventListener("pointercancel",e),clearInterval(s),this.dispatchEvent(new CustomEvent(i+"end",{bubbles:!0}))}),this.addEventListener("pointercancel",e),s=setInterval((()=>{Date.now()-n>500&&this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:o}}))}),100)}}}}customElements.define("x-stepper",Is);class Os extends HTMLElement{static observedAttributes=["value"];static#E=De`<template><div id="preview"></div></template>`;static#S=Re`:host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden;background-color:#fff;background-size:6px 6px;background-position:0 0,0 3px,3px -3px,-3px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}#preview{width:100%;height:100%;position:relative}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"white"}set value(t){this.setAttribute("value",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Os.#S],this.#z.append(document.importNode(Os.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t}connectedCallback(){this.#Ke()}attributeChangedCallback(t){"value"===t&&this.#Ke()}#Ke(){this["#preview"].style.background=this.value}}customElements.define("x-swatch",Os);class Bs extends HTMLElement{static observedAttributes=["toggled","disabled"];static#E=De`<template><main id="main"><div id="indicator" part="indicator"><div id="indicator-track" part="indicator-track"><div id="indicator-thumb" part="indicator-thumb" style="transition: none;"></div></div></div><div id="description"><slot></slot></div></main></template>`;static#S=Re`:host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}`;get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#H=0;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Bs.#S],this.#z.append(document.importNode(Bs.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("keydown",(t=>this.#Z(t)))}connectedCallback(){Li(100).then((()=>this["#indicator-thumb"].style.transition=null)),this.#G()}disconnectedCallback(){this["#indicator-thumb"].style.transition="none"}attributeChangedCallback(t){"toggled"===t?this.#ut():"disabled"===t&&this.#mt()}#G(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0)}#ut(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled)}#mt(){this.#G()}#j(t){if(t.buttons>1)t.preventDefault();else if(!1===this.matches(":focus")){t.preventDefault();let e=Oi(this.parentNode,"[tabindex]");e&&e.focus()}}async#T(t){this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))}#Z(t){"Enter"!==t.code&&"NumpadEnter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-switch",Bs);class Fs extends HTMLElement{static observedAttributes=["selected","disabled"];static#E=De`<template><div id="selection-indicator" part="selection-indicator"></div><div id="content"><slot></slot></div></template>`;static#S=Re`:host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;-webkit-user-select:none;box-sizing:border-box;font-size:14px}:host(:focus){z-index:10;outline:0}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):""}set value(t){this.setAttribute("value",t)}get selected(){return this.hasAttribute("selected")}set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Fs.#S],this.#z.append(document.importNode(Fs.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.addEventListener("pointerdown",(t=>this.#j(t)))}connectedCallback(){this.#G()}attributeChangedCallback(t){("selected"===t||"disabled"===t)&&this.#G()}animateSelectionIndicator(t){return new Promise((async e=>{if("0px"!==getComputedStyle(this["#selection-indicator"]).height){let e=this.getBoundingClientRect(),i=t.getBoundingClientRect(),s=this["#selection-indicator"].animate([{left:"0px",width:e.width+"px"},{left:i.left-e.left+"px",width:i.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});await s.finished}e()}))}#G(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1")}async#j(t){if(!1===this.matches(":focus")){t.preventDefault();let e=Oi(this.parentNode,"[tabindex]");e&&e.focus()}if(!(t.buttons>1)){this.setPointerCapture(t.pointerId);{let t,e=Date.now();this.setAttribute("pressed",""),this.addEventListener("pointerup",t=async()=>{if(this.removeEventListener("pointerup",t),this.removeEventListener("pointercancel",t),!0===this.selected){let t=Date.now()-e,i=100;t<i&&await Li(i-t)}this.removeAttribute("pressed")}),this.addEventListener("pointercancel",t)}}}}customElements.define("x-tab",Fs);class Ns extends HTMLElement{static#E=De`<template><slot></slot></template>`;static#S=Re`:host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}`;get value(){let t=this.querySelector("x-tab[selected]");return t?t.value:null}set value(t){let e=[...this.querySelectorAll("x-tab")],i=null===t?null:e.find((e=>e.value===t));for(let t of e)t.selected=t===i}#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Ns.#S],this.#z.append(document.importNode(Ns.#E.content,!0)),this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("keydown",(t=>this.#Z(t)))}connectedCallback(){this.setAttribute("role","tablist")}async#T(t){if(!(t.buttons>1)&&t.target.closest("x-tab")){let e=this.querySelectorAll("x-tab"),i=t.target.closest("x-tab"),s=this.querySelector("x-tab[selected]");if(i!==s){s&&await s.animateSelectionIndicator(i);for(let t of e)t.selected=t===i;this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}}#Z(t){if("Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code){let e=t.target;e.querySelector("x-label"),t.preventDefault(),e.click()}else if("ArrowLeft"===t.code){let e=[...this.querySelectorAll("x-tab:not([disabled])")],i=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),i&&e.length>0){let t=e.indexOf(i),s=e[t-1]||e[e.length-1];i.tabIndex=-1,s.tabIndex=0,s.focus()}}else if("ArrowRight"===t.code){let e=[...this.querySelectorAll("x-tab:not([disabled])")],i=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),i&&e.length>0){let t=e.indexOf(i),s=e[t+1]||e[0];i.tabIndex=-1,s.tabIndex=0,s.focus()}}}}customElements.define("x-tabs",Ns);class Hs extends HTMLElement{static#E=De`<template><div id="container"><div id="scope" part="scope"><slot id="scope-slot" name="scope"></slot></div><main id="main" part="main"><slot></slot><svg id="remove-button" part="remove-button" width="12" height="12" viewBox="0 0 100 100"><path id="remove-button-path"></path></svg></main></div></template>`;static#S=Re`:host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;fill:currentColor;color:inherit;--path-data:M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{fill:inherit;pointer-events:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get removable(){return this.hasAttribute("removable")}set removable(t){t?this.setAttribute("removable",""):this.removeAttribute("removable")}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#$=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Hs.#S],this.#z.append(document.importNode(Hs.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this["#scope-slot"].addEventListener("slotchange",(()=>this.#Ks())),this["#remove-button"].addEventListener("click",(t=>this.#_s(t)))}connectedCallback(){this.#Ws(),this.#Ks(),Ri.addEventListener("themechange",this.#$=()=>this.#Ws()),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1}disconnectedCallback(){Ri.removeEventListener("themechange",this.#$)}#_s(t){t.buttons<=1&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}))}#Ws(){let t=getComputedStyle(this["#remove-button"]).getPropertyValue("--path-data");this["#remove-button-path"].setAttribute("d",t)}#Ks(){0===this["#scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","")}}customElements.define("x-tag",Hs);class js extends HTMLElement{static#E=De`<template><slot></slot></template>`;static#S=Re`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}`;get value(){return[...this.children].filter((t=>"x-tag"===t.localName)).filter((t=>t.toggled)).map((t=>t.value)).filter((t=>null!==t))}set value(t){let e=[...this.children].filter((t=>"x-tag"===t.localName));for(let i of e)i.toggled=t.includes(i.value)}#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[js.#S],this.#z.append(document.importNode(js.#E.content,!0)),this.addEventListener("pointerdown",(t=>this.#j(t))),this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("keydown",(t=>this.#Z(t)))}#j(t){if(t.buttons>1)t.preventDefault();else if(t.preventDefault(),!1===this.matches(":focus")){let t=Oi(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("pointerup",(()=>{t?t.focus():this.blur()}),{once:!0})}}#T(t){let e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})))}#Z(t){if(!1===t.defaultPrevented)if("Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code){let e=this.querySelector("x-tag:focus");e&&(t.preventDefault(),e.click())}else if("ArrowRight"===t.code){let t=this.querySelector("x-tag:focus");t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===t.code){let t=this.querySelector("x-tag:focus");t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-tags",js);class qs extends HTMLElement{static observedAttributes=["spellcheck","disabled"];static#E=De`<template><main id="main"><div id="tags"><slot></slot><input id="input" type="text" part="input" spellcheck="false" tabindex="0"></div></main><x-popover id="suggestions-popover" part="suggestions"><div id="suggested-tags"></div></x-popover></template>`;static#S=Re`:host{display:block;position:relative;min-height:29px;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{width:10px;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;background:0 0;border:none;outline:0;font-size:inherit}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}`;get value(){return[...this.children].filter((t=>"x-tag"===t.localName)).map((t=>t.value)).filter((t=>null!==t))}get delimiter(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):","}set delimiter(t){this.setAttribute("delimiter",t)}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get suggestions(){return this.hasAttribute("suggestions")}set suggestions(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;#H=0;constructor(){super(),this.#z=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#z.adoptedStyleSheets=[Ri.themeStyleSheet,qs.#S],this.#z.append(document.importNode(qs.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.#z.addEventListener("pointerdown",(t=>this.#hs(t))),this.#z.addEventListener("remove",(t=>this.#_s(t))),this.#z.addEventListener("keydown",(t=>this.#Z(t))),this["#input"].addEventListener("focusin",(t=>this.#Js(t))),this["#input"].addEventListener("focusout",(t=>this.#Qs(t))),this["#input"].addEventListener("input",(t=>this.#Mt(t)))}connectedCallback(){this.#tn(),this.#G()}attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.#ri():"disabled"===t&&this.#mt())}clear(){let t=[...this.children].filter((t=>"x-tag"===t.localName));if(t.length>0){for(let e of t)e.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:e}));this.#en(),this.#tn(),this.dispatchEvent(new CustomEvent("change"))}}getSuggestions(t){return[]}#in(){let t=this["#input"].value;if(this["#input"].value="",this.#sn(),t.endsWith(this.delimiter)&&(t=t.substring(0,t.length-1)),t=t.trim(),t.length>0&&!1===this.value.includes(t)){let e;if(t.includes(":")){let[i,s]=t.split(":").map((t=>t.trim()));e=De`<x-tag class="tag" value="${t}" removable><x-label slot="scope">${i}</x-label><x-label>${s}</x-label></x-tag>`}else e=De`<x-tag class="tag" value="${t}" removable><x-label>${t}</x-label></x-tag>`;this.append(e),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}this["#input"].style.minWidth="0px",this["#input"].style.minWidth=this["#input"].scrollWidth+"px"}#nn(){this["#suggested-tags"].innerHTML="",!0===this["#suggestions-popover"].opened&&this["#suggestions-popover"].close()}#hs(t){if(t.target===this["#input"])this["#input"].value.length>0&&this.#nn();else if(t.target===this["#main"]||t.target===this["#tags"])t.preventDefault(),this["#input"].focus(),this.#en(!1);else if(t.target.closest("x-popover")){t.preventDefault();let e=t.target.closest("x-tag");e&&(this.append(e),this["#input"].value="",this.#sn(),this.#en(!1),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}else t.target.closest("x-tag")&&""!==this["#input"].value&&(this.#in(),this.#en(),this.#tn())}#_s(t){t.stopPropagation();let e=t.target;e.remove(),this.#tn(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}#ri(){this["#input"].spellcheck=this.spellcheck}#mt(){this.#G()}async#Js(){this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#Qs(){this.#in(),this.#tn(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this["#suggestions-popover"].close()}#Mt(t){this["#input"].value.includes(this.delimiter)?(this.#in(),this.#tn(),this.#sn(),this.#en(!1)):(this.dispatchEvent(new CustomEvent("input")),this.#tn(),this.#sn(),this.#en("deleteContentBackward"!==t.inputType))}#Z(t){if("Enter"===t.code||"NumpadEnter"===t.code)t.target===this["#input"]&&(t.preventDefault(),this.#in(),this.#en(!1),this.#tn(),this.#sn());else if("Backspace"===t.code){if(t.target===this["#input"]){if(0===this["#input"].value.length){let t=[...this.children].filter((t=>"x-tag"===t.localName)),e=t[t.length-1]||null;e&&(e.remove(),this.#en(),this.#tn(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}}else if("x-tag"===t.target.localName){let e=[...this.children].filter((t=>"x-tag"===t.localName)),i=t.target,s=e.indexOf(i),n=e[s+1]||null,o=e[s-1]||null;n?n.focus():o?o.focus():this["#input"].focus(),i.remove(),this.#tn(),this.dispatchEvent(new CustomEvent("remove",{detail:i})),this.dispatchEvent(new CustomEvent("change"))}}else if("ArrowDown"===t.code){if(this["#suggestions-popover"].opened){let e=[...this["#suggested-tags"].children];if(e.length>1){t.preventDefault();let i=null;{let t=e.find((t=>t.toggled));if(t){t.toggled=!1;let s=e.indexOf(t);i=e[s+1]||e[0]}else i=e[0]}i.toggled=!0,i.scrollIntoViewIfNeeded();{let t=i.querySelector("x-label").textContent,e=this["#input"].selectionStart;this["#input"].value=t,this.#sn(),this.#on(e,t.length)}}}}else if("ArrowUp"===t.code){if(this["#suggestions-popover"].opened){let e=[...this["#suggested-tags"].children];if(e.length>1){t.preventDefault();let i=null;{let t=e.find((t=>t.toggled));if(t){t.toggled=!1;let s=e.indexOf(t);i=e[s-1]||e[e.length-1]}else i=e[e.length-1]}i.toggled=!0,i.scrollIntoViewIfNeeded();{let t=i.querySelector("x-label").textContent,e=this["#input"].selectionStart;this["#input"].value=t,this.#sn(),this.#on(e,t.length)}}}}else"ArrowLeft"!==t.code&&"ArrowRight"!==t.code||this.#nn()}#It(){this.#tn()}#tn(){let t=this.querySelector(":scope > x-label");t&&(t.hidden=this.value.length>0||this["#input"].value.length>0)}#G(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0)}#sn(){this["#input"].style.minWidth="0px",this["#input"].style.minWidth=this["#input"].scrollWidth+"px"}#on(t=0,e=this["#input"].value.length){this["#input"].selectionStart=t,this["#input"].selectionEnd=e}#en(t=!0){if(this.suggestions){let e=this["#input"].value;this["#input"].selectionStart!==this["#input"].selectionEnd&&(e=e.substring(0,this["#input"].selectionStart));let i=this.getSuggestions(e);if(i.length>0&&!0===t){let t=this["#input"].value,e=i[0].querySelector("x-label").textContent;this["#input"].value=e,this.#sn(),this.#on(t.length,e.length)}if(0===i.length)this["#suggested-tags"].innerHTML="",!0===this["#suggestions-popover"].opened&&this["#suggestions-popover"].close();else{let s=this["#input"].getBoundingClientRect();this["#suggested-tags"].innerHTML="",this["#suggested-tags"].append(...i),!0===t&&e.length>0&&(i[0].toggled=!0),!1===this["#suggestions-popover"].opened||this["#suggestions-popover"].close(!1),this["#suggestions-popover"].open(s),this["#suggested-tags"].scrollTop=0}}}}customElements.define("x-tagsinput",qs);class Us extends HTMLElement{static observedAttributes=["value","spellcheck","disabled","validation"];static#E=De`<template><main id="main"><slot></slot><div id="editor" contenteditable="plaintext-only" spellcheck="false"></div></main></template>`;static#S=Re`:host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px;overflow:auto}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;width:100%;min-height:100%}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit}`;get value(){return this["#editor"].textContent}set value(t){this["#editor"].textContent=t,"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#wt||this.#ni)&&this.reportValidity(),this.#xt()}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get empty(){return this.hasAttribute("empty")}get error(){return this.hasAttribute("error")}#z=null;#hn="";#H=0;#wt=null;#ni=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#z.adoptedStyleSheets=[Us.#S],this.#z.append(document.importNode(Us.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t;this.addEventListener("click",(t=>this.#T(t))),this.addEventListener("focusin",(t=>this.#St(t))),this.addEventListener("focusout",(t=>this.#zt(t))),this["#editor"].addEventListener("click",(t=>this.#rn(t))),this["#editor"].addEventListener("input",(t=>this.#as(t))),"gecko"===$i()&&(this["#editor"].setAttribute("contenteditable",""),this["#editor"].addEventListener("beforeinput",(t=>{if("insertFromPaste"===t.inputType&&t.dataTransfer.types.includes("text/plain")){t.preventDefault();let e=window.getSelection(),i=e.getRangeAt(0);i.deleteContents(),i.insertNode(document.createTextNode(t.dataTransfer.getData("text/plain"))),e.collapseToEnd()}})))}connectedCallback(){this.#G(),this.#xt(),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#wt||this.#ni)&&this.reportValidity()}attributeChangedCallback(t){"value"===t?this.#Bt():"spellcheck"===t?this.#ri():"disabled"===t?this.#mt():"validation"===t&&this.#di()}reportValidity(){let t=new CustomEvent("beforevalidate",{bubbles:!1,cancelable:!0});return this.dispatchEvent(t),!1===t.defaultPrevented&&(this.value.length<this.minLength?this.#wt={href:"#entered-text-is-too-short"}:this.value.length>this.maxLength?this.#wt={href:"#entered-text-is-too-long"}:this.required&&0===this.value.length?this.#wt={href:"#required-field"}:this.#wt=null,this.#Nt()),null===this.#wt&&null===this.#ni}setCustomValidity(t){this.#ni=""===t?null:t,this.#Nt()}#Nt(){let t=this.#ni||this.#wt;t?this.setAttribute("error",""):this.removeAttribute("error");{let e=this.querySelector(':scope > x-tooltip[type="error"]');if(t&&this.matches(":focus")){if(e||(e=Pi("x-tooltip"),e.setAttribute("type","error"),this.append(e)),t.href){let i=t.args?Object.entries(t.args).map((([t,e])=>`${t}:${e}`)).join(","):"";e.innerHTML=`<x-message href="${t.href}" args="${i}"></x-message>`}else e.innerHTML=t;Li(10).then((()=>{e.open(this)}))}else e&&e.close().then((()=>e.remove()))}}#xt(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}#G(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#H=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#H>0?this.#H:0),this.#H=0)}#Bt(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll")}#ri(){this["#editor"].spellcheck=this.spellcheck}#mt(){this["#editor"].disabled=this.disabled,this.#G()}#di(){"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#wt||this.#ni)&&this.reportValidity()}#T(){this.#Nt()}#St(){this.#hn=this.value,this.#Nt(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#zt(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"webkit"!==$i()&&this.#z.getSelection().collapse(this["#main"]),"auto"===this.validation||"instant"===this.validation?this.reportValidity():"manual"===this.validation&&this.#Nt(),null!==(this.#wt||this.#ni)||this.value===this.#hn&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))}#rn(t){t.detail>=4&&document.execCommand("selectAll")}#as(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.#xt(),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#wt||this.#ni)&&this.reportValidity()}}customElements.define("x-texteditor",Us);class Zs extends HTMLElement{static observedAttributes=["type"];static#an=De`<template><svg data-type="ring" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40"><animate attributeName="stroke-dasharray" values="0,1000; 200,1000; 245,1000" begin="0s" dur="2s" calcMode="spline" keyTimes="0; 0.5; 1" keySplines="0.8 0.25 0.25 0.9; 0.8 0.25 0.25 0.9" repeatCount="indefinite"></animate><animate attributeName="stroke-dashoffset" values="0px;0px;-260px" begin="0s" dur="2s" keyTimes="0; 0.5; 1" repeatCount="indefinite"></animate><animateTransform type="rotate" additive="sum" attributeName="transform" values="0;360" begin="0s" dur="2s" fill="freeze" repeatCount="indefinite" keyTimes="0; 1"></animateTransform></circle></svg></template>`;static#ln=De`<template><svg data-type="spin" viewBox="0 0 100 100"><rect transform="rotate(  0 50 50) translate(0 -38)"></rect><rect transform="rotate( 30 50 50) translate(0 -38)"></rect><rect transform="rotate( 60 50 50) translate(0 -38)"></rect><rect transform="rotate( 90 50 50) translate(0 -38)"></rect><rect transform="rotate(120 50 50) translate(0 -38)"></rect><rect transform="rotate(150 50 50) translate(0 -38)"></rect><rect transform="rotate(180 50 50) translate(0 -38)"></rect><rect transform="rotate(210 50 50) translate(0 -38)"></rect><rect transform="rotate(240 50 50) translate(0 -38)"></rect><rect transform="rotate(270 50 50) translate(0 -38)"></rect><rect transform="rotate(300 50 50) translate(0 -38)"></rect><rect transform="rotate(330 50 50) translate(0 -38)"></rect></svg></template>`;static#S=Re`:host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] circle{fill:none;stroke:currentColor;stroke-linecap:round;stroke-width:10px;stroke-dasharray:10,1000;transform-box:fill-box;transform-origin:50% 50%}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:first-child{animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"ring"}set type(t){this.setAttribute("type",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#z=null;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Zs.#S]}connectedCallback(){this.#It()}attributeChangedCallback(t,e,i){e!==i&&"type"===t&&this.#It()}#It(){let t=this.#z.firstElementChild,e="ring"===this.type?Zs.#an:Zs.#ln;null===t?this.#z.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type)}}customElements.define("x-throbber",Zs);class Xs extends HTMLElement{static observedAttributes=["disabled"];static#E=De`<template><slot></slot></template>`;static#S=Re`:host{display:none;bottom:-30px;position:fixed;padding:3px 10px;width:fit-content;height:fit-content;max-width:300px;box-sizing:border-box;pointer-events:none;border-width:1px;border-style:solid;font-size:12px;z-index:99999;--align:bottom;--whitespace:8px;--open-transition:0 opacity cubic-bezier(0.4, 0, 0.2, 1);--close-transition:0 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:block}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"hint"}set type(t){this.setAttribute("type",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get opened(){return this.hasAttribute("opened")}#z=null;#Ss=null;#$s;constructor(){super(),this.#z=this.attachShadow({mode:"closed"}),this.#z.adoptedStyleSheets=[Xs.#S],this.#z.append(document.importNode(Xs.#E.content,!0));for(let t of this.#z.querySelectorAll("[id]"))this["#"+t.id]=t}attributeChangedCallback(t){"disabled"===t&&this.disabled&&this.opened&&this.close()}open(t,e=!0){return new Promise((async i=>{if(!1===this.opened&&this.isConnected){if(this.setAttribute("opened",""),this.#Ts(t),this.#Ss=Bi(this),this.#Ss&&this.#Ss.addEventListener("scroll",this.#$s=()=>{this.close()},{once:!0}),e){let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=gs(t);"opacity"===e&&await this.animate({opacity:["0","1"]},{duration:i,easing:s}).finished}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}))}i()}))}close(t=!0){return new Promise((async e=>{if(!0===this.opened){if(this.removeAttribute("opened"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this})),this.#Ss.removeEventListener("scroll",this.#$s),t){let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=gs(t);this.setAttribute("animating",""),"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished}this.removeAttribute("animating")}e()}))}#Ts(t){let e=getComputedStyle(this).getPropertyValue("--align").trim();parseInt(getComputedStyle(this).borderWidth);let i=parseInt(getComputedStyle(this).getPropertyValue("--whitespace")),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{let e=Ut(this.getBoundingClientRect());0===e.top&&0===e.left||(s=-e.left,n=-e.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect}if("bottom"===e||"top"===e){let t=(t=!1)=>{this.style.maxHeight=null;let e=Ut(this.getBoundingClientRect()),s=0;if(this.style.top=n+o.bottom+i+"px",e=Ut(this.getBoundingClientRect()),s=e.bottom+8-window.innerHeight,t&&s>0){let t=e.height-s;s=0,this.style.maxHeight=t+"px"}return s},h=(t=!1)=>{this.style.maxHeight=null;let e=Ut(this.getBoundingClientRect()),s=0;if(this.style.top=n+o.top-i-e.height+"px",e=Ut(this.getBoundingClientRect()),s=-(e.top-8),t&&s>0){let t=e.height-s;s=0,this.style.maxHeight=t+"px",this.style.top=n+o.top-i-t+"px"}return s},r=()=>{this.style.maxWidth=null;let t=Ut(this.getBoundingClientRect()),e=0,i=0;return this.style.left=s+o.left+o.width/2-t.width/2+"px",t=Ut(this.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i]},a=(t=!1)=>{this.style.maxWidth=null;let e=Ut(this.getBoundingClientRect()),i=0;if(this.style.left=s+window.innerWidth-8-e.width+"px",e=Ut(this.getBoundingClientRect()),i=-(e.left-8),t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px",this.style.left=s+window.innerWidth-8-t+"px"}return i},l=(t=!1)=>{this.style.maxWidth=null;let e=Ut(this.getBoundingClientRect()),i=0;if(this.style.left=s+8+"px",e=Ut(this.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px"}return i};if("bottom"===e){let e=t();if(e>0){let i=h();i>0&&(i>e?t(!0):h(!0))}}else if("top"===e){let e=h();if(e>0){let i=t();i>0&&(i>e?h(!0):t(!0))}}{let[t,e]=r();e>0?(t=a(),t>0&&a(!0)):t>0&&(e=l(),e>0&&l(!0))}}else if("right"===e||"left"===e){let t=(t=!1)=>{this.style.maxWidth=null;let e=Ut(this.getBoundingClientRect()),n=0;if(this.style.left=s+o.right+i+"px",e=Ut(this.getBoundingClientRect()),n=e.right+8-window.innerWidth,t&&n>0){let t=e.width-n;n=0,this.style.maxWidth=t+"px"}return n},h=(t=!1)=>{this.style.maxWidth=null;let e=Ut(this.getBoundingClientRect()),n=0;if(this.style.left=s+o.left-i-e.width+"px",e=Ut(this.getBoundingClientRect()),n=-(e.left-8),t&&n>0){let t=e.width-n;n=0,this.style.maxWidth=t+"px",this.style.left=s+o.left-i-t+"px"}return n},r=()=>{this.style.maxHeight=null;let t=Ut(this.getBoundingClientRect()),e=0,i=0;return this.style.top=n+o.top+o.height/2-t.height/2+"px",t=Ut(this.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i]},a=(t=!1)=>{this.style.maxHeight=null;let e=Ut(this.getBoundingClientRect()),i=0;if(this.style.top=n+window.innerHeight-8-e.height+"px",e=Ut(this.getBoundingClientRect()),i=-(e.top-8),t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px",this.style.top=n+window.innerHeight-8-t+"px"}return i},l=(t=!1)=>{this.style.maxHeight=null;let e=Ut(this.getBoundingClientRect()),i=0;if(this.style.top=n+8+"px",e=Ut(this.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px"}return i};if("right"===e){let e=t();if(e>0){let i=h();i>0&&(i>e?t(!0):h(!0))}}else if("left"===e){let e=h();if(e>0){let i=t();i>0&&(i>e?h(!0):t(!0))}}{let[t,e]=r();e>0?(t=a(),t>0&&a(!0)):t>0&&(e=l(),e>0&&l(!0))}}}}customElements.define("x-tooltip",Xs);export{Ri as default};